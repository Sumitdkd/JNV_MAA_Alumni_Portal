{"ast":null,"code":"var _jsxFileName = \"/Users/sumitdhaker/Desktop/JNV MAA/frontend/src/pages/GroupChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport messageService from '../services/messageService';\nimport groupService from '../services/groupService';\nimport useAuth from '../hooks/useAuth';\nimport { useSocket } from '../context/SocketContext';\nimport toast from 'react-hot-toast';\nimport Spinner from '../components/common/Spinner';\nimport { PaperAirplaneIcon, ArrowLeftIcon } from '@heroicons/react/24/solid';\nimport NotMemberModal from '../components/groups/NotMemberModal';\nimport { MentionsInput, Mention } from 'react-mentions';\nimport userService from '../services/userService';\nimport StyledText from '../components/common/StyledText';\nimport '../components/posts/mentionStyle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL.replace(\"/api\", \"\");\nexport default function GroupChat() {\n  _s();\n  const {\n    id: groupId\n  } = useParams();\n  const {\n    user: authUser\n  } = useAuth();\n  const socket = useSocket();\n  const [group, setGroup] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const messagesEndRef = useRef(null);\n  const [isGroupMember, setIsGroupMember] = useState(false);\n  const [isNotMemberModalOpen, setNotMemberModalOpen] = useState(false);\n  const CloseNotMemberModal = () => {\n    setNotMemberModalOpen(false);\n    window.location.href = '/groups';\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    const fetchGroupData = async () => {\n      setLoading(true);\n      try {\n        const [groupRes, messagesRes] = await Promise.all([groupService.getGroupDetails(groupId), messageService.getMessages(groupId)]);\n        setGroup(groupRes.data.data);\n        setMessages(messagesRes.data.data);\n      } catch (error) {\n        toast.error(\"Failed to load chat data.\");\n        console.error(error);\n        setNotMemberModalOpen(true);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchGroupData();\n  }, [groupId]);\n  useEffect(() => {\n    if (socket) {\n      socket.emit('join_group', groupId);\n      const messageListener = receivedMessage => {\n        if (receivedMessage.group === groupId) {\n          setMessages(prevMessages => [...prevMessages, receivedMessage]);\n        }\n      };\n      socket.on('receive_message', messageListener);\n      return () => {\n        socket.off('receive_message', messageListener);\n      };\n    }\n  }, [socket, groupId]);\n  useEffect(() => {\n    const checkGroupMembership = async () => {\n      try {\n        const res = await groupService.isGroupMember(groupId);\n        setIsGroupMember(res.data.isMember);\n        if (!res.data.isMember) {\n          setNotMemberModalOpen(true);\n        }\n      } catch (error) {\n        console.error(\"Error checking group membership:\", error);\n        setIsGroupMember(false);\n      }\n    };\n    checkGroupMembership();\n  }, [groupId]);\n  useEffect(scrollToBottom, [messages]);\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (!socket || !socket.connected) {\n      toast.error(\"You are not connected to the chat. Please refresh.\");\n      return;\n    }\n    if (!newMessage.trim() || !authUser) return;\n    socket.emit('send_message', {\n      groupId,\n      text: newMessage\n    });\n    setNewMessage('');\n  };\n  const fetchUsersForMention = (query, callback) => {\n    if (!query) return;\n    userService.searchUsers(query).then(res => callback(res.data.data)).catch(() => callback([]));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 25\n  }, this);\n  if (!group) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center py-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-muted\",\n      children: \"Group not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/groups\",\n      className: \"mt-4 inline-block text-primary hover:underline\",\n      children: \"\\u2190 Back to all groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n  if (!isGroupMember && !loading) {\n    return /*#__PURE__*/_jsxDEV(NotMemberModal, {\n      isOpen: isNotMemberModalOpen,\n      onClose: CloseNotMemberModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[75vh] sm:h-[80vh] flex flex-col bg-surface rounded-xl sm:rounded-2xl shadow-2xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 sm:p-4 border-b flex items-center space-x-3 sm:space-x-4 sticky top-0 bg-surface rounded-t-xl sm:rounded-t-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/groups\",\n        className: \"text-primary hover:text-primary-dark p-1.5 sm:p-2 rounded-full hover:bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n          className: \"w-5 h-5 sm:w-6 sm:h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-lg sm:text-2xl font-bold text-on-surface truncate\",\n        children: group.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-3 sm:p-6 overflow-y-auto\",\n      children: [messages.length > 0 ? messages.map(msg => {\n        var _msg$sender, _msg$sender2, _msg$sender2$profileP, _msg$sender3, _msg$sender4, _msg$sender5, _msg$sender6;\n        const isMyMessage = ((_msg$sender = msg.sender) === null || _msg$sender === void 0 ? void 0 : _msg$sender._id) === (authUser === null || authUser === void 0 ? void 0 : authUser._id);\n        const profileImageUrl = (_msg$sender2 = msg.sender) !== null && _msg$sender2 !== void 0 && (_msg$sender2$profileP = _msg$sender2.profilePicture) !== null && _msg$sender2$profileP !== void 0 && _msg$sender2$profileP.startsWith('http') ? msg.sender.profilePicture : (_msg$sender3 = msg.sender) !== null && _msg$sender3 !== void 0 && _msg$sender3.profilePicture && msg.sender.profilePicture !== 'no-photo.jpg' ? `${API_URL}${msg.sender.profilePicture}` : `https://ui-avatars.com/api/?name=${(_msg$sender4 = msg.sender) === null || _msg$sender4 === void 0 ? void 0 : _msg$sender4.fullName}&background=8344AD&color=fff`;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex my-2 items-end gap-2 ${isMyMessage ? 'justify-end' : 'justify-start'}`,\n          children: [!isMyMessage && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profileImageUrl,\n            alt: (_msg$sender5 = msg.sender) === null || _msg$sender5 === void 0 ? void 0 : _msg$sender5.fullName,\n            className: \"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover self-start flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-2.5 sm:p-3 rounded-2xl max-w-[75%] sm:max-w-lg ${isMyMessage ? 'bg-primary text-white rounded-br-none' : 'bg-gray-200 text-on-surface rounded-bl-none'}`,\n            children: [!isMyMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-xs mb-1 text-primary-dark truncate\",\n              children: (_msg$sender6 = msg.sender) === null || _msg$sender6 === void 0 ? void 0 : _msg$sender6.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(StyledText, {\n              text: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 33\n          }, this)]\n        }, msg._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-muted py-8 sm:py-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base\",\n          children: \"No messages yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs sm:text-sm\",\n          children: \"Be the first to start the conversation!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 sm:p-4 border-t bg-gray-50 rounded-b-xl sm:rounded-b-2xl\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSendMessage,\n        className: \"grid grid-cols-[1fr_auto] gap-3 sm:gap-4 w-full max-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-full overflow-hidden pr-1\",\n          children: /*#__PURE__*/_jsxDEV(MentionsInput, {\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            placeholder: \"Type a message...\",\n            className: \"mentions\",\n            a11ySuggestionsListLabel: \"Suggested users for mention\",\n            style: {\n              width: '100%',\n              maxWidth: '100%',\n              overflow: 'hidden'\n            },\n            children: /*#__PURE__*/_jsxDEV(Mention, {\n              trigger: \"@\",\n              data: fetchUsersForMention,\n              markup: \"@[__display__]\",\n              displayTransform: (id, display) => `@${display}`,\n              className: \"mentions__mention\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"p-2.5 sm:p-3 bg-primary rounded-full text-white hover:bg-primary-dark transition-colors disabled:opacity-50\",\n          disabled: !newMessage.trim(),\n          style: {\n            minWidth: '44px',\n            width: '44px',\n            height: '44px',\n            flexShrink: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n            className: \"w-5 h-5 sm:w-6 sm:h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 9\n  }, this);\n}\n_s(GroupChat, \"qvdwmRr3P4k2stAYLDiO0Qa9Hgo=\", false, function () {\n  return [useParams, useAuth, useSocket];\n});\n_c = GroupChat;\nvar _c;\n$RefreshReg$(_c, \"GroupChat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","Link","messageService","groupService","useAuth","useSocket","toast","Spinner","PaperAirplaneIcon","ArrowLeftIcon","NotMemberModal","MentionsInput","Mention","userService","StyledText","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","replace","GroupChat","_s","id","groupId","user","authUser","socket","group","setGroup","messages","setMessages","newMessage","setNewMessage","loading","setLoading","messagesEndRef","isGroupMember","setIsGroupMember","isNotMemberModalOpen","setNotMemberModalOpen","CloseNotMemberModal","window","location","href","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","fetchGroupData","groupRes","messagesRes","Promise","all","getGroupDetails","getMessages","data","error","console","emit","messageListener","receivedMessage","prevMessages","on","off","checkGroupMembership","res","isMember","handleSendMessage","e","preventDefault","connected","trim","text","fetchUsersForMention","query","callback","searchUsers","then","catch","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","isOpen","onClose","name","length","map","msg","_msg$sender","_msg$sender2","_msg$sender2$profileP","_msg$sender3","_msg$sender4","_msg$sender5","_msg$sender6","isMyMessage","sender","_id","profileImageUrl","profilePicture","startsWith","fullName","src","alt","ref","onSubmit","value","onChange","target","placeholder","a11ySuggestionsListLabel","style","width","maxWidth","overflow","trigger","markup","displayTransform","display","type","disabled","minWidth","height","flexShrink","_c","$RefreshReg$"],"sources":["/Users/sumitdhaker/Desktop/JNV MAA/frontend/src/pages/GroupChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport messageService from '../services/messageService';\nimport groupService from '../services/groupService';\nimport useAuth from '../hooks/useAuth';\nimport { useSocket } from '../context/SocketContext';\nimport toast from 'react-hot-toast';\nimport Spinner from '../components/common/Spinner';\nimport { PaperAirplaneIcon, ArrowLeftIcon } from '@heroicons/react/24/solid';\nimport NotMemberModal from '../components/groups/NotMemberModal';\nimport { MentionsInput, Mention } from 'react-mentions';\nimport userService from '../services/userService';\nimport StyledText from '../components/common/StyledText';\nimport '../components/posts/mentionStyle.css';\n\nconst API_URL = process.env.REACT_APP_API_URL.replace(\"/api\", \"\");\n\nexport default function GroupChat() {\n    const { id: groupId } = useParams();\n    const { user: authUser } = useAuth();\n    const socket = useSocket();\n\n    const [group, setGroup] = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [newMessage, setNewMessage] = useState('');\n    const [loading, setLoading] = useState(true);\n    const messagesEndRef = useRef(null);\n\n    const [isGroupMember, setIsGroupMember] = useState(false);\n    const [isNotMemberModalOpen, setNotMemberModalOpen] = useState(false);\n\n    const CloseNotMemberModal = () => {\n        setNotMemberModalOpen(false);\n        window.location.href = '/groups';\n    };\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    };\n\n    useEffect(() => {\n        const fetchGroupData = async () => {\n            setLoading(true);\n            try {\n                const [groupRes, messagesRes] = await Promise.all([\n                    groupService.getGroupDetails(groupId),\n                    messageService.getMessages(groupId),\n                ]);\n                setGroup(groupRes.data.data);\n                setMessages(messagesRes.data.data);\n            } catch (error) {\n                toast.error(\"Failed to load chat data.\");\n                console.error(error);\n                setNotMemberModalOpen(true);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchGroupData();\n    }, [groupId]);\n\n    useEffect(() => {\n        if (socket) {\n            socket.emit('join_group', groupId);\n            const messageListener = (receivedMessage) => {\n                if (receivedMessage.group === groupId) {\n                    setMessages((prevMessages) => [...prevMessages, receivedMessage]);\n                }\n            };\n            socket.on('receive_message', messageListener);\n            return () => {\n                socket.off('receive_message', messageListener);\n            };\n        }\n    }, [socket, groupId]);\n\n    useEffect(() => {\n        const checkGroupMembership = async () => {\n            try {\n                const res = await groupService.isGroupMember(groupId);\n                setIsGroupMember(res.data.isMember);\n                if (!res.data.isMember) {\n                    setNotMemberModalOpen(true);\n                }\n            } catch (error) {\n                console.error(\"Error checking group membership:\", error);\n                setIsGroupMember(false);\n            }\n        };\n        checkGroupMembership();\n    }, [groupId]);\n\n    useEffect(scrollToBottom, [messages]);\n\n    const handleSendMessage = (e) => {\n        e.preventDefault();\n        if (!socket || !socket.connected) {\n            toast.error(\"You are not connected to the chat. Please refresh.\");\n            return;\n        }\n        if (!newMessage.trim() || !authUser) return;\n\n        socket.emit('send_message', {\n            groupId,\n            text: newMessage,\n        });\n        setNewMessage('');\n    };\n\n    const fetchUsersForMention = (query, callback) => {\n        if (!query) return;\n        userService.searchUsers(query)\n            .then(res => callback(res.data.data))\n            .catch(() => callback([]));\n    };\n\n    if (loading) return <Spinner />;\n\n    if (!group) return (\n        <div className=\"text-center py-20\">\n            <h2 className=\"text-2xl font-bold text-muted\">Group not found.</h2>\n            <Link to=\"/groups\" className=\"mt-4 inline-block text-primary hover:underline\">\n                &larr; Back to all groups\n            </Link>\n        </div>\n    );\n\n    if (!isGroupMember && !loading) {\n        return (\n            <NotMemberModal\n                isOpen={isNotMemberModalOpen}\n                onClose={CloseNotMemberModal}\n            />\n        );\n    }\n\n    return (\n        <div className=\"h-[75vh] sm:h-[80vh] flex flex-col bg-surface rounded-xl sm:rounded-2xl shadow-2xl\">\n            <div className=\"p-3 sm:p-4 border-b flex items-center space-x-3 sm:space-x-4 sticky top-0 bg-surface rounded-t-xl sm:rounded-t-2xl\">\n                <Link to=\"/groups\" className=\"text-primary hover:text-primary-dark p-1.5 sm:p-2 rounded-full hover:bg-gray-100\">\n                    <ArrowLeftIcon className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                </Link>\n                <h1 className=\"text-lg sm:text-2xl font-bold text-on-surface truncate\">{group.name}</h1>\n            </div>\n\n            <div className=\"flex-1 p-3 sm:p-6 overflow-y-auto\">\n                {messages.length > 0 ? (\n                    messages.map(msg => {\n                        const isMyMessage = msg.sender?._id === authUser?._id;\n                        const profileImageUrl = msg.sender?.profilePicture?.startsWith('http')\n                            ? msg.sender.profilePicture\n                            : msg.sender?.profilePicture && msg.sender.profilePicture !== 'no-photo.jpg'\n                                ? `${API_URL}${msg.sender.profilePicture}`\n                                : `https://ui-avatars.com/api/?name=${msg.sender?.fullName}&background=8344AD&color=fff`;\n\n                        return (\n                            <div key={msg._id} className={`flex my-2 items-end gap-2 ${isMyMessage ? 'justify-end' : 'justify-start'}`}>\n                                {!isMyMessage && (\n                                    <img src={profileImageUrl} alt={msg.sender?.fullName} className=\"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover self-start flex-shrink-0\" />\n                                )}\n\n                                <div className={`p-2.5 sm:p-3 rounded-2xl max-w-[75%] sm:max-w-lg ${isMyMessage ? 'bg-primary text-white rounded-br-none' : 'bg-gray-200 text-on-surface rounded-bl-none'}`}>\n                                    {!isMyMessage && (\n                                        <p className=\"font-bold text-xs mb-1 text-primary-dark truncate\">\n                                            {msg.sender?.fullName}\n                                        </p>\n                                    )}\n                                    <StyledText text={msg.text} />\n                                </div>\n                            </div>\n                        );\n                    })\n                ) : (\n                    <div className=\"text-center text-muted py-8 sm:py-10\">\n                        <p className=\"text-sm sm:text-base\">No messages yet.</p>\n                        <p className=\"text-xs sm:text-sm\">Be the first to start the conversation!</p>\n                    </div>\n                )}\n                <div ref={messagesEndRef} />\n            </div>\n\n            <div className=\"p-3 sm:p-4 border-t bg-gray-50 rounded-b-xl sm:rounded-b-2xl\">\n                <form onSubmit={handleSendMessage} className=\"grid grid-cols-[1fr_auto] gap-3 sm:gap-4 w-full max-w-full\">\n                    <div className=\"w-full max-w-full overflow-hidden pr-1\">\n                        <MentionsInput\n                            value={newMessage}\n                            onChange={(e) => setNewMessage(e.target.value)}\n                            placeholder=\"Type a message...\"\n                            className=\"mentions\"\n                            a11ySuggestionsListLabel={\"Suggested users for mention\"}\n                            style={{ width: '100%', maxWidth: '100%', overflow: 'hidden' }}\n                        >\n                            <Mention\n                                trigger=\"@\"\n                                data={fetchUsersForMention}\n                                markup=\"@[__display__]\"\n                                displayTransform={(id, display) => `@${display}`}\n                                className=\"mentions__mention\"\n                            />\n                        </MentionsInput>\n                    </div>\n                    <button \n                        type=\"submit\" \n                        className=\"p-2.5 sm:p-3 bg-primary rounded-full text-white hover:bg-primary-dark transition-colors disabled:opacity-50\" \n                        disabled={!newMessage.trim()}\n                        style={{ minWidth: '44px', width: '44px', height: '44px', flexShrink: 0 }}\n                    >\n                        <PaperAirplaneIcon className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}