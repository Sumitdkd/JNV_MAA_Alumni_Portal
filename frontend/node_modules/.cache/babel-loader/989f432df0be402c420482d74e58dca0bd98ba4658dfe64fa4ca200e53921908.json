{"ast":null,"code":"import _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { Children, useState, useEffect } from 'react';\nimport invariant from 'invariant';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport useStyles, { inline } from 'substyle';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\n// escape RegExp special characters https://stackoverflow.com/a/9310752/5142490\nvar escapeRegex = function escapeRegex(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\nvar PLACEHOLDERS = {\n  id: '__id__',\n  display: '__display__'\n};\nvar findPositionOfCapturingGroup = function findPositionOfCapturingGroup(markup, parameterName) {\n  invariant(parameterName === 'id' || parameterName === 'display', \"Second arg must be either \\\"id\\\" or \\\"display\\\", got: \\\"\".concat(parameterName, \"\\\"\")); // find positions of placeholders in the markup\n\n  var indexDisplay = markup.indexOf(PLACEHOLDERS.display);\n  var indexId = markup.indexOf(PLACEHOLDERS.id); // set indices to null if not found\n\n  if (indexDisplay < 0) indexDisplay = null;\n  if (indexId < 0) indexId = null; // markup must contain one of the mandatory placeholders\n\n  invariant(indexDisplay !== null || indexId !== null, \"The markup '\".concat(markup, \"' does not contain either of the placeholders '__id__' or '__display__'\"));\n  if (indexDisplay !== null && indexId !== null) {\n    // both placeholders are used, return 0 or 1 depending on the position of the requested parameter\n    return parameterName === 'id' && indexId <= indexDisplay || parameterName === 'display' && indexDisplay <= indexId ? 0 : 1;\n  } // just one placeholder is being used, we'll use the captured string for both parameters\n\n  return 0;\n};\nvar combineRegExps = function combineRegExps(regExps) {\n  var serializedRegexParser = /^\\/(.+)\\/(\\w+)?$/;\n  return new RegExp(regExps.map(function (regex) {\n    var _serializedRegexParse = serializedRegexParser.exec(regex.toString()),\n      _serializedRegexParse2 = _slicedToArray(_serializedRegexParse, 3),\n      regexString = _serializedRegexParse2[1],\n      regexFlags = _serializedRegexParse2[2];\n    invariant(!regexFlags, \"RegExp flags are not supported. Change /\".concat(regexString, \"/\").concat(regexFlags, \" into /\").concat(regexString, \"/\"));\n    return \"(\".concat(regexString, \")\");\n  }).join('|'), 'g');\n};\nvar countPlaceholders = function countPlaceholders(markup) {\n  var count = 0;\n  if (markup.indexOf('__id__') >= 0) count++;\n  if (markup.indexOf('__display__') >= 0) count++;\n  return count;\n};\nvar emptyFn = function emptyFn() {}; // Finds all occurrences of the markup in the value and calls the `markupIteratee` callback for each of them.\n// The optional `textIteratee` callback is called for each plain text ranges in between these markup occurrences.\n\nvar iterateMentionsMarkup = function iterateMentionsMarkup(value, config, markupIteratee) {\n  var textIteratee = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : emptyFn;\n  var regex = combineRegExps(config.map(function (c) {\n    return c.regex;\n  }));\n  var accOffset = 2; // first is whole match, second is the for the capturing group of first regexp component\n\n  var captureGroupOffsets = config.map(function (_ref) {\n    var markup = _ref.markup;\n    var result = accOffset; // + 1 is for the capturing group we add around each regexp component in combineRegExps\n\n    accOffset += countPlaceholders(markup) + 1;\n    return result;\n  });\n  var match;\n  var start = 0;\n  var currentPlainTextIndex = 0; // detect all mention markup occurrences in the value and iterate the matches\n\n  while ((match = regex.exec(value)) !== null) {\n    var offset = captureGroupOffsets.find(function (o) {\n      return !!match[o];\n    }); // eslint-disable-line no-loop-func\n\n    var mentionChildIndex = captureGroupOffsets.indexOf(offset);\n    var _config$mentionChildI = config[mentionChildIndex],\n      markup = _config$mentionChildI.markup,\n      displayTransform = _config$mentionChildI.displayTransform;\n    var idPos = offset + findPositionOfCapturingGroup(markup, 'id');\n    var displayPos = offset + findPositionOfCapturingGroup(markup, 'display');\n    var id = match[idPos];\n    var display = displayTransform(id, match[displayPos]);\n    var substr = value.substring(start, match.index);\n    textIteratee(substr, start, currentPlainTextIndex);\n    currentPlainTextIndex += substr.length;\n    markupIteratee(match[0], match.index, currentPlainTextIndex, id, display, mentionChildIndex, start);\n    currentPlainTextIndex += display.length;\n    start = regex.lastIndex;\n  }\n  if (start < value.length) {\n    textIteratee(value.substring(start), start, currentPlainTextIndex);\n  }\n};\nvar getPlainText = function getPlainText(value, config) {\n  var result = '';\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display) {\n    result += display;\n  }, function (plainText) {\n    result += plainText;\n  });\n  return result;\n};\n\n// in the marked up value string.\n// If the passed character index lies inside a mention, the value of `inMarkupCorrection` defines the\n// correction to apply:\n//   - 'START' to return the index of the mention markup's first char (default)\n//   - 'END' to return the index after its last char\n//   - 'NULL' to return null\n\nvar mapPlainTextIndex = function mapPlainTextIndex(value, config, indexInPlainText) {\n  var inMarkupCorrection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'START';\n  if (typeof indexInPlainText !== 'number') {\n    return indexInPlainText;\n  }\n  var result;\n  var textIteratee = function textIteratee(substr, index, substrPlainTextIndex) {\n    if (result !== undefined) return;\n    if (substrPlainTextIndex + substr.length >= indexInPlainText) {\n      // found the corresponding position in the current plain text range\n      result = index + indexInPlainText - substrPlainTextIndex;\n    }\n  };\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\n    if (result !== undefined) return;\n    if (mentionPlainTextIndex + display.length > indexInPlainText) {\n      // found the corresponding position inside current match,\n      // return the index of the first or after the last char of the matching markup\n      // depending on whether the `inMarkupCorrection`\n      if (inMarkupCorrection === 'NULL') {\n        result = null;\n      } else {\n        result = index + (inMarkupCorrection === 'END' ? markup.length : 0);\n      }\n    }\n  };\n  iterateMentionsMarkup(value, config, markupIteratee, textIteratee); // when a mention is at the end of the value and we want to get the caret position\n  // at the end of the string, result is undefined\n\n  return result === undefined ? value.length : result;\n};\nvar spliceString = function spliceString(str, start, end, insert) {\n  return str.substring(0, start) + insert + str.substring(end);\n};\n\n// guided by the textarea text selection ranges before and after the change\n\nvar applyChangeToValue = function applyChangeToValue(value, plainTextValue, _ref, config) {\n  var selectionStartBefore = _ref.selectionStartBefore,\n    selectionEndBefore = _ref.selectionEndBefore,\n    selectionEndAfter = _ref.selectionEndAfter;\n  var oldPlainTextValue = getPlainText(value, config);\n  var lengthDelta = oldPlainTextValue.length - plainTextValue.length;\n  if (selectionStartBefore === 'undefined') {\n    selectionStartBefore = selectionEndAfter + lengthDelta;\n  }\n  if (selectionEndBefore === 'undefined') {\n    selectionEndBefore = selectionStartBefore;\n  } // Fixes an issue with replacing combined characters for complex input. Eg like acented letters on OSX\n\n  if (selectionStartBefore === selectionEndBefore && selectionEndBefore === selectionEndAfter && oldPlainTextValue.length === plainTextValue.length) {\n    selectionStartBefore = selectionStartBefore - 1;\n  } // extract the insertion from the new plain text value\n\n  var insert = plainTextValue.slice(selectionStartBefore, selectionEndAfter); // handling for Backspace key with no range selection\n\n  var spliceStart = Math.min(selectionStartBefore, selectionEndAfter);\n  var spliceEnd = selectionEndBefore;\n  if (selectionStartBefore === selectionEndAfter) {\n    // handling for Delete key with no range selection\n    spliceEnd = Math.max(selectionEndBefore, selectionStartBefore + lengthDelta);\n  }\n  var mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\n  var mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\n  var controlSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'NULL');\n  var controlSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'NULL');\n  var willRemoveMention = controlSpliceStart === null || controlSpliceEnd === null;\n  var newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\n  if (!willRemoveMention) {\n    // test for auto-completion changes\n    var controlPlainTextValue = getPlainText(newValue, config);\n    if (controlPlainTextValue !== plainTextValue) {\n      // some auto-correction is going on\n      // find start of diff\n      spliceStart = 0;\n      while (plainTextValue[spliceStart] === controlPlainTextValue[spliceStart]) {\n        spliceStart++;\n      } // extract auto-corrected insertion\n\n      insert = plainTextValue.slice(spliceStart, selectionEndAfter); // find index of the unchanged remainder\n\n      spliceEnd = oldPlainTextValue.lastIndexOf(plainTextValue.substring(selectionEndAfter)); // re-map the corrected indices\n\n      mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\n      mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\n      newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\n    }\n  }\n  return newValue;\n};\n\n// returns a the index of of the first char of the mention in the plain text.\n// If indexInPlainText does not lie inside a mention, returns indexInPlainText.\n\nvar findStartOfMentionInPlainText = function findStartOfMentionInPlainText(value, config, indexInPlainText) {\n  var result = indexInPlainText;\n  var foundMention = false;\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\n    if (mentionPlainTextIndex <= indexInPlainText && mentionPlainTextIndex + display.length > indexInPlainText) {\n      result = mentionPlainTextIndex;\n      foundMention = true;\n    }\n  };\n  iterateMentionsMarkup(value, config, markupIteratee);\n  if (foundMention) {\n    return result;\n  }\n};\nvar getMentions = function getMentions(value, config) {\n  var mentions = [];\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display, childIndex, start) {\n    mentions.push({\n      id: id,\n      display: display,\n      childIndex: childIndex,\n      index: index,\n      plainTextIndex: plainTextIndex\n    });\n  });\n  return mentions;\n};\nvar getSuggestionHtmlId = function getSuggestionHtmlId(prefix, id) {\n  return \"\".concat(prefix, \"-\").concat(id);\n};\nvar countSuggestions = function countSuggestions(suggestions) {\n  return Object.values(suggestions).reduce(function (acc, _ref) {\n    var results = _ref.results;\n    return acc + results.length;\n  }, 0);\n};\nvar getEndOfLastMention = function getEndOfLastMention(value, config) {\n  var mentions = getMentions(value, config);\n  var lastMention = mentions[mentions.length - 1];\n  return lastMention ? lastMention.plainTextIndex + lastMention.display.length : 0;\n};\nvar markupToRegex = function markupToRegex(markup) {\n  var escapedMarkup = escapeRegex(markup);\n  var charAfterDisplay = markup[markup.indexOf(PLACEHOLDERS.display) + PLACEHOLDERS.display.length];\n  var charAfterId = markup[markup.indexOf(PLACEHOLDERS.id) + PLACEHOLDERS.id.length];\n  return new RegExp(escapedMarkup.replace(PLACEHOLDERS.display, \"([^\".concat(escapeRegex(charAfterDisplay || ''), \"]+?)\")).replace(PLACEHOLDERS.id, \"([^\".concat(escapeRegex(charAfterId || ''), \"]+?)\")));\n};\nvar readConfigFromChildren = function readConfigFromChildren(children) {\n  return Children.toArray(children).map(function (_ref) {\n    var _ref$props = _ref.props,\n      markup = _ref$props.markup,\n      regex = _ref$props.regex,\n      displayTransform = _ref$props.displayTransform;\n    return {\n      markup: markup,\n      regex: regex ? coerceCapturingGroups(regex, markup) : markupToRegex(markup),\n      displayTransform: displayTransform || function (id, display) {\n        return display || id;\n      }\n    };\n  });\n}; // make sure that the custom regex defines the correct number of capturing groups\n\nvar coerceCapturingGroups = function coerceCapturingGroups(regex, markup) {\n  var numberOfGroups = new RegExp(regex.toString() + '|').exec('').length - 1;\n  var numberOfPlaceholders = countPlaceholders(markup);\n  invariant(numberOfGroups === numberOfPlaceholders, \"Number of capturing groups in RegExp \".concat(regex.toString(), \" (\").concat(numberOfGroups, \") does not match the number of placeholders in the markup '\").concat(markup, \"' (\").concat(numberOfPlaceholders, \")\"));\n  return regex;\n};\nvar makeMentionsMarkup = function makeMentionsMarkup(markup, id, display) {\n  return markup.replace(PLACEHOLDERS.id, id).replace(PLACEHOLDERS.display, display);\n};\n\n// This contains all the latin letters and the regex that match these letters with diacritics\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\nvar lettersDiacritics = [{\n  base: 'A',\n  letters: /(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F])/g\n}, {\n  base: 'AA',\n  letters: /(&#42802;|[\\uA732])/g\n}, {\n  base: 'AE',\n  letters: /(&#198;|&#508;|&#482;|[\\u00C6\\u01FC\\u01E2])/g\n}, {\n  base: 'AO',\n  letters: /(&#42804;|[\\uA734])/g\n}, {\n  base: 'AU',\n  letters: /(&#42806;|[\\uA736])/g\n}, {\n  base: 'AV',\n  letters: /(&#42808;|&#42810;|[\\uA738\\uA73A])/g\n}, {\n  base: 'AY',\n  letters: /(&#42812;|[\\uA73C])/g\n}, {\n  base: 'B',\n  letters: /(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181])/g\n}, {\n  base: 'C',\n  letters: /(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E])/g\n}, {\n  base: 'D',\n  letters: /(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u00D0])/g\n}, {\n  base: 'DZ',\n  letters: /(&#497;|&#452;|[\\u01F1\\u01C4])/g\n}, {\n  base: 'Dz',\n  letters: /(&#498;|&#453;|[\\u01F2\\u01C5])/g\n}, {\n  base: 'E',\n  letters: /(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E])/g\n}, {\n  base: 'F',\n  letters: /(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B])/g\n}, {\n  base: 'G',\n  letters: /(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E])/g\n}, {\n  base: 'H',\n  letters: /(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D])/g\n}, {\n  base: 'I',\n  letters: /(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197])/g\n}, {\n  base: 'J',\n  letters: /(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\\u004A\\u24BF\\uFF2A\\u0134\\u0248])/g\n}, {\n  base: 'K',\n  letters: /(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2])/g\n}, {\n  base: 'L',\n  letters: /(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780])/g\n}, {\n  base: 'LJ',\n  letters: /(&#455;|[\\u01C7])/g\n}, {\n  base: 'Lj',\n  letters: /(&#456;|[\\u01C8])/g\n}, {\n  base: 'M',\n  letters: /(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C])/g\n}, {\n  base: 'N',\n  letters: /(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4\\u014A])/g\n}, {\n  base: 'NJ',\n  letters: /(&#458;|[\\u01CA])/g\n}, {\n  base: 'Nj',\n  letters: /(&#459;|[\\u01CB])/g\n}, {\n  base: 'O',\n  letters: /(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C])/g\n}, {\n  base: 'OE',\n  letters: /(&#338;|[\\u0152])/g\n}, {\n  base: 'OI',\n  letters: /(&#418;|[\\u01A2])/g\n}, {\n  base: 'OO',\n  letters: /(&#42830;|[\\uA74E])/g\n}, {\n  base: 'OU',\n  letters: /(&#546;|[\\u0222])/g\n}, {\n  base: 'P',\n  letters: /(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754])/g\n}, {\n  base: 'Q',\n  letters: /(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A])/g\n}, {\n  base: 'R',\n  letters: /(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782])/g\n}, {\n  base: 'S',\n  letters: /(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784])/g\n}, {\n  base: 'T',\n  letters: /(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786])/g\n}, {\n  base: 'TH',\n  letters: /(&#222;|[\\u00DE])/g\n}, {\n  base: 'TZ',\n  letters: /(&#42792;|[\\uA728])/g\n}, {\n  base: 'U',\n  letters: /(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244])/g\n}, {\n  base: 'V',\n  letters: /(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245])/g\n}, {\n  base: 'VY',\n  letters: /(&#42848;|[\\uA760])/g\n}, {\n  base: 'W',\n  letters: /(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72])/g\n}, {\n  base: 'X',\n  letters: /(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C])/g\n}, {\n  base: 'Y',\n  letters: /(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE])/g\n}, {\n  base: 'Z',\n  letters: /(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762])/g\n}, {\n  base: 'a',\n  letters: /(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250])/g\n}, {\n  base: 'aa',\n  letters: /(&#42803;|[\\uA733])/g\n}, {\n  base: 'ae',\n  letters: /(&#230;|&#509;|&#483;|[\\u00E6\\u01FD\\u01E3])/g\n}, {\n  base: 'ao',\n  letters: /(&#42805;|[\\uA735])/g\n}, {\n  base: 'au',\n  letters: /(&#42807;|[\\uA737])/g\n}, {\n  base: 'av',\n  letters: /(&#42809;|&#42811;|[\\uA739\\uA73B])/g\n}, {\n  base: 'ay',\n  letters: /(&#42813;|[\\uA73D])/g\n}, {\n  base: 'b',\n  letters: /(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253])/g\n}, {\n  base: 'c',\n  letters: /(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184])/g\n}, {\n  base: 'd',\n  letters: /(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A\\u00F0])/g\n}, {\n  base: 'dz',\n  letters: /(&#499;|&#454;|[\\u01F3\\u01C6])/g\n}, {\n  base: 'e',\n  letters: /(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD])/g\n}, {\n  base: 'f',\n  letters: /(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C])/g\n}, {\n  base: 'g',\n  letters: /(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F])/g\n}, {\n  base: 'h',\n  letters: /(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265])/g\n}, {\n  base: 'hv',\n  letters: /(&#405;|[\\u0195])/g\n}, {\n  base: 'i',\n  letters: /(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131])/g\n}, {\n  base: 'ij',\n  letters: /(&#307;|[\\u0133])/g\n}, {\n  base: 'j',\n  letters: /(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249])/g\n}, {\n  base: 'k',\n  letters: /(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3])/g\n}, {\n  base: 'l',\n  letters: /(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747])/g\n}, {\n  base: 'lj',\n  letters: /(&#457;|[\\u01C9])/g\n}, {\n  base: 'm',\n  letters: /(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F])/g\n}, {\n  base: 'n',\n  letters: /(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\\u014B])/g\n}, {\n  base: 'nj',\n  letters: /(&#460;|[\\u01CC])/g\n}, {\n  base: 'o',\n  letters: /(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275])/g\n}, {\n  base: 'oe',\n  letters: /(&#339;|[\\u0153])/g\n}, {\n  base: 'oi',\n  letters: /(&#419;|[\\u01A3])/g\n}, {\n  base: 'ou',\n  letters: /(&#547;|[\\u0223])/g\n}, {\n  base: 'oo',\n  letters: /(&#42831;|[\\uA74F])/g\n}, {\n  base: 'p',\n  letters: /(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755])/g\n}, {\n  base: 'q',\n  letters: /(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759])/g\n}, {\n  base: 'r',\n  letters: /(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783])/g\n}, {\n  base: 's',\n  letters: /(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\\u0073\\u24E2\\uFF53\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B\\u017F])/g\n}, {\n  base: 'ss',\n  letters: /(&#223;|[\\u00DF])/g\n}, {\n  base: 't',\n  letters: /(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787])/g\n}, {\n  base: 'th',\n  letters: /(&#254;|[\\u00FE])/g\n}, {\n  base: 'tz',\n  letters: /(&#42793;|[\\uA729])/g\n}, {\n  base: 'u',\n  letters: /(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289])/g\n}, {\n  base: 'v',\n  letters: /(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C])/g\n}, {\n  base: 'vy',\n  letters: /(&#42849;|[\\uA761])/g\n}, {\n  base: 'w',\n  letters: /(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73])/g\n}, {\n  base: 'x',\n  letters: /(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D])/g\n}, {\n  base: 'y',\n  letters: /(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF])/g\n}, {\n  base: 'z',\n  letters: /(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763])/g\n}];\nvar removeAccents = function removeAccents(str) {\n  var formattedStr = str;\n  lettersDiacritics.forEach(function (letterDiacritics) {\n    formattedStr = formattedStr.replace(letterDiacritics.letters, letterDiacritics.base);\n  });\n  return formattedStr;\n};\nvar normalizeString = function normalizeString(str) {\n  return removeAccents(str).toLowerCase();\n};\nvar getSubstringIndex = function getSubstringIndex(str, substr, ignoreAccents) {\n  if (!ignoreAccents) {\n    return str.toLowerCase().indexOf(substr.toLowerCase());\n  }\n  return normalizeString(str).indexOf(normalizeString(substr));\n};\nvar isIE = function isIE() {\n  return !!document.documentMode;\n};\nvar isNumber = function isNumber(val) {\n  return typeof val === 'number';\n};\nvar keys = function keys(obj) {\n  return obj === Object(obj) ? Object.keys(obj) : [];\n};\nvar omit = function omit(obj) {\n  var _ref;\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n  var keys = (_ref = []).concat.apply(_ref, rest);\n  return Object.keys(obj).reduce(function (acc, k) {\n    if (obj.hasOwnProperty(k) && !keys.includes(k) && obj[k] !== undefined) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\nvar _excluded = [\"style\", \"className\", \"classNames\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction createDefaultStyle(defaultStyle, getModifiers) {\n  var enhance = function enhance(ComponentToWrap) {\n    var DefaultStyleEnhancer = function DefaultStyleEnhancer(_ref) {\n      var style = _ref.style,\n        className = _ref.className,\n        classNames = _ref.classNames,\n        rest = _objectWithoutProperties(_ref, _excluded);\n      var modifiers = getModifiers ? getModifiers(rest) : undefined;\n      var styles = useStyles(defaultStyle, {\n        style: style,\n        className: className,\n        classNames: classNames\n      }, modifiers);\n      return /*#__PURE__*/React.createElement(ComponentToWrap, _extends({}, rest, {\n        style: styles\n      }));\n    };\n    var displayName = ComponentToWrap.displayName || ComponentToWrap.name || 'Component';\n    DefaultStyleEnhancer.displayName = \"defaultStyle(\".concat(displayName, \")\"); // return DefaultStyleEnhancer\n\n    return /*#__PURE__*/React.forwardRef(function (props, ref) {\n      return DefaultStyleEnhancer(_objectSpread(_objectSpread({}, props), {}, {\n        ref: ref\n      }));\n    });\n  };\n  return enhance;\n}\nvar _generateComponentKey = function _generateComponentKey(usedKeys, id) {\n  if (!usedKeys.hasOwnProperty(id)) {\n    usedKeys[id] = 0;\n  } else {\n    usedKeys[id]++;\n  }\n  return id + '_' + usedKeys[id];\n};\nfunction Highlighter(_ref) {\n  var selectionStart = _ref.selectionStart,\n    selectionEnd = _ref.selectionEnd,\n    _ref$value = _ref.value,\n    value = _ref$value === void 0 ? '' : _ref$value,\n    onCaretPositionChange = _ref.onCaretPositionChange,\n    containerRef = _ref.containerRef,\n    children = _ref.children,\n    singleLine = _ref.singleLine,\n    style = _ref.style;\n  var _useState = useState({\n      left: undefined,\n      top: undefined\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    position = _useState2[0],\n    setPosition = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    caretElement = _useState4[0],\n    setCaretElement = _useState4[1];\n  useEffect(function () {\n    notifyCaretPosition();\n  });\n  var notifyCaretPosition = function notifyCaretPosition() {\n    if (!caretElement) {\n      return;\n    }\n    var offsetLeft = caretElement.offsetLeft,\n      offsetTop = caretElement.offsetTop;\n    if (position.left === offsetLeft && position.top === offsetTop) {\n      return;\n    }\n    var newPosition = {\n      left: offsetLeft,\n      top: offsetTop\n    };\n    setPosition(newPosition);\n    onCaretPositionChange(newPosition);\n  };\n  var config = readConfigFromChildren(children);\n  var caretPositionInMarkup;\n  if (selectionEnd === selectionStart) {\n    caretPositionInMarkup = mapPlainTextIndex(value, config, selectionStart, 'START');\n  }\n  var resultComponents = [];\n  var componentKeys = {};\n  var components = resultComponents;\n  var substringComponentKey = 0;\n  var textIteratee = function textIteratee(substr, index, indexInPlainText) {\n    // check whether the caret element has to be inserted inside the current plain substring\n    if (isNumber(caretPositionInMarkup) && caretPositionInMarkup >= index && caretPositionInMarkup <= index + substr.length) {\n      // if yes, split substr at the caret position and insert the caret component\n      var splitIndex = caretPositionInMarkup - index;\n      components.push(renderSubstring(substr.substring(0, splitIndex), substringComponentKey)); // add all following substrings and mention components as children of the caret component\n\n      components = [renderSubstring(substr.substring(splitIndex), substringComponentKey)];\n    } else {\n      components.push(renderSubstring(substr, substringComponentKey));\n    }\n    substringComponentKey++;\n  };\n  var mentionIteratee = function mentionIteratee(markup, index, indexInPlainText, id, display, mentionChildIndex, lastMentionEndIndex) {\n    var key = _generateComponentKey(componentKeys, id);\n    components.push(getMentionComponentForMatch(id, display, mentionChildIndex, key));\n  };\n  var renderSubstring = function renderSubstring(string, key) {\n    // set substring span to hidden, so that Emojis are not shown double in Mobile Safari\n    return /*#__PURE__*/React.createElement(\"span\", _extends({}, style('substring'), {\n      key: key\n    }), string);\n  };\n  var getMentionComponentForMatch = function getMentionComponentForMatch(id, display, mentionChildIndex, key) {\n    var props = {\n      id: id,\n      display: display,\n      key: key\n    };\n    var child = Children.toArray(children)[mentionChildIndex];\n    return /*#__PURE__*/React.cloneElement(child, props);\n  };\n  var renderHighlighterCaret = function renderHighlighterCaret(children) {\n    return /*#__PURE__*/React.createElement(\"span\", _extends({}, style('caret'), {\n      ref: setCaretElement,\n      key: \"caret\"\n    }), children);\n  };\n  iterateMentionsMarkup(value, config, mentionIteratee, textIteratee); // append a span containing a space, to ensure the last text line has the correct height\n\n  components.push(' ');\n  if (components !== resultComponents) {\n    // if a caret component is to be rendered, add all components that followed as its children\n    resultComponents.push(renderHighlighterCaret(components));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, style, {\n    ref: containerRef\n  }), resultComponents);\n}\nHighlighter.propTypes = {\n  selectionStart: PropTypes.number,\n  selectionEnd: PropTypes.number,\n  value: PropTypes.string.isRequired,\n  onCaretPositionChange: PropTypes.func.isRequired,\n  containerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\n};\nvar styled = createDefaultStyle({\n  position: 'relative',\n  boxSizing: 'border-box',\n  width: '100%',\n  color: 'transparent',\n  overflow: 'hidden',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  border: '1px solid transparent',\n  textAlign: 'start',\n  '&singleLine': {\n    whiteSpace: 'pre',\n    wordWrap: null\n  },\n  substring: {\n    visibility: 'hidden'\n  }\n}, function (props) {\n  return {\n    '&singleLine': props.singleLine\n  };\n});\nvar Highlighter$1 = styled(Highlighter);\nfunction Suggestion(_ref) {\n  var id = _ref.id,\n    focused = _ref.focused,\n    ignoreAccents = _ref.ignoreAccents,\n    index = _ref.index,\n    onClick = _ref.onClick,\n    onMouseEnter = _ref.onMouseEnter,\n    query = _ref.query,\n    renderSuggestion = _ref.renderSuggestion,\n    suggestion = _ref.suggestion,\n    style = _ref.style,\n    className = _ref.className,\n    classNames = _ref.classNames;\n  var rest = {\n    onClick: onClick,\n    onMouseEnter: onMouseEnter\n  };\n  var renderContent = function renderContent() {\n    var display = getDisplay();\n    var highlightedDisplay = renderHighlightedDisplay(display);\n    if (renderSuggestion) {\n      return renderSuggestion(suggestion, query, highlightedDisplay, index, focused);\n    }\n    return highlightedDisplay;\n  };\n  var getDisplay = function getDisplay() {\n    if (typeof suggestion === 'string') {\n      return suggestion;\n    }\n    var id = suggestion.id,\n      display = suggestion.display;\n    if (id === undefined || !display) {\n      return id;\n    }\n    return display;\n  };\n  var renderHighlightedDisplay = function renderHighlightedDisplay(display) {\n    var i = getSubstringIndex(display, query, ignoreAccents);\n    if (i === -1) {\n      return /*#__PURE__*/React.createElement(\"span\", style('display'), display);\n    }\n    return /*#__PURE__*/React.createElement(\"span\", style('display'), display.substring(0, i), /*#__PURE__*/React.createElement(\"b\", style('highlight'), display.substring(i, i + query.length)), display.substring(i + query.length));\n  };\n  return /*#__PURE__*/React.createElement(\"li\", _extends({\n    id: id,\n    role: \"option\",\n    \"aria-selected\": focused\n  }, rest, style), renderContent());\n}\nSuggestion.propTypes = {\n  id: PropTypes.string.isRequired,\n  query: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  ignoreAccents: PropTypes.bool,\n  suggestion: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    display: PropTypes.string\n  })]).isRequired,\n  renderSuggestion: PropTypes.func,\n  focused: PropTypes.bool\n};\nvar styled$1 = createDefaultStyle({\n  cursor: 'pointer'\n}, function (props) {\n  return {\n    '&focused': props.focused\n  };\n});\nvar Suggestion$1 = styled$1(Suggestion);\nfunction LoadingIndicator(_ref) {\n  var style = _ref.style,\n    className = _ref.className,\n    classNames = _ref.classNames;\n  var styles = useStyles(defaultstyle, {\n    style: style,\n    className: className,\n    classNames: classNames\n  });\n  var spinnerStyles = styles('spinner');\n  return /*#__PURE__*/React.createElement(\"div\", styles, /*#__PURE__*/React.createElement(\"div\", spinnerStyles, /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element1'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element2'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element3'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element4'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element5']))));\n}\nvar defaultstyle = {};\nfunction SuggestionsOverlay(_ref) {\n  var id = _ref.id,\n    _ref$suggestions = _ref.suggestions,\n    suggestions = _ref$suggestions === void 0 ? {} : _ref$suggestions,\n    a11ySuggestionsListLabel = _ref.a11ySuggestionsListLabel,\n    focusIndex = _ref.focusIndex,\n    position = _ref.position,\n    left = _ref.left,\n    right = _ref.right,\n    top = _ref.top,\n    scrollFocusedIntoView = _ref.scrollFocusedIntoView,\n    isLoading = _ref.isLoading,\n    isOpened = _ref.isOpened,\n    _ref$onSelect = _ref.onSelect,\n    onSelect = _ref$onSelect === void 0 ? function () {\n      return null;\n    } : _ref$onSelect,\n    ignoreAccents = _ref.ignoreAccents,\n    containerRef = _ref.containerRef,\n    children = _ref.children,\n    style = _ref.style,\n    customSuggestionsContainer = _ref.customSuggestionsContainer,\n    onMouseDown = _ref.onMouseDown,\n    onMouseEnter = _ref.onMouseEnter;\n  var _useState = useState(undefined),\n    _useState2 = _slicedToArray(_useState, 2),\n    ulElement = _useState2[0],\n    setUlElement = _useState2[1];\n  useEffect(function () {\n    if (!ulElement || ulElement.offsetHeight >= ulElement.scrollHeight || !scrollFocusedIntoView) {\n      return;\n    }\n    var scrollTop = ulElement.scrollTop;\n    var _ulElement$children$f = ulElement.children[focusIndex].getBoundingClientRect(),\n      top = _ulElement$children$f.top,\n      bottom = _ulElement$children$f.bottom;\n    var _ulElement$getBoundin = ulElement.getBoundingClientRect(),\n      topContainer = _ulElement$getBoundin.top;\n    top = top - topContainer + scrollTop;\n    bottom = bottom - topContainer + scrollTop;\n    if (top < scrollTop) {\n      ulElement.scrollTop = top;\n    } else if (bottom > ulElement.offsetHeight) {\n      ulElement.scrollTop = bottom - ulElement.offsetHeight;\n    }\n  }, [focusIndex, scrollFocusedIntoView, ulElement]);\n  var renderSuggestions = function renderSuggestions() {\n    var suggestionsToRender = /*#__PURE__*/React.createElement(\"ul\", _extends({\n      ref: setUlElement,\n      id: id,\n      role: \"listbox\",\n      \"aria-label\": a11ySuggestionsListLabel\n    }, style('list')), Object.values(suggestions).reduce(function (accResults, _ref2) {\n      var results = _ref2.results,\n        queryInfo = _ref2.queryInfo;\n      return [].concat(_toConsumableArray(accResults), _toConsumableArray(results.map(function (result, index) {\n        return renderSuggestion(result, queryInfo, accResults.length + index);\n      })));\n    }, []));\n    if (customSuggestionsContainer) return customSuggestionsContainer(suggestionsToRender);\n    return suggestionsToRender;\n  };\n  var renderSuggestion = function renderSuggestion(result, queryInfo, index) {\n    var isFocused = index === focusIndex;\n    var childIndex = queryInfo.childIndex,\n      query = queryInfo.query;\n    var renderSuggestion = Children.toArray(children)[childIndex].props.renderSuggestion;\n    return /*#__PURE__*/React.createElement(Suggestion$1, {\n      style: style('item'),\n      key: \"\".concat(childIndex, \"-\").concat(getID(result)),\n      id: getSuggestionHtmlId(id, index),\n      query: query,\n      index: index,\n      ignoreAccents: ignoreAccents,\n      renderSuggestion: renderSuggestion,\n      suggestion: result,\n      focused: isFocused,\n      onClick: function onClick() {\n        return select(result, queryInfo);\n      },\n      onMouseEnter: function onMouseEnter() {\n        return handleMouseEnter(index);\n      }\n    });\n  };\n  var renderLoadingIndicator = function renderLoadingIndicator() {\n    if (!isLoading) {\n      return;\n    }\n    return /*#__PURE__*/React.createElement(LoadingIndicator, {\n      style: style('loadingIndicator')\n    });\n  };\n  var handleMouseEnter = function handleMouseEnter(index, ev) {\n    if (onMouseEnter) {\n      onMouseEnter(index);\n    }\n  };\n  var select = function select(suggestion, queryInfo) {\n    onSelect(suggestion, queryInfo);\n  };\n  var getID = function getID(suggestion) {\n    if (typeof suggestion === 'string') {\n      return suggestion;\n    }\n    return suggestion.id;\n  };\n  if (!isOpened) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, inline({\n    position: position || 'absolute',\n    left: left,\n    right: right,\n    top: top\n  }, style), {\n    onMouseDown: onMouseDown,\n    ref: containerRef\n  }), renderSuggestions(), renderLoadingIndicator());\n}\nSuggestionsOverlay.propTypes = {\n  id: PropTypes.string.isRequired,\n  suggestions: PropTypes.object.isRequired,\n  a11ySuggestionsListLabel: PropTypes.string,\n  focusIndex: PropTypes.number,\n  position: PropTypes.string,\n  left: PropTypes.number,\n  right: PropTypes.number,\n  top: PropTypes.number,\n  scrollFocusedIntoView: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isOpened: PropTypes.bool.isRequired,\n  onSelect: PropTypes.func,\n  ignoreAccents: PropTypes.bool,\n  customSuggestionsContainer: PropTypes.func,\n  containerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })])\n};\nvar styled$2 = createDefaultStyle({\n  zIndex: 1,\n  backgroundColor: 'white',\n  marginTop: 14,\n  minWidth: 100,\n  list: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none'\n  }\n});\nvar SuggestionsOverlay$1 = styled$2(SuggestionsOverlay);\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar makeTriggerRegex = function makeTriggerRegex(trigger) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (trigger instanceof RegExp) {\n    return trigger;\n  } else {\n    var allowSpaceInQuery = options.allowSpaceInQuery;\n    var escapedTriggerChar = escapeRegex(trigger); // first capture group is the part to be replaced on completion\n    // second capture group is for extracting the search query\n\n    return new RegExp(\"(?:^|\\\\s)(\".concat(escapedTriggerChar, \"([^\").concat(allowSpaceInQuery ? '' : '\\\\s').concat(escapedTriggerChar, \"]*))$\"));\n  }\n};\nvar getDataProvider = function getDataProvider(data, ignoreAccents) {\n  if (data instanceof Array) {\n    // if data is an array, create a function to query that\n    return function (query, callback) {\n      var results = [];\n      for (var i = 0, l = data.length; i < l; ++i) {\n        var display = data[i].display || data[i].id;\n        if (getSubstringIndex(display, query, ignoreAccents) >= 0) {\n          results.push(data[i]);\n        }\n      }\n      return results;\n    };\n  } else {\n    // expect data to be a query function\n    return data;\n  }\n};\nvar KEY = {\n  TAB: 9,\n  RETURN: 13,\n  ESC: 27,\n  UP: 38,\n  DOWN: 40\n};\nvar isComposing = false;\nvar propTypes = {\n  /**\n   * If set to `true` a regular text input element will be rendered\n   * instead of a textarea\n   */\n  singleLine: PropTypes.bool,\n  allowSpaceInQuery: PropTypes.bool,\n  allowSuggestionsAboveCursor: PropTypes.bool,\n  forceSuggestionsAboveCursor: PropTypes.bool,\n  ignoreAccents: PropTypes.bool,\n  a11ySuggestionsListLabel: PropTypes.string,\n  value: PropTypes.string,\n  onKeyDown: PropTypes.func,\n  customSuggestionsContainer: PropTypes.func,\n  onSelect: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  suggestionsPortalHost: typeof Element === 'undefined' ? PropTypes.any : PropTypes.PropTypes.instanceOf(Element),\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\n};\nvar MentionsInput = /*#__PURE__*/function (_React$Component) {\n  _inherits(MentionsInput, _React$Component);\n  var _super = _createSuper(MentionsInput);\n  function MentionsInput(_props) {\n    var _this;\n    _classCallCheck(this, MentionsInput);\n    _this = _super.call(this, _props);\n    _defineProperty(_assertThisInitialized(_this), \"setContainerElement\", function (el) {\n      _this.containerElement = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getInputProps\", function () {\n      var _this$props = _this.props,\n        readOnly = _this$props.readOnly,\n        disabled = _this$props.disabled,\n        style = _this$props.style; // pass all props that neither we, nor substyle, consume through to the input control\n\n      var props = omit(_this.props, ['style', 'classNames', 'className'],\n      // substyle props\n      keys(propTypes));\n      return _objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({}, props), style('input')), {}, {\n        value: _this.getPlainText(),\n        onScroll: _this.updateHighlighterScroll\n      }, !readOnly && !disabled && {\n        onChange: _this.handleChange,\n        onSelect: _this.handleSelect,\n        onKeyDown: _this.handleKeyDown,\n        onBlur: _this.handleBlur,\n        onCompositionStart: _this.handleCompositionStart,\n        onCompositionEnd: _this.handleCompositionEnd\n      }), _this.isOpened() && {\n        role: 'combobox',\n        'aria-controls': _this.uuidSuggestionsOverlay,\n        'aria-expanded': true,\n        'aria-autocomplete': 'list',\n        'aria-haspopup': 'listbox',\n        'aria-activedescendant': getSuggestionHtmlId(_this.uuidSuggestionsOverlay, _this.state.focusIndex)\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderControl\", function () {\n      var _this$props2 = _this.props,\n        singleLine = _this$props2.singleLine,\n        style = _this$props2.style;\n      var inputProps = _this.getInputProps();\n      return /*#__PURE__*/React.createElement(\"div\", style('control'), _this.renderHighlighter(), singleLine ? _this.renderInput(inputProps) : _this.renderTextarea(inputProps));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderInput\", function (props) {\n      return /*#__PURE__*/React.createElement(\"input\", _extends({\n        type: \"text\",\n        ref: _this.setInputRef\n      }, props));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderTextarea\", function (props) {\n      return /*#__PURE__*/React.createElement(\"textarea\", _extends({\n        ref: _this.setInputRef\n      }, props));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setInputRef\", function (el) {\n      _this.inputElement = el;\n      var inputRef = _this.props.inputRef;\n      if (typeof inputRef === 'function') {\n        inputRef(el);\n      } else if (inputRef) {\n        inputRef.current = el;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setSuggestionsElement\", function (el) {\n      _this.suggestionsElement = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestionsOverlay\", function () {\n      if (!isNumber(_this.state.selectionStart)) {\n        // do not show suggestions when the input does not have the focus\n        return null;\n      }\n      var _this$state$suggestio = _this.state.suggestionsPosition,\n        position = _this$state$suggestio.position,\n        left = _this$state$suggestio.left,\n        top = _this$state$suggestio.top,\n        right = _this$state$suggestio.right;\n      var suggestionsNode = /*#__PURE__*/React.createElement(SuggestionsOverlay$1, {\n        id: _this.uuidSuggestionsOverlay,\n        style: _this.props.style('suggestions'),\n        position: position,\n        left: left,\n        top: top,\n        right: right,\n        focusIndex: _this.state.focusIndex,\n        scrollFocusedIntoView: _this.state.scrollFocusedIntoView,\n        containerRef: _this.setSuggestionsElement,\n        suggestions: _this.state.suggestions,\n        customSuggestionsContainer: _this.props.customSuggestionsContainer,\n        onSelect: _this.addMention,\n        onMouseDown: _this.handleSuggestionsMouseDown,\n        onMouseEnter: _this.handleSuggestionsMouseEnter,\n        isLoading: _this.isLoading(),\n        isOpened: _this.isOpened(),\n        ignoreAccents: _this.props.ignoreAccents,\n        a11ySuggestionsListLabel: _this.props.a11ySuggestionsListLabel\n      }, _this.props.children);\n      if (_this.props.suggestionsPortalHost) {\n        return /*#__PURE__*/ReactDOM.createPortal(suggestionsNode, _this.props.suggestionsPortalHost);\n      } else {\n        return suggestionsNode;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderHighlighter\", function () {\n      var _this$state = _this.state,\n        selectionStart = _this$state.selectionStart,\n        selectionEnd = _this$state.selectionEnd;\n      var _this$props3 = _this.props,\n        singleLine = _this$props3.singleLine,\n        children = _this$props3.children,\n        value = _this$props3.value,\n        style = _this$props3.style;\n      return /*#__PURE__*/React.createElement(Highlighter$1, {\n        containerRef: _this.setHighlighterElement,\n        style: style('highlighter'),\n        value: value,\n        singleLine: singleLine,\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd,\n        onCaretPositionChange: _this.handleCaretPositionChange\n      }, children);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setHighlighterElement\", function (el) {\n      _this.highlighterElement = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleCaretPositionChange\", function (position) {\n      _this.setState({\n        caretPosition: position\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getPlainText\", function () {\n      return getPlainText(_this.props.value || '', readConfigFromChildren(_this.props.children));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"executeOnChange\", function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      if (_this.props.onChange) {\n        var _this$props4;\n        return (_this$props4 = _this.props).onChange.apply(_this$props4, [event].concat(args));\n      }\n      if (_this.props.valueLink) {\n        var _this$props$valueLink;\n        return (_this$props$valueLink = _this.props.valueLink).requestChange.apply(_this$props$valueLink, [event.target.value].concat(args));\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (ev) {\n      isComposing = false;\n      if (isIE()) {\n        // if we are inside iframe, we need to find activeElement within its contentDocument\n        var currentDocument = document.activeElement && document.activeElement.contentDocument || document;\n        if (currentDocument.activeElement !== ev.target) {\n          // fix an IE bug (blur from empty input element with placeholder attribute trigger \"input\" event)\n          return;\n        }\n      }\n      var value = _this.props.value || '';\n      var config = readConfigFromChildren(_this.props.children);\n      var newPlainTextValue = ev.target.value;\n      var selectionStartBefore = _this.state.selectionStart;\n      if (selectionStartBefore == null) {\n        selectionStartBefore = ev.target.selectionStart;\n      }\n      var selectionEndBefore = _this.state.selectionEnd;\n      if (selectionEndBefore == null) {\n        selectionEndBefore = ev.target.selectionEnd;\n      } // Derive the new value to set by applying the local change in the textarea's plain text\n\n      var newValue = applyChangeToValue(value, newPlainTextValue, {\n        selectionStartBefore: selectionStartBefore,\n        selectionEndBefore: selectionEndBefore,\n        selectionEndAfter: ev.target.selectionEnd\n      }, config); // In case a mention is deleted, also adjust the new plain text value\n\n      newPlainTextValue = getPlainText(newValue, config); // Save current selection after change to be able to restore caret position after rerendering\n\n      var selectionStart = ev.target.selectionStart;\n      var selectionEnd = ev.target.selectionEnd;\n      var setSelectionAfterMentionChange = false; // Adjust selection range in case a mention will be deleted by the characters outside of the\n      // selection range that are automatically deleted\n\n      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);\n      if (startOfMention !== undefined && _this.state.selectionEnd > startOfMention) {\n        // only if a deletion has taken place\n        selectionStart = startOfMention + (ev.nativeEvent.data ? ev.nativeEvent.data.length : 0);\n        selectionEnd = selectionStart;\n        setSelectionAfterMentionChange = true;\n      }\n      _this.setState({\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd,\n        setSelectionAfterMentionChange: setSelectionAfterMentionChange\n      });\n      var mentions = getMentions(newValue, config);\n      if (ev.nativeEvent.isComposing && selectionStart === selectionEnd) {\n        _this.updateMentionsQueries(_this.inputElement.value, selectionStart);\n      } // Propagate change\n      // let handleChange = this.getOnChange(this.props) || emptyFunction;\n\n      var eventMock = {\n        target: {\n          value: newValue\n        }\n      }; // this.props.onChange.call(this, eventMock, newValue, newPlainTextValue, mentions);\n\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleSelect\", function (ev) {\n      // keep track of selection range / caret position\n      _this.setState({\n        selectionStart: ev.target.selectionStart,\n        selectionEnd: ev.target.selectionEnd\n      }); // do nothing while a IME composition session is active\n\n      if (isComposing) return; // refresh suggestions queries\n\n      var el = _this.inputElement;\n      if (ev.target.selectionStart === ev.target.selectionEnd) {\n        _this.updateMentionsQueries(el.value, ev.target.selectionStart);\n      } else {\n        _this.clearSuggestions();\n      } // sync highlighters scroll position\n\n      _this.updateHighlighterScroll();\n      _this.props.onSelect(ev);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (ev) {\n      // do not intercept key events if the suggestions overlay is not shown\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\n      if (suggestionsCount === 0 || !_this.suggestionsElement) {\n        _this.props.onKeyDown(ev);\n        return;\n      }\n      if (Object.values(KEY).indexOf(ev.keyCode) >= 0) {\n        ev.preventDefault();\n        ev.stopPropagation();\n      }\n      switch (ev.keyCode) {\n        case KEY.ESC:\n          {\n            _this.clearSuggestions();\n            return;\n          }\n        case KEY.DOWN:\n          {\n            _this.shiftFocus(+1);\n            return;\n          }\n        case KEY.UP:\n          {\n            _this.shiftFocus(-1);\n            return;\n          }\n        case KEY.RETURN:\n          {\n            _this.selectFocused();\n            return;\n          }\n        case KEY.TAB:\n          {\n            _this.selectFocused();\n            return;\n          }\n        default:\n          {\n            return;\n          }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"shiftFocus\", function (delta) {\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\n      _this.setState({\n        focusIndex: (suggestionsCount + _this.state.focusIndex + delta) % suggestionsCount,\n        scrollFocusedIntoView: true\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"selectFocused\", function () {\n      var _this$state2 = _this.state,\n        suggestions = _this$state2.suggestions,\n        focusIndex = _this$state2.focusIndex;\n      var _Object$values$reduce = Object.values(suggestions).reduce(function (acc, _ref) {\n          var results = _ref.results,\n            queryInfo = _ref.queryInfo;\n          return [].concat(_toConsumableArray(acc), _toConsumableArray(results.map(function (result) {\n            return {\n              result: result,\n              queryInfo: queryInfo\n            };\n          })));\n        }, [])[focusIndex],\n        result = _Object$values$reduce.result,\n        queryInfo = _Object$values$reduce.queryInfo;\n      _this.addMention(result, queryInfo);\n      _this.setState({\n        focusIndex: 0\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (ev) {\n      var clickedSuggestion = _this._suggestionsMouseDown;\n      _this._suggestionsMouseDown = false; // only reset selection if the mousedown happened on an element\n      // other than the suggestions overlay\n\n      if (!clickedSuggestion) {\n        _this.setState({\n          selectionStart: null,\n          selectionEnd: null\n        });\n      }\n      window.setTimeout(function () {\n        _this.updateHighlighterScroll();\n      }, 1);\n      _this.props.onBlur(ev, clickedSuggestion);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleSuggestionsMouseDown\", function (ev) {\n      _this._suggestionsMouseDown = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleSuggestionsMouseEnter\", function (focusIndex) {\n      _this.setState({\n        focusIndex: focusIndex,\n        scrollFocusedIntoView: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestionsPosition\", function () {\n      var caretPosition = _this.state.caretPosition;\n      var _this$props5 = _this.props,\n        suggestionsPortalHost = _this$props5.suggestionsPortalHost,\n        allowSuggestionsAboveCursor = _this$props5.allowSuggestionsAboveCursor,\n        forceSuggestionsAboveCursor = _this$props5.forceSuggestionsAboveCursor;\n      if (!caretPosition || !_this.suggestionsElement) {\n        return;\n      }\n      var suggestions = _this.suggestionsElement;\n      var highlighter = _this.highlighterElement; // first get viewport-relative position (highlighter is offsetParent of caret):\n\n      var caretOffsetParentRect = highlighter.getBoundingClientRect();\n      var caretHeight = getComputedStyleLengthProp(highlighter, 'font-size');\n      var viewportRelative = {\n        left: caretOffsetParentRect.left + caretPosition.left,\n        top: caretOffsetParentRect.top + caretPosition.top + caretHeight\n      };\n      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n      if (!suggestions) {\n        return;\n      }\n      var position = {}; // if suggestions menu is in a portal, update position to be releative to its portal node\n\n      if (suggestionsPortalHost) {\n        position.position = 'fixed';\n        var left = viewportRelative.left;\n        var top = viewportRelative.top; // absolute/fixed positioned elements are positioned according to their entire box including margins; so we remove margins here:\n\n        left -= getComputedStyleLengthProp(suggestions, 'margin-left');\n        top -= getComputedStyleLengthProp(suggestions, 'margin-top'); // take into account highlighter/textinput scrolling:\n\n        left -= highlighter.scrollLeft;\n        top -= highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\n\n        var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        if (left + suggestions.offsetWidth > viewportWidth) {\n          position.left = Math.max(0, viewportWidth - suggestions.offsetWidth);\n        } else {\n          position.left = left;\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\n        // Move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\n        // is small enough to NOT cover up the caret\n\n        if (allowSuggestionsAboveCursor && top + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < top - caretHeight || forceSuggestionsAboveCursor) {\n          position.top = Math.max(0, top - suggestions.offsetHeight - caretHeight);\n        } else {\n          position.top = top;\n        }\n      } else {\n        var _left = caretPosition.left - highlighter.scrollLeft;\n        var _top = caretPosition.top - highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\n\n        if (_left + suggestions.offsetWidth > _this.containerElement.offsetWidth) {\n          position.right = 0;\n        } else {\n          position.left = _left;\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\n        // move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\n        // is small enough to NOT cover up the caret\n\n        if (allowSuggestionsAboveCursor && viewportRelative.top - highlighter.scrollTop + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < caretOffsetParentRect.top - caretHeight - highlighter.scrollTop || forceSuggestionsAboveCursor) {\n          position.top = _top - suggestions.offsetHeight - caretHeight;\n        } else {\n          position.top = _top;\n        }\n      }\n      if (position.left === _this.state.suggestionsPosition.left && position.top === _this.state.suggestionsPosition.top && position.position === _this.state.suggestionsPosition.position) {\n        return;\n      }\n      _this.setState({\n        suggestionsPosition: position\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateHighlighterScroll\", function () {\n      var input = _this.inputElement;\n      var highlighter = _this.highlighterElement;\n      if (!input || !highlighter) {\n        // since the invocation of this function is deferred,\n        // the whole component may have been unmounted in the meanwhile\n        return;\n      }\n      highlighter.scrollLeft = input.scrollLeft;\n      highlighter.scrollTop = input.scrollTop;\n      highlighter.height = input.height;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionStart\", function () {\n      isComposing = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionEnd\", function () {\n      isComposing = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setSelection\", function (selectionStart, selectionEnd) {\n      if (selectionStart === null || selectionEnd === null) return;\n      var el = _this.inputElement;\n      if (el.setSelectionRange) {\n        el.setSelectionRange(selectionStart, selectionEnd);\n      } else if (el.createTextRange) {\n        var range = el.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', selectionEnd);\n        range.moveStart('character', selectionStart);\n        range.select();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateMentionsQueries\", function (plainTextValue, caretPosition) {\n      // Invalidate previous queries. Async results for previous queries will be neglected.\n      _this._queryId++;\n      _this.suggestions = {};\n      _this.setState({\n        suggestions: {}\n      });\n      var value = _this.props.value || '';\n      var children = _this.props.children;\n      var config = readConfigFromChildren(children);\n      var positionInValue = mapPlainTextIndex(value, config, caretPosition, 'NULL'); // If caret is inside of mention, do not query\n\n      if (positionInValue === null) {\n        return;\n      } // Extract substring in between the end of the previous mention and the caret\n\n      var substringStartIndex = getEndOfLastMention(value.substring(0, positionInValue), config);\n      var substring = plainTextValue.substring(substringStartIndex, caretPosition); // Check if suggestions have to be shown:\n      // Match the trigger patterns of all Mention children on the extracted substring\n\n      React.Children.forEach(children, function (child, childIndex) {\n        if (!child) {\n          return;\n        }\n        var regex = makeTriggerRegex(child.props.trigger, _this.props);\n        var match = substring.match(regex);\n        if (match) {\n          var querySequenceStart = substringStartIndex + substring.indexOf(match[1], match.index);\n          _this.queryData(match[2], childIndex, querySequenceStart, querySequenceStart + match[1].length, plainTextValue);\n        }\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"clearSuggestions\", function () {\n      // Invalidate previous queries. Async results for previous queries will be neglected.\n      _this._queryId++;\n      _this.suggestions = {};\n      _this.setState({\n        suggestions: {},\n        focusIndex: 0\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"queryData\", function (query, childIndex, querySequenceStart, querySequenceEnd, plainTextValue) {\n      var _this$props6 = _this.props,\n        children = _this$props6.children,\n        ignoreAccents = _this$props6.ignoreAccents;\n      var mentionChild = Children.toArray(children)[childIndex];\n      var provideData = getDataProvider(mentionChild.props.data, ignoreAccents);\n      var syncResult = provideData(query, _this.updateSuggestions.bind(null, _this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue));\n      if (syncResult instanceof Array) {\n        _this.updateSuggestions(_this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, syncResult);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestions\", function (queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, results) {\n      // neglect async results from previous queries\n      if (queryId !== _this._queryId) return; // save in property so that multiple sync state updates from different mentions sources\n      // won't overwrite each other\n\n      _this.suggestions = _objectSpread$1(_objectSpread$1({}, _this.suggestions), {}, _defineProperty({}, childIndex, {\n        queryInfo: {\n          childIndex: childIndex,\n          query: query,\n          querySequenceStart: querySequenceStart,\n          querySequenceEnd: querySequenceEnd,\n          plainTextValue: plainTextValue\n        },\n        results: results\n      }));\n      var focusIndex = _this.state.focusIndex;\n      var suggestionsCount = countSuggestions(_this.suggestions);\n      _this.setState({\n        suggestions: _this.suggestions,\n        focusIndex: focusIndex >= suggestionsCount ? Math.max(suggestionsCount - 1, 0) : focusIndex\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"addMention\", function (_ref2, _ref3) {\n      var id = _ref2.id,\n        display = _ref2.display;\n      var childIndex = _ref3.childIndex,\n        querySequenceStart = _ref3.querySequenceStart,\n        querySequenceEnd = _ref3.querySequenceEnd,\n        plainTextValue = _ref3.plainTextValue;\n      // Insert mention in the marked up value at the correct position\n      var value = _this.props.value || '';\n      var config = readConfigFromChildren(_this.props.children);\n      var mentionsChild = Children.toArray(_this.props.children)[childIndex];\n      var _mentionsChild$props = mentionsChild.props,\n        markup = _mentionsChild$props.markup,\n        displayTransform = _mentionsChild$props.displayTransform,\n        appendSpaceOnAdd = _mentionsChild$props.appendSpaceOnAdd,\n        onAdd = _mentionsChild$props.onAdd;\n      var start = mapPlainTextIndex(value, config, querySequenceStart, 'START');\n      var end = start + querySequenceEnd - querySequenceStart;\n      var insert = makeMentionsMarkup(markup, id, display);\n      if (appendSpaceOnAdd) {\n        insert += ' ';\n      }\n      var newValue = spliceString(value, start, end, insert); // Refocus input and set caret position to end of mention\n\n      _this.inputElement.focus();\n      var displayValue = displayTransform(id, display);\n      if (appendSpaceOnAdd) {\n        displayValue += ' ';\n      }\n      var newCaretPosition = querySequenceStart + displayValue.length;\n      _this.setState({\n        selectionStart: newCaretPosition,\n        selectionEnd: newCaretPosition,\n        setSelectionAfterMentionChange: true\n      }); // Propagate change\n\n      var eventMock = {\n        target: {\n          value: newValue\n        }\n      };\n      var mentions = getMentions(newValue, config);\n      var newPlainTextValue = spliceString(plainTextValue, querySequenceStart, querySequenceEnd, displayValue);\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\n      if (onAdd) {\n        onAdd(id, display, start, end);\n      } // Make sure the suggestions overlay is closed\n\n      _this.clearSuggestions();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isLoading\", function () {\n      var isLoading = false;\n      React.Children.forEach(_this.props.children, function (child) {\n        isLoading = isLoading || child && child.props.isLoading;\n      });\n      return isLoading;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isOpened\", function () {\n      return isNumber(_this.state.selectionStart) && (countSuggestions(_this.state.suggestions) !== 0 || _this.isLoading());\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_queryId\", 0);\n    _this.suggestions = {};\n    _this.uuidSuggestionsOverlay = Math.random().toString(16).substring(2);\n    _this.handleCopy = _this.handleCopy.bind(_assertThisInitialized(_this));\n    _this.handleCut = _this.handleCut.bind(_assertThisInitialized(_this));\n    _this.handlePaste = _this.handlePaste.bind(_assertThisInitialized(_this));\n    _this.state = {\n      focusIndex: 0,\n      selectionStart: null,\n      selectionEnd: null,\n      suggestions: {},\n      caretPosition: null,\n      suggestionsPosition: {},\n      setSelectionAfterHandlePaste: false\n    };\n    return _this;\n  }\n  _createClass(MentionsInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('copy', this.handleCopy);\n      document.addEventListener('cut', this.handleCut);\n      document.addEventListener('paste', this.handlePaste);\n      this.updateSuggestionsPosition();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      // Update position of suggestions unless this componentDidUpdate was\n      // triggered by an update to suggestionsPosition.\n      if (prevState.suggestionsPosition === this.state.suggestionsPosition) {\n        this.updateSuggestionsPosition();\n      } // maintain selection in case a mention is added/removed causing\n      // the cursor to jump to the end\n\n      if (this.state.setSelectionAfterMentionChange) {\n        this.setState({\n          setSelectionAfterMentionChange: false\n        });\n        this.setSelection(this.state.selectionStart, this.state.selectionEnd);\n      }\n      if (this.state.setSelectionAfterHandlePaste) {\n        this.setState({\n          setSelectionAfterHandlePaste: false\n        });\n        this.setSelection(this.state.selectionStart, this.state.selectionEnd);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('copy', this.handleCopy);\n      document.removeEventListener('cut', this.handleCut);\n      document.removeEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.setContainerElement\n      }, this.props.style), this.renderControl(), this.renderSuggestionsOverlay());\n    }\n  }, {\n    key: \"handlePaste\",\n    value: function handlePaste(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n      event.preventDefault();\n      var _this$state3 = this.state,\n        selectionStart = _this$state3.selectionStart,\n        selectionEnd = _this$state3.selectionEnd;\n      var _this$props7 = this.props,\n        value = _this$props7.value,\n        children = _this$props7.children;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      var pastedMentions = event.clipboardData.getData('text/react-mentions');\n      var pastedData = event.clipboardData.getData('text/plain');\n      var newValue = spliceString(value, markupStartIndex, markupEndIndex, pastedMentions || pastedData).replace(/\\r/g, '');\n      var newPlainTextValue = getPlainText(newValue, config);\n      var eventMock = {\n        target: _objectSpread$1(_objectSpread$1({}, event.target), {}, {\n          value: newValue\n        })\n      };\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(newValue, config)); // Move the cursor position to the end of the pasted data\n\n      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);\n      var nextPos = (startOfMention || selectionStart) + getPlainText(pastedMentions || pastedData, config).length;\n      this.setState({\n        selectionStart: nextPos,\n        selectionEnd: nextPos,\n        setSelectionAfterHandlePaste: true\n      });\n    }\n  }, {\n    key: \"saveSelectionToClipboard\",\n    value: function saveSelectionToClipboard(event) {\n      // use the actual selectionStart & selectionEnd instead of the one stored\n      // in state to ensure copy & paste also works on disabled inputs & textareas\n      var selectionStart = this.inputElement.selectionStart;\n      var selectionEnd = this.inputElement.selectionEnd;\n      var _this$props8 = this.props,\n        children = _this$props8.children,\n        value = _this$props8.value;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      event.clipboardData.setData('text/plain', event.target.value.slice(selectionStart, selectionEnd));\n      event.clipboardData.setData('text/react-mentions', value.slice(markupStartIndex, markupEndIndex));\n    }\n  }, {\n    key: \"supportsClipboardActions\",\n    value: function supportsClipboardActions(event) {\n      return !!event.clipboardData;\n    }\n  }, {\n    key: \"handleCopy\",\n    value: function handleCopy(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n      event.preventDefault();\n      this.saveSelectionToClipboard(event);\n    }\n  }, {\n    key: \"handleCut\",\n    value: function handleCut(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n      event.preventDefault();\n      this.saveSelectionToClipboard(event);\n      var _this$state4 = this.state,\n        selectionStart = _this$state4.selectionStart,\n        selectionEnd = _this$state4.selectionEnd;\n      var _this$props9 = this.props,\n        children = _this$props9.children,\n        value = _this$props9.value;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      var newValue = [value.slice(0, markupStartIndex), value.slice(markupEndIndex)].join('');\n      var newPlainTextValue = getPlainText(newValue, config);\n      var eventMock = {\n        target: _objectSpread$1(_objectSpread$1({}, event.target), {}, {\n          value: newPlainTextValue\n        })\n      };\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(value, config));\n    } // Handle input element's change event\n  }]);\n  return MentionsInput;\n}(React.Component);\n/**\n * Returns the computed length property value for the provided element.\n * Note: According to spec and testing, can count on length values coming back in pixels. See https://developer.mozilla.org/en-US/docs/Web/CSS/used_value#Difference_from_computed_value\n */\n\n_defineProperty(MentionsInput, \"propTypes\", propTypes);\n_defineProperty(MentionsInput, \"defaultProps\", {\n  ignoreAccents: false,\n  singleLine: false,\n  allowSuggestionsAboveCursor: false,\n  onKeyDown: function onKeyDown() {\n    return null;\n  },\n  onSelect: function onSelect() {\n    return null;\n  },\n  onBlur: function onBlur() {\n    return null;\n  }\n});\nvar getComputedStyleLengthProp = function getComputedStyleLengthProp(forElement, propertyName) {\n  var length = parseFloat(window.getComputedStyle(forElement, null).getPropertyValue(propertyName));\n  return isFinite(length) ? length : 0;\n};\nvar isMobileSafari = typeof navigator !== 'undefined' && /iPhone|iPad|iPod/i.test(navigator.userAgent);\nvar styled$3 = createDefaultStyle({\n  position: 'relative',\n  overflowY: 'visible',\n  input: {\n    display: 'block',\n    width: '100%',\n    position: 'absolute',\n    margin: 0,\n    top: 0,\n    left: 0,\n    boxSizing: 'border-box',\n    backgroundColor: 'transparent',\n    fontFamily: 'inherit',\n    fontSize: 'inherit',\n    letterSpacing: 'inherit'\n  },\n  '&multiLine': {\n    input: _objectSpread$1({\n      height: '100%',\n      bottom: 0,\n      overflow: 'hidden',\n      resize: 'none'\n    }, isMobileSafari ? {\n      marginTop: 1,\n      marginLeft: -3\n    } : null)\n  }\n}, function (_ref4) {\n  var singleLine = _ref4.singleLine;\n  return {\n    '&singleLine': singleLine,\n    '&multiLine': !singleLine\n  };\n});\nvar MentionsInput$1 = styled$3(MentionsInput);\nvar defaultStyle = {\n  fontWeight: 'inherit'\n};\nvar Mention = function Mention(_ref) {\n  var display = _ref.display,\n    style = _ref.style,\n    className = _ref.className,\n    classNames = _ref.classNames;\n  var styles = useStyles(defaultStyle, {\n    style: style,\n    className: className,\n    classNames: classNames\n  });\n  return /*#__PURE__*/React.createElement(\"strong\", styles, display);\n};\nMention.propTypes = {\n  /**\n   * Called when a new mention is added in the input\n   *\n   * Example:\n   *\n   * ```js\n   * function(id, display) {\n   *   console.log(\"user \" + display + \" was mentioned!\");\n   * }\n   * ```\n   */\n  onAdd: PropTypes.func,\n  onRemove: PropTypes.func,\n  renderSuggestion: PropTypes.func,\n  trigger: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]),\n  markup: PropTypes.string,\n  displayTransform: PropTypes.func,\n  /**\n   * If set to `true` spaces will not interrupt matching suggestions\n   */\n  allowSpaceInQuery: PropTypes.bool,\n  isLoading: PropTypes.bool\n};\nMention.defaultProps = {\n  trigger: '@',\n  markup: '@[__display__](__id__)',\n  displayTransform: function displayTransform(id, display) {\n    return display || id;\n  },\n  onAdd: function onAdd() {\n    return null;\n  },\n  onRemove: function onRemove() {\n    return null;\n  },\n  renderSuggestion: null,\n  isLoading: false,\n  appendSpaceOnAdd: false\n};\nexport { Mention, MentionsInput$1 as MentionsInput };","map":{"version":3,"names":["_toConsumableArray","_extends","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","React","Children","useState","useEffect","invariant","_slicedToArray","_objectWithoutProperties","useStyles","inline","PropTypes","ReactDOM","escapeRegex","str","replace","PLACEHOLDERS","id","display","findPositionOfCapturingGroup","markup","parameterName","concat","indexDisplay","indexOf","indexId","combineRegExps","regExps","serializedRegexParser","RegExp","map","regex","_serializedRegexParse","exec","toString","_serializedRegexParse2","regexString","regexFlags","join","countPlaceholders","count","emptyFn","iterateMentionsMarkup","value","config","markupIteratee","textIteratee","arguments","length","undefined","c","accOffset","captureGroupOffsets","_ref","result","match","start","currentPlainTextIndex","offset","find","o","mentionChildIndex","_config$mentionChildI","displayTransform","idPos","displayPos","substr","substring","index","lastIndex","getPlainText","plainTextIndex","plainText","mapPlainTextIndex","indexInPlainText","inMarkupCorrection","substrPlainTextIndex","mentionPlainTextIndex","childIndex","lastMentionEndIndex","spliceString","end","insert","applyChangeToValue","plainTextValue","selectionStartBefore","selectionEndBefore","selectionEndAfter","oldPlainTextValue","lengthDelta","slice","spliceStart","Math","min","spliceEnd","max","mappedSpliceStart","mappedSpliceEnd","controlSpliceStart","controlSpliceEnd","willRemoveMention","newValue","controlPlainTextValue","lastIndexOf","findStartOfMentionInPlainText","foundMention","getMentions","mentions","push","getSuggestionHtmlId","prefix","countSuggestions","suggestions","Object","values","reduce","acc","results","getEndOfLastMention","lastMention","markupToRegex","escapedMarkup","charAfterDisplay","charAfterId","readConfigFromChildren","children","toArray","_ref$props","props","coerceCapturingGroups","numberOfGroups","numberOfPlaceholders","makeMentionsMarkup","lettersDiacritics","base","letters","removeAccents","formattedStr","forEach","letterDiacritics","normalizeString","toLowerCase","getSubstringIndex","ignoreAccents","isIE","document","documentMode","isNumber","val","keys","obj","omit","_len","rest","Array","_key","apply","k","hasOwnProperty","includes","_excluded","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","source","key","getOwnPropertyDescriptors","defineProperties","defineProperty","createDefaultStyle","defaultStyle","getModifiers","enhance","ComponentToWrap","DefaultStyleEnhancer","style","className","classNames","modifiers","styles","createElement","displayName","name","forwardRef","ref","_generateComponentKey","usedKeys","Highlighter","selectionStart","selectionEnd","_ref$value","onCaretPositionChange","containerRef","singleLine","_useState","left","top","_useState2","position","setPosition","_useState3","_useState4","caretElement","setCaretElement","notifyCaretPosition","offsetLeft","offsetTop","newPosition","caretPositionInMarkup","resultComponents","componentKeys","components","substringComponentKey","splitIndex","renderSubstring","mentionIteratee","getMentionComponentForMatch","string","child","cloneElement","renderHighlighterCaret","propTypes","number","isRequired","func","oneOfType","shape","current","Element","any","instanceOf","element","arrayOf","styled","boxSizing","width","color","overflow","whiteSpace","wordWrap","border","textAlign","visibility","Highlighter$1","Suggestion","focused","onClick","onMouseEnter","query","renderSuggestion","suggestion","renderContent","getDisplay","highlightedDisplay","renderHighlightedDisplay","role","bool","styled$1","cursor","Suggestion$1","LoadingIndicator","defaultstyle","spinnerStyles","SuggestionsOverlay","_ref$suggestions","a11ySuggestionsListLabel","focusIndex","right","scrollFocusedIntoView","isLoading","isOpened","_ref$onSelect","onSelect","customSuggestionsContainer","onMouseDown","ulElement","setUlElement","offsetHeight","scrollHeight","scrollTop","_ulElement$children$f","getBoundingClientRect","bottom","_ulElement$getBoundin","topContainer","renderSuggestions","suggestionsToRender","accResults","_ref2","queryInfo","isFocused","getID","select","handleMouseEnter","renderLoadingIndicator","ev","styled$2","zIndex","backgroundColor","marginTop","minWidth","list","margin","padding","listStyleType","SuggestionsOverlay$1","ownKeys$1","_objectSpread$1","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","makeTriggerRegex","trigger","options","allowSpaceInQuery","escapedTriggerChar","getDataProvider","data","callback","l","KEY","TAB","RETURN","ESC","UP","DOWN","isComposing","allowSuggestionsAboveCursor","forceSuggestionsAboveCursor","onKeyDown","onBlur","onChange","suggestionsPortalHost","inputRef","MentionsInput","_React$Component","_super","_props","_this","el","containerElement","_this$props","readOnly","disabled","onScroll","updateHighlighterScroll","handleChange","handleSelect","handleKeyDown","handleBlur","onCompositionStart","handleCompositionStart","onCompositionEnd","handleCompositionEnd","uuidSuggestionsOverlay","state","_this$props2","inputProps","getInputProps","renderHighlighter","renderInput","renderTextarea","type","setInputRef","inputElement","suggestionsElement","_this$state$suggestio","suggestionsPosition","suggestionsNode","setSuggestionsElement","addMention","handleSuggestionsMouseDown","handleSuggestionsMouseEnter","createPortal","_this$state","_this$props3","setHighlighterElement","handleCaretPositionChange","highlighterElement","setState","caretPosition","event","args","_this$props4","valueLink","_this$props$valueLink","requestChange","currentDocument","activeElement","contentDocument","newPlainTextValue","setSelectionAfterMentionChange","startOfMention","nativeEvent","updateMentionsQueries","eventMock","executeOnChange","clearSuggestions","suggestionsCount","keyCode","preventDefault","stopPropagation","shiftFocus","selectFocused","delta","_this$state2","_Object$values$reduce","clickedSuggestion","_suggestionsMouseDown","window","setTimeout","_this$props5","highlighter","caretOffsetParentRect","caretHeight","getComputedStyleLengthProp","viewportRelative","viewportHeight","documentElement","clientHeight","innerHeight","scrollLeft","viewportWidth","clientWidth","innerWidth","offsetWidth","_left","_top","input","height","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","_queryId","positionInValue","substringStartIndex","querySequenceStart","queryData","querySequenceEnd","_this$props6","mentionChild","provideData","syncResult","updateSuggestions","bind","queryId","_ref3","mentionsChild","_mentionsChild$props","appendSpaceOnAdd","onAdd","focus","displayValue","newCaretPosition","random","handleCopy","handleCut","handlePaste","setSelectionAfterHandlePaste","componentDidMount","addEventListener","updateSuggestionsPosition","componentDidUpdate","prevProps","prevState","setSelection","componentWillUnmount","removeEventListener","render","setContainerElement","renderControl","renderSuggestionsOverlay","supportsClipboardActions","_this$state3","_this$props7","markupStartIndex","markupEndIndex","pastedMentions","clipboardData","getData","pastedData","nextPos","saveSelectionToClipboard","_this$props8","setData","_this$state4","_this$props9","Component","forElement","propertyName","parseFloat","getComputedStyle","getPropertyValue","isFinite","isMobileSafari","navigator","test","userAgent","styled$3","overflowY","fontFamily","fontSize","letterSpacing","resize","marginLeft","_ref4","MentionsInput$1","fontWeight","Mention","onRemove","defaultProps"],"sources":["/Users/sumitdhaker/Desktop/Alumni_Portal_JNVChittorgarh/frontend/node_modules/react-mentions/dist/react-mentions.esm.js"],"sourcesContent":["import _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { Children, useState, useEffect } from 'react';\nimport invariant from 'invariant';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport useStyles, { inline } from 'substyle';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\n// escape RegExp special characters https://stackoverflow.com/a/9310752/5142490\nvar escapeRegex = function escapeRegex(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\n\nvar PLACEHOLDERS = {\n  id: '__id__',\n  display: '__display__'\n};\n\nvar findPositionOfCapturingGroup = function findPositionOfCapturingGroup(markup, parameterName) {\n  invariant(parameterName === 'id' || parameterName === 'display', \"Second arg must be either \\\"id\\\" or \\\"display\\\", got: \\\"\".concat(parameterName, \"\\\"\")); // find positions of placeholders in the markup\n\n  var indexDisplay = markup.indexOf(PLACEHOLDERS.display);\n  var indexId = markup.indexOf(PLACEHOLDERS.id); // set indices to null if not found\n\n  if (indexDisplay < 0) indexDisplay = null;\n  if (indexId < 0) indexId = null; // markup must contain one of the mandatory placeholders\n\n  invariant(indexDisplay !== null || indexId !== null, \"The markup '\".concat(markup, \"' does not contain either of the placeholders '__id__' or '__display__'\"));\n\n  if (indexDisplay !== null && indexId !== null) {\n    // both placeholders are used, return 0 or 1 depending on the position of the requested parameter\n    return parameterName === 'id' && indexId <= indexDisplay || parameterName === 'display' && indexDisplay <= indexId ? 0 : 1;\n  } // just one placeholder is being used, we'll use the captured string for both parameters\n\n\n  return 0;\n};\n\nvar combineRegExps = function combineRegExps(regExps) {\n  var serializedRegexParser = /^\\/(.+)\\/(\\w+)?$/;\n  return new RegExp(regExps.map(function (regex) {\n    var _serializedRegexParse = serializedRegexParser.exec(regex.toString()),\n        _serializedRegexParse2 = _slicedToArray(_serializedRegexParse, 3),\n        regexString = _serializedRegexParse2[1],\n        regexFlags = _serializedRegexParse2[2];\n\n    invariant(!regexFlags, \"RegExp flags are not supported. Change /\".concat(regexString, \"/\").concat(regexFlags, \" into /\").concat(regexString, \"/\"));\n    return \"(\".concat(regexString, \")\");\n  }).join('|'), 'g');\n};\n\nvar countPlaceholders = function countPlaceholders(markup) {\n  var count = 0;\n  if (markup.indexOf('__id__') >= 0) count++;\n  if (markup.indexOf('__display__') >= 0) count++;\n  return count;\n};\n\nvar emptyFn = function emptyFn() {}; // Finds all occurrences of the markup in the value and calls the `markupIteratee` callback for each of them.\n// The optional `textIteratee` callback is called for each plain text ranges in between these markup occurrences.\n\n\nvar iterateMentionsMarkup = function iterateMentionsMarkup(value, config, markupIteratee) {\n  var textIteratee = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : emptyFn;\n  var regex = combineRegExps(config.map(function (c) {\n    return c.regex;\n  }));\n  var accOffset = 2; // first is whole match, second is the for the capturing group of first regexp component\n\n  var captureGroupOffsets = config.map(function (_ref) {\n    var markup = _ref.markup;\n    var result = accOffset; // + 1 is for the capturing group we add around each regexp component in combineRegExps\n\n    accOffset += countPlaceholders(markup) + 1;\n    return result;\n  });\n  var match;\n  var start = 0;\n  var currentPlainTextIndex = 0; // detect all mention markup occurrences in the value and iterate the matches\n\n  while ((match = regex.exec(value)) !== null) {\n    var offset = captureGroupOffsets.find(function (o) {\n      return !!match[o];\n    }); // eslint-disable-line no-loop-func\n\n    var mentionChildIndex = captureGroupOffsets.indexOf(offset);\n    var _config$mentionChildI = config[mentionChildIndex],\n        markup = _config$mentionChildI.markup,\n        displayTransform = _config$mentionChildI.displayTransform;\n    var idPos = offset + findPositionOfCapturingGroup(markup, 'id');\n    var displayPos = offset + findPositionOfCapturingGroup(markup, 'display');\n    var id = match[idPos];\n    var display = displayTransform(id, match[displayPos]);\n    var substr = value.substring(start, match.index);\n    textIteratee(substr, start, currentPlainTextIndex);\n    currentPlainTextIndex += substr.length;\n    markupIteratee(match[0], match.index, currentPlainTextIndex, id, display, mentionChildIndex, start);\n    currentPlainTextIndex += display.length;\n    start = regex.lastIndex;\n  }\n\n  if (start < value.length) {\n    textIteratee(value.substring(start), start, currentPlainTextIndex);\n  }\n};\n\nvar getPlainText = function getPlainText(value, config) {\n  var result = '';\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display) {\n    result += display;\n  }, function (plainText) {\n    result += plainText;\n  });\n  return result;\n};\n\n// in the marked up value string.\n// If the passed character index lies inside a mention, the value of `inMarkupCorrection` defines the\n// correction to apply:\n//   - 'START' to return the index of the mention markup's first char (default)\n//   - 'END' to return the index after its last char\n//   - 'NULL' to return null\n\nvar mapPlainTextIndex = function mapPlainTextIndex(value, config, indexInPlainText) {\n  var inMarkupCorrection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'START';\n\n  if (typeof indexInPlainText !== 'number') {\n    return indexInPlainText;\n  }\n\n  var result;\n\n  var textIteratee = function textIteratee(substr, index, substrPlainTextIndex) {\n    if (result !== undefined) return;\n\n    if (substrPlainTextIndex + substr.length >= indexInPlainText) {\n      // found the corresponding position in the current plain text range\n      result = index + indexInPlainText - substrPlainTextIndex;\n    }\n  };\n\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\n    if (result !== undefined) return;\n\n    if (mentionPlainTextIndex + display.length > indexInPlainText) {\n      // found the corresponding position inside current match,\n      // return the index of the first or after the last char of the matching markup\n      // depending on whether the `inMarkupCorrection`\n      if (inMarkupCorrection === 'NULL') {\n        result = null;\n      } else {\n        result = index + (inMarkupCorrection === 'END' ? markup.length : 0);\n      }\n    }\n  };\n\n  iterateMentionsMarkup(value, config, markupIteratee, textIteratee); // when a mention is at the end of the value and we want to get the caret position\n  // at the end of the string, result is undefined\n\n  return result === undefined ? value.length : result;\n};\n\nvar spliceString = function spliceString(str, start, end, insert) {\n  return str.substring(0, start) + insert + str.substring(end);\n};\n\n// guided by the textarea text selection ranges before and after the change\n\nvar applyChangeToValue = function applyChangeToValue(value, plainTextValue, _ref, config) {\n  var selectionStartBefore = _ref.selectionStartBefore,\n      selectionEndBefore = _ref.selectionEndBefore,\n      selectionEndAfter = _ref.selectionEndAfter;\n  var oldPlainTextValue = getPlainText(value, config);\n  var lengthDelta = oldPlainTextValue.length - plainTextValue.length;\n\n  if (selectionStartBefore === 'undefined') {\n    selectionStartBefore = selectionEndAfter + lengthDelta;\n  }\n\n  if (selectionEndBefore === 'undefined') {\n    selectionEndBefore = selectionStartBefore;\n  } // Fixes an issue with replacing combined characters for complex input. Eg like acented letters on OSX\n\n\n  if (selectionStartBefore === selectionEndBefore && selectionEndBefore === selectionEndAfter && oldPlainTextValue.length === plainTextValue.length) {\n    selectionStartBefore = selectionStartBefore - 1;\n  } // extract the insertion from the new plain text value\n\n\n  var insert = plainTextValue.slice(selectionStartBefore, selectionEndAfter); // handling for Backspace key with no range selection\n\n  var spliceStart = Math.min(selectionStartBefore, selectionEndAfter);\n  var spliceEnd = selectionEndBefore;\n\n  if (selectionStartBefore === selectionEndAfter) {\n    // handling for Delete key with no range selection\n    spliceEnd = Math.max(selectionEndBefore, selectionStartBefore + lengthDelta);\n  }\n\n  var mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\n  var mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\n  var controlSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'NULL');\n  var controlSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'NULL');\n  var willRemoveMention = controlSpliceStart === null || controlSpliceEnd === null;\n  var newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\n\n  if (!willRemoveMention) {\n    // test for auto-completion changes\n    var controlPlainTextValue = getPlainText(newValue, config);\n\n    if (controlPlainTextValue !== plainTextValue) {\n      // some auto-correction is going on\n      // find start of diff\n      spliceStart = 0;\n\n      while (plainTextValue[spliceStart] === controlPlainTextValue[spliceStart]) {\n        spliceStart++;\n      } // extract auto-corrected insertion\n\n\n      insert = plainTextValue.slice(spliceStart, selectionEndAfter); // find index of the unchanged remainder\n\n      spliceEnd = oldPlainTextValue.lastIndexOf(plainTextValue.substring(selectionEndAfter)); // re-map the corrected indices\n\n      mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\n      mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\n      newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\n    }\n  }\n\n  return newValue;\n};\n\n// returns a the index of of the first char of the mention in the plain text.\n// If indexInPlainText does not lie inside a mention, returns indexInPlainText.\n\nvar findStartOfMentionInPlainText = function findStartOfMentionInPlainText(value, config, indexInPlainText) {\n  var result = indexInPlainText;\n  var foundMention = false;\n\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\n    if (mentionPlainTextIndex <= indexInPlainText && mentionPlainTextIndex + display.length > indexInPlainText) {\n      result = mentionPlainTextIndex;\n      foundMention = true;\n    }\n  };\n\n  iterateMentionsMarkup(value, config, markupIteratee);\n\n  if (foundMention) {\n    return result;\n  }\n};\n\nvar getMentions = function getMentions(value, config) {\n  var mentions = [];\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display, childIndex, start) {\n    mentions.push({\n      id: id,\n      display: display,\n      childIndex: childIndex,\n      index: index,\n      plainTextIndex: plainTextIndex\n    });\n  });\n  return mentions;\n};\n\nvar getSuggestionHtmlId = function getSuggestionHtmlId(prefix, id) {\n  return \"\".concat(prefix, \"-\").concat(id);\n};\n\nvar countSuggestions = function countSuggestions(suggestions) {\n  return Object.values(suggestions).reduce(function (acc, _ref) {\n    var results = _ref.results;\n    return acc + results.length;\n  }, 0);\n};\n\nvar getEndOfLastMention = function getEndOfLastMention(value, config) {\n  var mentions = getMentions(value, config);\n  var lastMention = mentions[mentions.length - 1];\n  return lastMention ? lastMention.plainTextIndex + lastMention.display.length : 0;\n};\n\nvar markupToRegex = function markupToRegex(markup) {\n  var escapedMarkup = escapeRegex(markup);\n  var charAfterDisplay = markup[markup.indexOf(PLACEHOLDERS.display) + PLACEHOLDERS.display.length];\n  var charAfterId = markup[markup.indexOf(PLACEHOLDERS.id) + PLACEHOLDERS.id.length];\n  return new RegExp(escapedMarkup.replace(PLACEHOLDERS.display, \"([^\".concat(escapeRegex(charAfterDisplay || ''), \"]+?)\")).replace(PLACEHOLDERS.id, \"([^\".concat(escapeRegex(charAfterId || ''), \"]+?)\")));\n};\n\nvar readConfigFromChildren = function readConfigFromChildren(children) {\n  return Children.toArray(children).map(function (_ref) {\n    var _ref$props = _ref.props,\n        markup = _ref$props.markup,\n        regex = _ref$props.regex,\n        displayTransform = _ref$props.displayTransform;\n    return {\n      markup: markup,\n      regex: regex ? coerceCapturingGroups(regex, markup) : markupToRegex(markup),\n      displayTransform: displayTransform || function (id, display) {\n        return display || id;\n      }\n    };\n  });\n}; // make sure that the custom regex defines the correct number of capturing groups\n\n\nvar coerceCapturingGroups = function coerceCapturingGroups(regex, markup) {\n  var numberOfGroups = new RegExp(regex.toString() + '|').exec('').length - 1;\n  var numberOfPlaceholders = countPlaceholders(markup);\n  invariant(numberOfGroups === numberOfPlaceholders, \"Number of capturing groups in RegExp \".concat(regex.toString(), \" (\").concat(numberOfGroups, \") does not match the number of placeholders in the markup '\").concat(markup, \"' (\").concat(numberOfPlaceholders, \")\"));\n  return regex;\n};\n\nvar makeMentionsMarkup = function makeMentionsMarkup(markup, id, display) {\n  return markup.replace(PLACEHOLDERS.id, id).replace(PLACEHOLDERS.display, display);\n};\n\n// This contains all the latin letters and the regex that match these letters with diacritics\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\nvar lettersDiacritics = [{\n  base: 'A',\n  letters: /(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F])/g\n}, {\n  base: 'AA',\n  letters: /(&#42802;|[\\uA732])/g\n}, {\n  base: 'AE',\n  letters: /(&#198;|&#508;|&#482;|[\\u00C6\\u01FC\\u01E2])/g\n}, {\n  base: 'AO',\n  letters: /(&#42804;|[\\uA734])/g\n}, {\n  base: 'AU',\n  letters: /(&#42806;|[\\uA736])/g\n}, {\n  base: 'AV',\n  letters: /(&#42808;|&#42810;|[\\uA738\\uA73A])/g\n}, {\n  base: 'AY',\n  letters: /(&#42812;|[\\uA73C])/g\n}, {\n  base: 'B',\n  letters: /(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181])/g\n}, {\n  base: 'C',\n  letters: /(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E])/g\n}, {\n  base: 'D',\n  letters: /(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u00D0])/g\n}, {\n  base: 'DZ',\n  letters: /(&#497;|&#452;|[\\u01F1\\u01C4])/g\n}, {\n  base: 'Dz',\n  letters: /(&#498;|&#453;|[\\u01F2\\u01C5])/g\n}, {\n  base: 'E',\n  letters: /(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E])/g\n}, {\n  base: 'F',\n  letters: /(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B])/g\n}, {\n  base: 'G',\n  letters: /(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E])/g\n}, {\n  base: 'H',\n  letters: /(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D])/g\n}, {\n  base: 'I',\n  letters: /(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197])/g\n}, {\n  base: 'J',\n  letters: /(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\\u004A\\u24BF\\uFF2A\\u0134\\u0248])/g\n}, {\n  base: 'K',\n  letters: /(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2])/g\n}, {\n  base: 'L',\n  letters: /(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780])/g\n}, {\n  base: 'LJ',\n  letters: /(&#455;|[\\u01C7])/g\n}, {\n  base: 'Lj',\n  letters: /(&#456;|[\\u01C8])/g\n}, {\n  base: 'M',\n  letters: /(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C])/g\n}, {\n  base: 'N',\n  letters: /(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4\\u014A])/g\n}, {\n  base: 'NJ',\n  letters: /(&#458;|[\\u01CA])/g\n}, {\n  base: 'Nj',\n  letters: /(&#459;|[\\u01CB])/g\n}, {\n  base: 'O',\n  letters: /(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C])/g\n}, {\n  base: 'OE',\n  letters: /(&#338;|[\\u0152])/g\n}, {\n  base: 'OI',\n  letters: /(&#418;|[\\u01A2])/g\n}, {\n  base: 'OO',\n  letters: /(&#42830;|[\\uA74E])/g\n}, {\n  base: 'OU',\n  letters: /(&#546;|[\\u0222])/g\n}, {\n  base: 'P',\n  letters: /(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754])/g\n}, {\n  base: 'Q',\n  letters: /(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A])/g\n}, {\n  base: 'R',\n  letters: /(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782])/g\n}, {\n  base: 'S',\n  letters: /(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784])/g\n}, {\n  base: 'T',\n  letters: /(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786])/g\n}, {\n  base: 'TH',\n  letters: /(&#222;|[\\u00DE])/g\n}, {\n  base: 'TZ',\n  letters: /(&#42792;|[\\uA728])/g\n}, {\n  base: 'U',\n  letters: /(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244])/g\n}, {\n  base: 'V',\n  letters: /(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245])/g\n}, {\n  base: 'VY',\n  letters: /(&#42848;|[\\uA760])/g\n}, {\n  base: 'W',\n  letters: /(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72])/g\n}, {\n  base: 'X',\n  letters: /(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C])/g\n}, {\n  base: 'Y',\n  letters: /(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE])/g\n}, {\n  base: 'Z',\n  letters: /(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762])/g\n}, {\n  base: 'a',\n  letters: /(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250])/g\n}, {\n  base: 'aa',\n  letters: /(&#42803;|[\\uA733])/g\n}, {\n  base: 'ae',\n  letters: /(&#230;|&#509;|&#483;|[\\u00E6\\u01FD\\u01E3])/g\n}, {\n  base: 'ao',\n  letters: /(&#42805;|[\\uA735])/g\n}, {\n  base: 'au',\n  letters: /(&#42807;|[\\uA737])/g\n}, {\n  base: 'av',\n  letters: /(&#42809;|&#42811;|[\\uA739\\uA73B])/g\n}, {\n  base: 'ay',\n  letters: /(&#42813;|[\\uA73D])/g\n}, {\n  base: 'b',\n  letters: /(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253])/g\n}, {\n  base: 'c',\n  letters: /(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184])/g\n}, {\n  base: 'd',\n  letters: /(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A\\u00F0])/g\n}, {\n  base: 'dz',\n  letters: /(&#499;|&#454;|[\\u01F3\\u01C6])/g\n}, {\n  base: 'e',\n  letters: /(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD])/g\n}, {\n  base: 'f',\n  letters: /(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C])/g\n}, {\n  base: 'g',\n  letters: /(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F])/g\n}, {\n  base: 'h',\n  letters: /(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265])/g\n}, {\n  base: 'hv',\n  letters: /(&#405;|[\\u0195])/g\n}, {\n  base: 'i',\n  letters: /(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131])/g\n}, {\n  base: 'ij',\n  letters: /(&#307;|[\\u0133])/g\n}, {\n  base: 'j',\n  letters: /(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249])/g\n}, {\n  base: 'k',\n  letters: /(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3])/g\n}, {\n  base: 'l',\n  letters: /(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747])/g\n}, {\n  base: 'lj',\n  letters: /(&#457;|[\\u01C9])/g\n}, {\n  base: 'm',\n  letters: /(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F])/g\n}, {\n  base: 'n',\n  letters: /(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\\u014B])/g\n}, {\n  base: 'nj',\n  letters: /(&#460;|[\\u01CC])/g\n}, {\n  base: 'o',\n  letters: /(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275])/g\n}, {\n  base: 'oe',\n  letters: /(&#339;|[\\u0153])/g\n}, {\n  base: 'oi',\n  letters: /(&#419;|[\\u01A3])/g\n}, {\n  base: 'ou',\n  letters: /(&#547;|[\\u0223])/g\n}, {\n  base: 'oo',\n  letters: /(&#42831;|[\\uA74F])/g\n}, {\n  base: 'p',\n  letters: /(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755])/g\n}, {\n  base: 'q',\n  letters: /(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759])/g\n}, {\n  base: 'r',\n  letters: /(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783])/g\n}, {\n  base: 's',\n  letters: /(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\\u0073\\u24E2\\uFF53\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B\\u017F])/g\n}, {\n  base: 'ss',\n  letters: /(&#223;|[\\u00DF])/g\n}, {\n  base: 't',\n  letters: /(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787])/g\n}, {\n  base: 'th',\n  letters: /(&#254;|[\\u00FE])/g\n}, {\n  base: 'tz',\n  letters: /(&#42793;|[\\uA729])/g\n}, {\n  base: 'u',\n  letters: /(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289])/g\n}, {\n  base: 'v',\n  letters: /(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C])/g\n}, {\n  base: 'vy',\n  letters: /(&#42849;|[\\uA761])/g\n}, {\n  base: 'w',\n  letters: /(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73])/g\n}, {\n  base: 'x',\n  letters: /(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D])/g\n}, {\n  base: 'y',\n  letters: /(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF])/g\n}, {\n  base: 'z',\n  letters: /(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763])/g\n}];\n\nvar removeAccents = function removeAccents(str) {\n  var formattedStr = str;\n  lettersDiacritics.forEach(function (letterDiacritics) {\n    formattedStr = formattedStr.replace(letterDiacritics.letters, letterDiacritics.base);\n  });\n  return formattedStr;\n};\n\nvar normalizeString = function normalizeString(str) {\n  return removeAccents(str).toLowerCase();\n};\n\nvar getSubstringIndex = function getSubstringIndex(str, substr, ignoreAccents) {\n  if (!ignoreAccents) {\n    return str.toLowerCase().indexOf(substr.toLowerCase());\n  }\n\n  return normalizeString(str).indexOf(normalizeString(substr));\n};\n\nvar isIE = function isIE() {\n  return !!document.documentMode;\n};\n\nvar isNumber = function isNumber(val) {\n  return typeof val === 'number';\n};\n\nvar keys = function keys(obj) {\n  return obj === Object(obj) ? Object.keys(obj) : [];\n};\n\nvar omit = function omit(obj) {\n  var _ref;\n\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var keys = (_ref = []).concat.apply(_ref, rest);\n\n  return Object.keys(obj).reduce(function (acc, k) {\n    if (obj.hasOwnProperty(k) && !keys.includes(k) && obj[k] !== undefined) {\n      acc[k] = obj[k];\n    }\n\n    return acc;\n  }, {});\n};\n\nvar _excluded = [\"style\", \"className\", \"classNames\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction createDefaultStyle(defaultStyle, getModifiers) {\n  var enhance = function enhance(ComponentToWrap) {\n    var DefaultStyleEnhancer = function DefaultStyleEnhancer(_ref) {\n      var style = _ref.style,\n          className = _ref.className,\n          classNames = _ref.classNames,\n          rest = _objectWithoutProperties(_ref, _excluded);\n\n      var modifiers = getModifiers ? getModifiers(rest) : undefined;\n      var styles = useStyles(defaultStyle, {\n        style: style,\n        className: className,\n        classNames: classNames\n      }, modifiers);\n      return /*#__PURE__*/React.createElement(ComponentToWrap, _extends({}, rest, {\n        style: styles\n      }));\n    };\n\n    var displayName = ComponentToWrap.displayName || ComponentToWrap.name || 'Component';\n    DefaultStyleEnhancer.displayName = \"defaultStyle(\".concat(displayName, \")\"); // return DefaultStyleEnhancer\n\n    return /*#__PURE__*/React.forwardRef(function (props, ref) {\n      return DefaultStyleEnhancer(_objectSpread(_objectSpread({}, props), {}, {\n        ref: ref\n      }));\n    });\n  };\n\n  return enhance;\n}\n\nvar _generateComponentKey = function _generateComponentKey(usedKeys, id) {\n  if (!usedKeys.hasOwnProperty(id)) {\n    usedKeys[id] = 0;\n  } else {\n    usedKeys[id]++;\n  }\n\n  return id + '_' + usedKeys[id];\n};\n\nfunction Highlighter(_ref) {\n  var selectionStart = _ref.selectionStart,\n      selectionEnd = _ref.selectionEnd,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value,\n      onCaretPositionChange = _ref.onCaretPositionChange,\n      containerRef = _ref.containerRef,\n      children = _ref.children,\n      singleLine = _ref.singleLine,\n      style = _ref.style;\n\n  var _useState = useState({\n    left: undefined,\n    top: undefined\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      caretElement = _useState4[0],\n      setCaretElement = _useState4[1];\n\n  useEffect(function () {\n    notifyCaretPosition();\n  });\n\n  var notifyCaretPosition = function notifyCaretPosition() {\n    if (!caretElement) {\n      return;\n    }\n\n    var offsetLeft = caretElement.offsetLeft,\n        offsetTop = caretElement.offsetTop;\n\n    if (position.left === offsetLeft && position.top === offsetTop) {\n      return;\n    }\n\n    var newPosition = {\n      left: offsetLeft,\n      top: offsetTop\n    };\n    setPosition(newPosition);\n    onCaretPositionChange(newPosition);\n  };\n\n  var config = readConfigFromChildren(children);\n  var caretPositionInMarkup;\n\n  if (selectionEnd === selectionStart) {\n    caretPositionInMarkup = mapPlainTextIndex(value, config, selectionStart, 'START');\n  }\n\n  var resultComponents = [];\n  var componentKeys = {};\n  var components = resultComponents;\n  var substringComponentKey = 0;\n\n  var textIteratee = function textIteratee(substr, index, indexInPlainText) {\n    // check whether the caret element has to be inserted inside the current plain substring\n    if (isNumber(caretPositionInMarkup) && caretPositionInMarkup >= index && caretPositionInMarkup <= index + substr.length) {\n      // if yes, split substr at the caret position and insert the caret component\n      var splitIndex = caretPositionInMarkup - index;\n      components.push(renderSubstring(substr.substring(0, splitIndex), substringComponentKey)); // add all following substrings and mention components as children of the caret component\n\n      components = [renderSubstring(substr.substring(splitIndex), substringComponentKey)];\n    } else {\n      components.push(renderSubstring(substr, substringComponentKey));\n    }\n\n    substringComponentKey++;\n  };\n\n  var mentionIteratee = function mentionIteratee(markup, index, indexInPlainText, id, display, mentionChildIndex, lastMentionEndIndex) {\n    var key = _generateComponentKey(componentKeys, id);\n\n    components.push(getMentionComponentForMatch(id, display, mentionChildIndex, key));\n  };\n\n  var renderSubstring = function renderSubstring(string, key) {\n    // set substring span to hidden, so that Emojis are not shown double in Mobile Safari\n    return /*#__PURE__*/React.createElement(\"span\", _extends({}, style('substring'), {\n      key: key\n    }), string);\n  };\n\n  var getMentionComponentForMatch = function getMentionComponentForMatch(id, display, mentionChildIndex, key) {\n    var props = {\n      id: id,\n      display: display,\n      key: key\n    };\n    var child = Children.toArray(children)[mentionChildIndex];\n    return /*#__PURE__*/React.cloneElement(child, props);\n  };\n\n  var renderHighlighterCaret = function renderHighlighterCaret(children) {\n    return /*#__PURE__*/React.createElement(\"span\", _extends({}, style('caret'), {\n      ref: setCaretElement,\n      key: \"caret\"\n    }), children);\n  };\n\n  iterateMentionsMarkup(value, config, mentionIteratee, textIteratee); // append a span containing a space, to ensure the last text line has the correct height\n\n  components.push(' ');\n\n  if (components !== resultComponents) {\n    // if a caret component is to be rendered, add all components that followed as its children\n    resultComponents.push(renderHighlighterCaret(components));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, style, {\n    ref: containerRef\n  }), resultComponents);\n}\n\nHighlighter.propTypes = {\n  selectionStart: PropTypes.number,\n  selectionEnd: PropTypes.number,\n  value: PropTypes.string.isRequired,\n  onCaretPositionChange: PropTypes.func.isRequired,\n  containerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\n};\nvar styled = createDefaultStyle({\n  position: 'relative',\n  boxSizing: 'border-box',\n  width: '100%',\n  color: 'transparent',\n  overflow: 'hidden',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  border: '1px solid transparent',\n  textAlign: 'start',\n  '&singleLine': {\n    whiteSpace: 'pre',\n    wordWrap: null\n  },\n  substring: {\n    visibility: 'hidden'\n  }\n}, function (props) {\n  return {\n    '&singleLine': props.singleLine\n  };\n});\nvar Highlighter$1 = styled(Highlighter);\n\nfunction Suggestion(_ref) {\n  var id = _ref.id,\n      focused = _ref.focused,\n      ignoreAccents = _ref.ignoreAccents,\n      index = _ref.index,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      query = _ref.query,\n      renderSuggestion = _ref.renderSuggestion,\n      suggestion = _ref.suggestion,\n      style = _ref.style,\n      className = _ref.className,\n      classNames = _ref.classNames;\n  var rest = {\n    onClick: onClick,\n    onMouseEnter: onMouseEnter\n  };\n\n  var renderContent = function renderContent() {\n    var display = getDisplay();\n    var highlightedDisplay = renderHighlightedDisplay(display);\n\n    if (renderSuggestion) {\n      return renderSuggestion(suggestion, query, highlightedDisplay, index, focused);\n    }\n\n    return highlightedDisplay;\n  };\n\n  var getDisplay = function getDisplay() {\n    if (typeof suggestion === 'string') {\n      return suggestion;\n    }\n\n    var id = suggestion.id,\n        display = suggestion.display;\n\n    if (id === undefined || !display) {\n      return id;\n    }\n\n    return display;\n  };\n\n  var renderHighlightedDisplay = function renderHighlightedDisplay(display) {\n    var i = getSubstringIndex(display, query, ignoreAccents);\n\n    if (i === -1) {\n      return /*#__PURE__*/React.createElement(\"span\", style('display'), display);\n    }\n\n    return /*#__PURE__*/React.createElement(\"span\", style('display'), display.substring(0, i), /*#__PURE__*/React.createElement(\"b\", style('highlight'), display.substring(i, i + query.length)), display.substring(i + query.length));\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", _extends({\n    id: id,\n    role: \"option\",\n    \"aria-selected\": focused\n  }, rest, style), renderContent());\n}\n\nSuggestion.propTypes = {\n  id: PropTypes.string.isRequired,\n  query: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  ignoreAccents: PropTypes.bool,\n  suggestion: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    display: PropTypes.string\n  })]).isRequired,\n  renderSuggestion: PropTypes.func,\n  focused: PropTypes.bool\n};\nvar styled$1 = createDefaultStyle({\n  cursor: 'pointer'\n}, function (props) {\n  return {\n    '&focused': props.focused\n  };\n});\nvar Suggestion$1 = styled$1(Suggestion);\n\nfunction LoadingIndicator(_ref) {\n  var style = _ref.style,\n      className = _ref.className,\n      classNames = _ref.classNames;\n  var styles = useStyles(defaultstyle, {\n    style: style,\n    className: className,\n    classNames: classNames\n  });\n  var spinnerStyles = styles('spinner');\n  return /*#__PURE__*/React.createElement(\"div\", styles, /*#__PURE__*/React.createElement(\"div\", spinnerStyles, /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element1'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element2'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element3'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element4'])), /*#__PURE__*/React.createElement(\"div\", spinnerStyles(['element', 'element5']))));\n}\n\nvar defaultstyle = {};\n\nfunction SuggestionsOverlay(_ref) {\n  var id = _ref.id,\n      _ref$suggestions = _ref.suggestions,\n      suggestions = _ref$suggestions === void 0 ? {} : _ref$suggestions,\n      a11ySuggestionsListLabel = _ref.a11ySuggestionsListLabel,\n      focusIndex = _ref.focusIndex,\n      position = _ref.position,\n      left = _ref.left,\n      right = _ref.right,\n      top = _ref.top,\n      scrollFocusedIntoView = _ref.scrollFocusedIntoView,\n      isLoading = _ref.isLoading,\n      isOpened = _ref.isOpened,\n      _ref$onSelect = _ref.onSelect,\n      onSelect = _ref$onSelect === void 0 ? function () {\n    return null;\n  } : _ref$onSelect,\n      ignoreAccents = _ref.ignoreAccents,\n      containerRef = _ref.containerRef,\n      children = _ref.children,\n      style = _ref.style,\n      customSuggestionsContainer = _ref.customSuggestionsContainer,\n      onMouseDown = _ref.onMouseDown,\n      onMouseEnter = _ref.onMouseEnter;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      ulElement = _useState2[0],\n      setUlElement = _useState2[1];\n\n  useEffect(function () {\n    if (!ulElement || ulElement.offsetHeight >= ulElement.scrollHeight || !scrollFocusedIntoView) {\n      return;\n    }\n\n    var scrollTop = ulElement.scrollTop;\n\n    var _ulElement$children$f = ulElement.children[focusIndex].getBoundingClientRect(),\n        top = _ulElement$children$f.top,\n        bottom = _ulElement$children$f.bottom;\n\n    var _ulElement$getBoundin = ulElement.getBoundingClientRect(),\n        topContainer = _ulElement$getBoundin.top;\n\n    top = top - topContainer + scrollTop;\n    bottom = bottom - topContainer + scrollTop;\n\n    if (top < scrollTop) {\n      ulElement.scrollTop = top;\n    } else if (bottom > ulElement.offsetHeight) {\n      ulElement.scrollTop = bottom - ulElement.offsetHeight;\n    }\n  }, [focusIndex, scrollFocusedIntoView, ulElement]);\n\n  var renderSuggestions = function renderSuggestions() {\n    var suggestionsToRender = /*#__PURE__*/React.createElement(\"ul\", _extends({\n      ref: setUlElement,\n      id: id,\n      role: \"listbox\",\n      \"aria-label\": a11ySuggestionsListLabel\n    }, style('list')), Object.values(suggestions).reduce(function (accResults, _ref2) {\n      var results = _ref2.results,\n          queryInfo = _ref2.queryInfo;\n      return [].concat(_toConsumableArray(accResults), _toConsumableArray(results.map(function (result, index) {\n        return renderSuggestion(result, queryInfo, accResults.length + index);\n      })));\n    }, []));\n    if (customSuggestionsContainer) return customSuggestionsContainer(suggestionsToRender);\n    return suggestionsToRender;\n  };\n\n  var renderSuggestion = function renderSuggestion(result, queryInfo, index) {\n    var isFocused = index === focusIndex;\n    var childIndex = queryInfo.childIndex,\n        query = queryInfo.query;\n    var renderSuggestion = Children.toArray(children)[childIndex].props.renderSuggestion;\n    return /*#__PURE__*/React.createElement(Suggestion$1, {\n      style: style('item'),\n      key: \"\".concat(childIndex, \"-\").concat(getID(result)),\n      id: getSuggestionHtmlId(id, index),\n      query: query,\n      index: index,\n      ignoreAccents: ignoreAccents,\n      renderSuggestion: renderSuggestion,\n      suggestion: result,\n      focused: isFocused,\n      onClick: function onClick() {\n        return select(result, queryInfo);\n      },\n      onMouseEnter: function onMouseEnter() {\n        return handleMouseEnter(index);\n      }\n    });\n  };\n\n  var renderLoadingIndicator = function renderLoadingIndicator() {\n    if (!isLoading) {\n      return;\n    }\n\n    return /*#__PURE__*/React.createElement(LoadingIndicator, {\n      style: style('loadingIndicator')\n    });\n  };\n\n  var handleMouseEnter = function handleMouseEnter(index, ev) {\n    if (onMouseEnter) {\n      onMouseEnter(index);\n    }\n  };\n\n  var select = function select(suggestion, queryInfo) {\n    onSelect(suggestion, queryInfo);\n  };\n\n  var getID = function getID(suggestion) {\n    if (typeof suggestion === 'string') {\n      return suggestion;\n    }\n\n    return suggestion.id;\n  };\n\n  if (!isOpened) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, inline({\n    position: position || 'absolute',\n    left: left,\n    right: right,\n    top: top\n  }, style), {\n    onMouseDown: onMouseDown,\n    ref: containerRef\n  }), renderSuggestions(), renderLoadingIndicator());\n}\n\nSuggestionsOverlay.propTypes = {\n  id: PropTypes.string.isRequired,\n  suggestions: PropTypes.object.isRequired,\n  a11ySuggestionsListLabel: PropTypes.string,\n  focusIndex: PropTypes.number,\n  position: PropTypes.string,\n  left: PropTypes.number,\n  right: PropTypes.number,\n  top: PropTypes.number,\n  scrollFocusedIntoView: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isOpened: PropTypes.bool.isRequired,\n  onSelect: PropTypes.func,\n  ignoreAccents: PropTypes.bool,\n  customSuggestionsContainer: PropTypes.func,\n  containerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })])\n};\nvar styled$2 = createDefaultStyle({\n  zIndex: 1,\n  backgroundColor: 'white',\n  marginTop: 14,\n  minWidth: 100,\n  list: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none'\n  }\n});\nvar SuggestionsOverlay$1 = styled$2(SuggestionsOverlay);\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar makeTriggerRegex = function makeTriggerRegex(trigger) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (trigger instanceof RegExp) {\n    return trigger;\n  } else {\n    var allowSpaceInQuery = options.allowSpaceInQuery;\n    var escapedTriggerChar = escapeRegex(trigger); // first capture group is the part to be replaced on completion\n    // second capture group is for extracting the search query\n\n    return new RegExp(\"(?:^|\\\\s)(\".concat(escapedTriggerChar, \"([^\").concat(allowSpaceInQuery ? '' : '\\\\s').concat(escapedTriggerChar, \"]*))$\"));\n  }\n};\n\nvar getDataProvider = function getDataProvider(data, ignoreAccents) {\n  if (data instanceof Array) {\n    // if data is an array, create a function to query that\n    return function (query, callback) {\n      var results = [];\n\n      for (var i = 0, l = data.length; i < l; ++i) {\n        var display = data[i].display || data[i].id;\n\n        if (getSubstringIndex(display, query, ignoreAccents) >= 0) {\n          results.push(data[i]);\n        }\n      }\n\n      return results;\n    };\n  } else {\n    // expect data to be a query function\n    return data;\n  }\n};\n\nvar KEY = {\n  TAB: 9,\n  RETURN: 13,\n  ESC: 27,\n  UP: 38,\n  DOWN: 40\n};\nvar isComposing = false;\nvar propTypes = {\n  /**\n   * If set to `true` a regular text input element will be rendered\n   * instead of a textarea\n   */\n  singleLine: PropTypes.bool,\n  allowSpaceInQuery: PropTypes.bool,\n  allowSuggestionsAboveCursor: PropTypes.bool,\n  forceSuggestionsAboveCursor: PropTypes.bool,\n  ignoreAccents: PropTypes.bool,\n  a11ySuggestionsListLabel: PropTypes.string,\n  value: PropTypes.string,\n  onKeyDown: PropTypes.func,\n  customSuggestionsContainer: PropTypes.func,\n  onSelect: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  suggestionsPortalHost: typeof Element === 'undefined' ? PropTypes.any : PropTypes.PropTypes.instanceOf(Element),\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  })]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\n};\n\nvar MentionsInput = /*#__PURE__*/function (_React$Component) {\n  _inherits(MentionsInput, _React$Component);\n\n  var _super = _createSuper(MentionsInput);\n\n  function MentionsInput(_props) {\n    var _this;\n\n    _classCallCheck(this, MentionsInput);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"setContainerElement\", function (el) {\n      _this.containerElement = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInputProps\", function () {\n      var _this$props = _this.props,\n          readOnly = _this$props.readOnly,\n          disabled = _this$props.disabled,\n          style = _this$props.style; // pass all props that neither we, nor substyle, consume through to the input control\n\n      var props = omit(_this.props, ['style', 'classNames', 'className'], // substyle props\n      keys(propTypes));\n      return _objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({}, props), style('input')), {}, {\n        value: _this.getPlainText(),\n        onScroll: _this.updateHighlighterScroll\n      }, !readOnly && !disabled && {\n        onChange: _this.handleChange,\n        onSelect: _this.handleSelect,\n        onKeyDown: _this.handleKeyDown,\n        onBlur: _this.handleBlur,\n        onCompositionStart: _this.handleCompositionStart,\n        onCompositionEnd: _this.handleCompositionEnd\n      }), _this.isOpened() && {\n        role: 'combobox',\n        'aria-controls': _this.uuidSuggestionsOverlay,\n        'aria-expanded': true,\n        'aria-autocomplete': 'list',\n        'aria-haspopup': 'listbox',\n        'aria-activedescendant': getSuggestionHtmlId(_this.uuidSuggestionsOverlay, _this.state.focusIndex)\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderControl\", function () {\n      var _this$props2 = _this.props,\n          singleLine = _this$props2.singleLine,\n          style = _this$props2.style;\n\n      var inputProps = _this.getInputProps();\n\n      return /*#__PURE__*/React.createElement(\"div\", style('control'), _this.renderHighlighter(), singleLine ? _this.renderInput(inputProps) : _this.renderTextarea(inputProps));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderInput\", function (props) {\n      return /*#__PURE__*/React.createElement(\"input\", _extends({\n        type: \"text\",\n        ref: _this.setInputRef\n      }, props));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTextarea\", function (props) {\n      return /*#__PURE__*/React.createElement(\"textarea\", _extends({\n        ref: _this.setInputRef\n      }, props));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setInputRef\", function (el) {\n      _this.inputElement = el;\n      var inputRef = _this.props.inputRef;\n\n      if (typeof inputRef === 'function') {\n        inputRef(el);\n      } else if (inputRef) {\n        inputRef.current = el;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSuggestionsElement\", function (el) {\n      _this.suggestionsElement = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestionsOverlay\", function () {\n      if (!isNumber(_this.state.selectionStart)) {\n        // do not show suggestions when the input does not have the focus\n        return null;\n      }\n\n      var _this$state$suggestio = _this.state.suggestionsPosition,\n          position = _this$state$suggestio.position,\n          left = _this$state$suggestio.left,\n          top = _this$state$suggestio.top,\n          right = _this$state$suggestio.right;\n      var suggestionsNode = /*#__PURE__*/React.createElement(SuggestionsOverlay$1, {\n        id: _this.uuidSuggestionsOverlay,\n        style: _this.props.style('suggestions'),\n        position: position,\n        left: left,\n        top: top,\n        right: right,\n        focusIndex: _this.state.focusIndex,\n        scrollFocusedIntoView: _this.state.scrollFocusedIntoView,\n        containerRef: _this.setSuggestionsElement,\n        suggestions: _this.state.suggestions,\n        customSuggestionsContainer: _this.props.customSuggestionsContainer,\n        onSelect: _this.addMention,\n        onMouseDown: _this.handleSuggestionsMouseDown,\n        onMouseEnter: _this.handleSuggestionsMouseEnter,\n        isLoading: _this.isLoading(),\n        isOpened: _this.isOpened(),\n        ignoreAccents: _this.props.ignoreAccents,\n        a11ySuggestionsListLabel: _this.props.a11ySuggestionsListLabel\n      }, _this.props.children);\n\n      if (_this.props.suggestionsPortalHost) {\n        return /*#__PURE__*/ReactDOM.createPortal(suggestionsNode, _this.props.suggestionsPortalHost);\n      } else {\n        return suggestionsNode;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHighlighter\", function () {\n      var _this$state = _this.state,\n          selectionStart = _this$state.selectionStart,\n          selectionEnd = _this$state.selectionEnd;\n      var _this$props3 = _this.props,\n          singleLine = _this$props3.singleLine,\n          children = _this$props3.children,\n          value = _this$props3.value,\n          style = _this$props3.style;\n      return /*#__PURE__*/React.createElement(Highlighter$1, {\n        containerRef: _this.setHighlighterElement,\n        style: style('highlighter'),\n        value: value,\n        singleLine: singleLine,\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd,\n        onCaretPositionChange: _this.handleCaretPositionChange\n      }, children);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setHighlighterElement\", function (el) {\n      _this.highlighterElement = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCaretPositionChange\", function (position) {\n      _this.setState({\n        caretPosition: position\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlainText\", function () {\n      return getPlainText(_this.props.value || '', readConfigFromChildren(_this.props.children));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"executeOnChange\", function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (_this.props.onChange) {\n        var _this$props4;\n\n        return (_this$props4 = _this.props).onChange.apply(_this$props4, [event].concat(args));\n      }\n\n      if (_this.props.valueLink) {\n        var _this$props$valueLink;\n\n        return (_this$props$valueLink = _this.props.valueLink).requestChange.apply(_this$props$valueLink, [event.target.value].concat(args));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (ev) {\n      isComposing = false;\n\n      if (isIE()) {\n        // if we are inside iframe, we need to find activeElement within its contentDocument\n        var currentDocument = document.activeElement && document.activeElement.contentDocument || document;\n\n        if (currentDocument.activeElement !== ev.target) {\n          // fix an IE bug (blur from empty input element with placeholder attribute trigger \"input\" event)\n          return;\n        }\n      }\n\n      var value = _this.props.value || '';\n      var config = readConfigFromChildren(_this.props.children);\n      var newPlainTextValue = ev.target.value;\n      var selectionStartBefore = _this.state.selectionStart;\n\n      if (selectionStartBefore == null) {\n        selectionStartBefore = ev.target.selectionStart;\n      }\n\n      var selectionEndBefore = _this.state.selectionEnd;\n\n      if (selectionEndBefore == null) {\n        selectionEndBefore = ev.target.selectionEnd;\n      } // Derive the new value to set by applying the local change in the textarea's plain text\n\n\n      var newValue = applyChangeToValue(value, newPlainTextValue, {\n        selectionStartBefore: selectionStartBefore,\n        selectionEndBefore: selectionEndBefore,\n        selectionEndAfter: ev.target.selectionEnd\n      }, config); // In case a mention is deleted, also adjust the new plain text value\n\n      newPlainTextValue = getPlainText(newValue, config); // Save current selection after change to be able to restore caret position after rerendering\n\n      var selectionStart = ev.target.selectionStart;\n      var selectionEnd = ev.target.selectionEnd;\n      var setSelectionAfterMentionChange = false; // Adjust selection range in case a mention will be deleted by the characters outside of the\n      // selection range that are automatically deleted\n\n      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);\n\n      if (startOfMention !== undefined && _this.state.selectionEnd > startOfMention) {\n        // only if a deletion has taken place\n        selectionStart = startOfMention + (ev.nativeEvent.data ? ev.nativeEvent.data.length : 0);\n        selectionEnd = selectionStart;\n        setSelectionAfterMentionChange = true;\n      }\n\n      _this.setState({\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd,\n        setSelectionAfterMentionChange: setSelectionAfterMentionChange\n      });\n\n      var mentions = getMentions(newValue, config);\n\n      if (ev.nativeEvent.isComposing && selectionStart === selectionEnd) {\n        _this.updateMentionsQueries(_this.inputElement.value, selectionStart);\n      } // Propagate change\n      // let handleChange = this.getOnChange(this.props) || emptyFunction;\n\n\n      var eventMock = {\n        target: {\n          value: newValue\n        }\n      }; // this.props.onChange.call(this, eventMock, newValue, newPlainTextValue, mentions);\n\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelect\", function (ev) {\n      // keep track of selection range / caret position\n      _this.setState({\n        selectionStart: ev.target.selectionStart,\n        selectionEnd: ev.target.selectionEnd\n      }); // do nothing while a IME composition session is active\n\n\n      if (isComposing) return; // refresh suggestions queries\n\n      var el = _this.inputElement;\n\n      if (ev.target.selectionStart === ev.target.selectionEnd) {\n        _this.updateMentionsQueries(el.value, ev.target.selectionStart);\n      } else {\n        _this.clearSuggestions();\n      } // sync highlighters scroll position\n\n\n      _this.updateHighlighterScroll();\n\n      _this.props.onSelect(ev);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (ev) {\n      // do not intercept key events if the suggestions overlay is not shown\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\n\n      if (suggestionsCount === 0 || !_this.suggestionsElement) {\n        _this.props.onKeyDown(ev);\n\n        return;\n      }\n\n      if (Object.values(KEY).indexOf(ev.keyCode) >= 0) {\n        ev.preventDefault();\n        ev.stopPropagation();\n      }\n\n      switch (ev.keyCode) {\n        case KEY.ESC:\n          {\n            _this.clearSuggestions();\n\n            return;\n          }\n\n        case KEY.DOWN:\n          {\n            _this.shiftFocus(+1);\n\n            return;\n          }\n\n        case KEY.UP:\n          {\n            _this.shiftFocus(-1);\n\n            return;\n          }\n\n        case KEY.RETURN:\n          {\n            _this.selectFocused();\n\n            return;\n          }\n\n        case KEY.TAB:\n          {\n            _this.selectFocused();\n\n            return;\n          }\n\n        default:\n          {\n            return;\n          }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"shiftFocus\", function (delta) {\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\n\n      _this.setState({\n        focusIndex: (suggestionsCount + _this.state.focusIndex + delta) % suggestionsCount,\n        scrollFocusedIntoView: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectFocused\", function () {\n      var _this$state2 = _this.state,\n          suggestions = _this$state2.suggestions,\n          focusIndex = _this$state2.focusIndex;\n      var _Object$values$reduce = Object.values(suggestions).reduce(function (acc, _ref) {\n        var results = _ref.results,\n            queryInfo = _ref.queryInfo;\n        return [].concat(_toConsumableArray(acc), _toConsumableArray(results.map(function (result) {\n          return {\n            result: result,\n            queryInfo: queryInfo\n          };\n        })));\n      }, [])[focusIndex],\n          result = _Object$values$reduce.result,\n          queryInfo = _Object$values$reduce.queryInfo;\n\n      _this.addMention(result, queryInfo);\n\n      _this.setState({\n        focusIndex: 0\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (ev) {\n      var clickedSuggestion = _this._suggestionsMouseDown;\n      _this._suggestionsMouseDown = false; // only reset selection if the mousedown happened on an element\n      // other than the suggestions overlay\n\n      if (!clickedSuggestion) {\n        _this.setState({\n          selectionStart: null,\n          selectionEnd: null\n        });\n      }\n\n      window.setTimeout(function () {\n        _this.updateHighlighterScroll();\n      }, 1);\n\n      _this.props.onBlur(ev, clickedSuggestion);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSuggestionsMouseDown\", function (ev) {\n      _this._suggestionsMouseDown = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSuggestionsMouseEnter\", function (focusIndex) {\n      _this.setState({\n        focusIndex: focusIndex,\n        scrollFocusedIntoView: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestionsPosition\", function () {\n      var caretPosition = _this.state.caretPosition;\n      var _this$props5 = _this.props,\n          suggestionsPortalHost = _this$props5.suggestionsPortalHost,\n          allowSuggestionsAboveCursor = _this$props5.allowSuggestionsAboveCursor,\n          forceSuggestionsAboveCursor = _this$props5.forceSuggestionsAboveCursor;\n\n      if (!caretPosition || !_this.suggestionsElement) {\n        return;\n      }\n\n      var suggestions = _this.suggestionsElement;\n      var highlighter = _this.highlighterElement; // first get viewport-relative position (highlighter is offsetParent of caret):\n\n      var caretOffsetParentRect = highlighter.getBoundingClientRect();\n      var caretHeight = getComputedStyleLengthProp(highlighter, 'font-size');\n      var viewportRelative = {\n        left: caretOffsetParentRect.left + caretPosition.left,\n        top: caretOffsetParentRect.top + caretPosition.top + caretHeight\n      };\n      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n      if (!suggestions) {\n        return;\n      }\n\n      var position = {}; // if suggestions menu is in a portal, update position to be releative to its portal node\n\n      if (suggestionsPortalHost) {\n        position.position = 'fixed';\n        var left = viewportRelative.left;\n        var top = viewportRelative.top; // absolute/fixed positioned elements are positioned according to their entire box including margins; so we remove margins here:\n\n        left -= getComputedStyleLengthProp(suggestions, 'margin-left');\n        top -= getComputedStyleLengthProp(suggestions, 'margin-top'); // take into account highlighter/textinput scrolling:\n\n        left -= highlighter.scrollLeft;\n        top -= highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\n\n        var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n        if (left + suggestions.offsetWidth > viewportWidth) {\n          position.left = Math.max(0, viewportWidth - suggestions.offsetWidth);\n        } else {\n          position.left = left;\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\n        // Move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\n        // is small enough to NOT cover up the caret\n\n\n        if (allowSuggestionsAboveCursor && top + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < top - caretHeight || forceSuggestionsAboveCursor) {\n          position.top = Math.max(0, top - suggestions.offsetHeight - caretHeight);\n        } else {\n          position.top = top;\n        }\n      } else {\n        var _left = caretPosition.left - highlighter.scrollLeft;\n\n        var _top = caretPosition.top - highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\n\n\n        if (_left + suggestions.offsetWidth > _this.containerElement.offsetWidth) {\n          position.right = 0;\n        } else {\n          position.left = _left;\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\n        // move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\n        // is small enough to NOT cover up the caret\n\n\n        if (allowSuggestionsAboveCursor && viewportRelative.top - highlighter.scrollTop + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < caretOffsetParentRect.top - caretHeight - highlighter.scrollTop || forceSuggestionsAboveCursor) {\n          position.top = _top - suggestions.offsetHeight - caretHeight;\n        } else {\n          position.top = _top;\n        }\n      }\n\n      if (position.left === _this.state.suggestionsPosition.left && position.top === _this.state.suggestionsPosition.top && position.position === _this.state.suggestionsPosition.position) {\n        return;\n      }\n\n      _this.setState({\n        suggestionsPosition: position\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateHighlighterScroll\", function () {\n      var input = _this.inputElement;\n      var highlighter = _this.highlighterElement;\n\n      if (!input || !highlighter) {\n        // since the invocation of this function is deferred,\n        // the whole component may have been unmounted in the meanwhile\n        return;\n      }\n\n      highlighter.scrollLeft = input.scrollLeft;\n      highlighter.scrollTop = input.scrollTop;\n      highlighter.height = input.height;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionStart\", function () {\n      isComposing = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionEnd\", function () {\n      isComposing = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSelection\", function (selectionStart, selectionEnd) {\n      if (selectionStart === null || selectionEnd === null) return;\n      var el = _this.inputElement;\n\n      if (el.setSelectionRange) {\n        el.setSelectionRange(selectionStart, selectionEnd);\n      } else if (el.createTextRange) {\n        var range = el.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', selectionEnd);\n        range.moveStart('character', selectionStart);\n        range.select();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMentionsQueries\", function (plainTextValue, caretPosition) {\n      // Invalidate previous queries. Async results for previous queries will be neglected.\n      _this._queryId++;\n      _this.suggestions = {};\n\n      _this.setState({\n        suggestions: {}\n      });\n\n      var value = _this.props.value || '';\n      var children = _this.props.children;\n      var config = readConfigFromChildren(children);\n      var positionInValue = mapPlainTextIndex(value, config, caretPosition, 'NULL'); // If caret is inside of mention, do not query\n\n      if (positionInValue === null) {\n        return;\n      } // Extract substring in between the end of the previous mention and the caret\n\n\n      var substringStartIndex = getEndOfLastMention(value.substring(0, positionInValue), config);\n      var substring = plainTextValue.substring(substringStartIndex, caretPosition); // Check if suggestions have to be shown:\n      // Match the trigger patterns of all Mention children on the extracted substring\n\n      React.Children.forEach(children, function (child, childIndex) {\n        if (!child) {\n          return;\n        }\n\n        var regex = makeTriggerRegex(child.props.trigger, _this.props);\n        var match = substring.match(regex);\n\n        if (match) {\n          var querySequenceStart = substringStartIndex + substring.indexOf(match[1], match.index);\n\n          _this.queryData(match[2], childIndex, querySequenceStart, querySequenceStart + match[1].length, plainTextValue);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearSuggestions\", function () {\n      // Invalidate previous queries. Async results for previous queries will be neglected.\n      _this._queryId++;\n      _this.suggestions = {};\n\n      _this.setState({\n        suggestions: {},\n        focusIndex: 0\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"queryData\", function (query, childIndex, querySequenceStart, querySequenceEnd, plainTextValue) {\n      var _this$props6 = _this.props,\n          children = _this$props6.children,\n          ignoreAccents = _this$props6.ignoreAccents;\n      var mentionChild = Children.toArray(children)[childIndex];\n      var provideData = getDataProvider(mentionChild.props.data, ignoreAccents);\n      var syncResult = provideData(query, _this.updateSuggestions.bind(null, _this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue));\n\n      if (syncResult instanceof Array) {\n        _this.updateSuggestions(_this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, syncResult);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestions\", function (queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, results) {\n      // neglect async results from previous queries\n      if (queryId !== _this._queryId) return; // save in property so that multiple sync state updates from different mentions sources\n      // won't overwrite each other\n\n      _this.suggestions = _objectSpread$1(_objectSpread$1({}, _this.suggestions), {}, _defineProperty({}, childIndex, {\n        queryInfo: {\n          childIndex: childIndex,\n          query: query,\n          querySequenceStart: querySequenceStart,\n          querySequenceEnd: querySequenceEnd,\n          plainTextValue: plainTextValue\n        },\n        results: results\n      }));\n      var focusIndex = _this.state.focusIndex;\n      var suggestionsCount = countSuggestions(_this.suggestions);\n\n      _this.setState({\n        suggestions: _this.suggestions,\n        focusIndex: focusIndex >= suggestionsCount ? Math.max(suggestionsCount - 1, 0) : focusIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMention\", function (_ref2, _ref3) {\n      var id = _ref2.id,\n          display = _ref2.display;\n      var childIndex = _ref3.childIndex,\n          querySequenceStart = _ref3.querySequenceStart,\n          querySequenceEnd = _ref3.querySequenceEnd,\n          plainTextValue = _ref3.plainTextValue;\n      // Insert mention in the marked up value at the correct position\n      var value = _this.props.value || '';\n      var config = readConfigFromChildren(_this.props.children);\n      var mentionsChild = Children.toArray(_this.props.children)[childIndex];\n      var _mentionsChild$props = mentionsChild.props,\n          markup = _mentionsChild$props.markup,\n          displayTransform = _mentionsChild$props.displayTransform,\n          appendSpaceOnAdd = _mentionsChild$props.appendSpaceOnAdd,\n          onAdd = _mentionsChild$props.onAdd;\n      var start = mapPlainTextIndex(value, config, querySequenceStart, 'START');\n      var end = start + querySequenceEnd - querySequenceStart;\n      var insert = makeMentionsMarkup(markup, id, display);\n\n      if (appendSpaceOnAdd) {\n        insert += ' ';\n      }\n\n      var newValue = spliceString(value, start, end, insert); // Refocus input and set caret position to end of mention\n\n      _this.inputElement.focus();\n\n      var displayValue = displayTransform(id, display);\n\n      if (appendSpaceOnAdd) {\n        displayValue += ' ';\n      }\n\n      var newCaretPosition = querySequenceStart + displayValue.length;\n\n      _this.setState({\n        selectionStart: newCaretPosition,\n        selectionEnd: newCaretPosition,\n        setSelectionAfterMentionChange: true\n      }); // Propagate change\n\n\n      var eventMock = {\n        target: {\n          value: newValue\n        }\n      };\n      var mentions = getMentions(newValue, config);\n      var newPlainTextValue = spliceString(plainTextValue, querySequenceStart, querySequenceEnd, displayValue);\n\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\n\n      if (onAdd) {\n        onAdd(id, display, start, end);\n      } // Make sure the suggestions overlay is closed\n\n\n      _this.clearSuggestions();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isLoading\", function () {\n      var isLoading = false;\n      React.Children.forEach(_this.props.children, function (child) {\n        isLoading = isLoading || child && child.props.isLoading;\n      });\n      return isLoading;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isOpened\", function () {\n      return isNumber(_this.state.selectionStart) && (countSuggestions(_this.state.suggestions) !== 0 || _this.isLoading());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_queryId\", 0);\n\n    _this.suggestions = {};\n    _this.uuidSuggestionsOverlay = Math.random().toString(16).substring(2);\n    _this.handleCopy = _this.handleCopy.bind(_assertThisInitialized(_this));\n    _this.handleCut = _this.handleCut.bind(_assertThisInitialized(_this));\n    _this.handlePaste = _this.handlePaste.bind(_assertThisInitialized(_this));\n    _this.state = {\n      focusIndex: 0,\n      selectionStart: null,\n      selectionEnd: null,\n      suggestions: {},\n      caretPosition: null,\n      suggestionsPosition: {},\n      setSelectionAfterHandlePaste: false\n    };\n    return _this;\n  }\n\n  _createClass(MentionsInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('copy', this.handleCopy);\n      document.addEventListener('cut', this.handleCut);\n      document.addEventListener('paste', this.handlePaste);\n      this.updateSuggestionsPosition();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      // Update position of suggestions unless this componentDidUpdate was\n      // triggered by an update to suggestionsPosition.\n      if (prevState.suggestionsPosition === this.state.suggestionsPosition) {\n        this.updateSuggestionsPosition();\n      } // maintain selection in case a mention is added/removed causing\n      // the cursor to jump to the end\n\n\n      if (this.state.setSelectionAfterMentionChange) {\n        this.setState({\n          setSelectionAfterMentionChange: false\n        });\n        this.setSelection(this.state.selectionStart, this.state.selectionEnd);\n      }\n\n      if (this.state.setSelectionAfterHandlePaste) {\n        this.setState({\n          setSelectionAfterHandlePaste: false\n        });\n        this.setSelection(this.state.selectionStart, this.state.selectionEnd);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('copy', this.handleCopy);\n      document.removeEventListener('cut', this.handleCut);\n      document.removeEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.setContainerElement\n      }, this.props.style), this.renderControl(), this.renderSuggestionsOverlay());\n    }\n  }, {\n    key: \"handlePaste\",\n    value: function handlePaste(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n\n      event.preventDefault();\n      var _this$state3 = this.state,\n          selectionStart = _this$state3.selectionStart,\n          selectionEnd = _this$state3.selectionEnd;\n      var _this$props7 = this.props,\n          value = _this$props7.value,\n          children = _this$props7.children;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      var pastedMentions = event.clipboardData.getData('text/react-mentions');\n      var pastedData = event.clipboardData.getData('text/plain');\n      var newValue = spliceString(value, markupStartIndex, markupEndIndex, pastedMentions || pastedData).replace(/\\r/g, '');\n      var newPlainTextValue = getPlainText(newValue, config);\n      var eventMock = {\n        target: _objectSpread$1(_objectSpread$1({}, event.target), {}, {\n          value: newValue\n        })\n      };\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(newValue, config)); // Move the cursor position to the end of the pasted data\n\n      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);\n      var nextPos = (startOfMention || selectionStart) + getPlainText(pastedMentions || pastedData, config).length;\n      this.setState({\n        selectionStart: nextPos,\n        selectionEnd: nextPos,\n        setSelectionAfterHandlePaste: true\n      });\n    }\n  }, {\n    key: \"saveSelectionToClipboard\",\n    value: function saveSelectionToClipboard(event) {\n      // use the actual selectionStart & selectionEnd instead of the one stored\n      // in state to ensure copy & paste also works on disabled inputs & textareas\n      var selectionStart = this.inputElement.selectionStart;\n      var selectionEnd = this.inputElement.selectionEnd;\n      var _this$props8 = this.props,\n          children = _this$props8.children,\n          value = _this$props8.value;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      event.clipboardData.setData('text/plain', event.target.value.slice(selectionStart, selectionEnd));\n      event.clipboardData.setData('text/react-mentions', value.slice(markupStartIndex, markupEndIndex));\n    }\n  }, {\n    key: \"supportsClipboardActions\",\n    value: function supportsClipboardActions(event) {\n      return !!event.clipboardData;\n    }\n  }, {\n    key: \"handleCopy\",\n    value: function handleCopy(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n\n      event.preventDefault();\n      this.saveSelectionToClipboard(event);\n    }\n  }, {\n    key: \"handleCut\",\n    value: function handleCut(event) {\n      if (event.target !== this.inputElement) {\n        return;\n      }\n\n      if (!this.supportsClipboardActions(event)) {\n        return;\n      }\n\n      event.preventDefault();\n      this.saveSelectionToClipboard(event);\n      var _this$state4 = this.state,\n          selectionStart = _this$state4.selectionStart,\n          selectionEnd = _this$state4.selectionEnd;\n      var _this$props9 = this.props,\n          children = _this$props9.children,\n          value = _this$props9.value;\n      var config = readConfigFromChildren(children);\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\n      var newValue = [value.slice(0, markupStartIndex), value.slice(markupEndIndex)].join('');\n      var newPlainTextValue = getPlainText(newValue, config);\n      var eventMock = {\n        target: _objectSpread$1(_objectSpread$1({}, event.target), {}, {\n          value: newPlainTextValue\n        })\n      };\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(value, config));\n    } // Handle input element's change event\n\n  }]);\n\n  return MentionsInput;\n}(React.Component);\n/**\n * Returns the computed length property value for the provided element.\n * Note: According to spec and testing, can count on length values coming back in pixels. See https://developer.mozilla.org/en-US/docs/Web/CSS/used_value#Difference_from_computed_value\n */\n\n\n_defineProperty(MentionsInput, \"propTypes\", propTypes);\n\n_defineProperty(MentionsInput, \"defaultProps\", {\n  ignoreAccents: false,\n  singleLine: false,\n  allowSuggestionsAboveCursor: false,\n  onKeyDown: function onKeyDown() {\n    return null;\n  },\n  onSelect: function onSelect() {\n    return null;\n  },\n  onBlur: function onBlur() {\n    return null;\n  }\n});\n\nvar getComputedStyleLengthProp = function getComputedStyleLengthProp(forElement, propertyName) {\n  var length = parseFloat(window.getComputedStyle(forElement, null).getPropertyValue(propertyName));\n  return isFinite(length) ? length : 0;\n};\n\nvar isMobileSafari = typeof navigator !== 'undefined' && /iPhone|iPad|iPod/i.test(navigator.userAgent);\nvar styled$3 = createDefaultStyle({\n  position: 'relative',\n  overflowY: 'visible',\n  input: {\n    display: 'block',\n    width: '100%',\n    position: 'absolute',\n    margin: 0,\n    top: 0,\n    left: 0,\n    boxSizing: 'border-box',\n    backgroundColor: 'transparent',\n    fontFamily: 'inherit',\n    fontSize: 'inherit',\n    letterSpacing: 'inherit'\n  },\n  '&multiLine': {\n    input: _objectSpread$1({\n      height: '100%',\n      bottom: 0,\n      overflow: 'hidden',\n      resize: 'none'\n    }, isMobileSafari ? {\n      marginTop: 1,\n      marginLeft: -3\n    } : null)\n  }\n}, function (_ref4) {\n  var singleLine = _ref4.singleLine;\n  return {\n    '&singleLine': singleLine,\n    '&multiLine': !singleLine\n  };\n});\nvar MentionsInput$1 = styled$3(MentionsInput);\n\nvar defaultStyle = {\n  fontWeight: 'inherit'\n};\n\nvar Mention = function Mention(_ref) {\n  var display = _ref.display,\n      style = _ref.style,\n      className = _ref.className,\n      classNames = _ref.classNames;\n  var styles = useStyles(defaultStyle, {\n    style: style,\n    className: className,\n    classNames: classNames\n  });\n  return /*#__PURE__*/React.createElement(\"strong\", styles, display);\n};\n\nMention.propTypes = {\n  /**\n   * Called when a new mention is added in the input\n   *\n   * Example:\n   *\n   * ```js\n   * function(id, display) {\n   *   console.log(\"user \" + display + \" was mentioned!\");\n   * }\n   * ```\n   */\n  onAdd: PropTypes.func,\n  onRemove: PropTypes.func,\n  renderSuggestion: PropTypes.func,\n  trigger: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]),\n  markup: PropTypes.string,\n  displayTransform: PropTypes.func,\n\n  /**\n   * If set to `true` spaces will not interrupt matching suggestions\n   */\n  allowSpaceInQuery: PropTypes.bool,\n  isLoading: PropTypes.bool\n};\nMention.defaultProps = {\n  trigger: '@',\n  markup: '@[__display__](__id__)',\n  displayTransform: function displayTransform(id, display) {\n    return display || id;\n  },\n  onAdd: function onAdd() {\n    return null;\n  },\n  onRemove: function onRemove() {\n    return null;\n  },\n  renderSuggestion: null,\n  isLoading: false,\n  appendSpaceOnAdd: false\n};\n\nexport { Mention, MentionsInput$1 as MentionsInput };\n"],"mappings":"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AAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,EAAE;EACDD,IAAI,EAAE,GAAG;EACTC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,IAAIC,aAAa,GAAG,SAASA,aAAaA,CAAC1H,GAAG,EAAE;EAC9C,IAAI2H,YAAY,GAAG3H,GAAG;EACtBuH,iBAAiB,CAACK,OAAO,CAAC,UAAUC,gBAAgB,EAAE;IACpDF,YAAY,GAAGA,YAAY,CAAC1H,OAAO,CAAC4H,gBAAgB,CAACJ,OAAO,EAAEI,gBAAgB,CAACL,IAAI,CAAC;EACtF,CAAC,CAAC;EACF,OAAOG,YAAY;AACrB,CAAC;AAED,IAAIG,eAAe,GAAG,SAASA,eAAeA,CAAC9H,GAAG,EAAE;EAClD,OAAO0H,aAAa,CAAC1H,GAAG,CAAC,CAAC+H,WAAW,CAAC,CAAC;AACzC,CAAC;AAED,IAAIC,iBAAiB,GAAG,SAASA,iBAAiBA,CAAChI,GAAG,EAAEoD,MAAM,EAAE6E,aAAa,EAAE;EAC7E,IAAI,CAACA,aAAa,EAAE;IAClB,OAAOjI,GAAG,CAAC+H,WAAW,CAAC,CAAC,CAACrH,OAAO,CAAC0C,MAAM,CAAC2E,WAAW,CAAC,CAAC,CAAC;EACxD;EAEA,OAAOD,eAAe,CAAC9H,GAAG,CAAC,CAACU,OAAO,CAACoH,eAAe,CAAC1E,MAAM,CAAC,CAAC;AAC9D,CAAC;AAED,IAAI8E,IAAI,GAAG,SAASA,IAAIA,CAAA,EAAG;EACzB,OAAO,CAAC,CAACC,QAAQ,CAACC,YAAY;AAChC,CAAC;AAED,IAAIC,QAAQ,GAAG,SAASA,QAAQA,CAACC,GAAG,EAAE;EACpC,OAAO,OAAOA,GAAG,KAAK,QAAQ;AAChC,CAAC;AAED,IAAIC,IAAI,GAAG,SAASA,IAAIA,CAACC,GAAG,EAAE;EAC5B,OAAOA,GAAG,KAAKrC,MAAM,CAACqC,GAAG,CAAC,GAAGrC,MAAM,CAACoC,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE;AACpD,CAAC;AAED,IAAIC,IAAI,GAAG,SAASA,IAAIA,CAACD,GAAG,EAAE;EAC5B,IAAIjG,IAAI;EAER,KAAK,IAAImG,IAAI,GAAGzG,SAAS,CAACC,MAAM,EAAEyG,IAAI,GAAG,IAAIC,KAAK,CAACF,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;IAC1GF,IAAI,CAACE,IAAI,GAAG,CAAC,CAAC,GAAG5G,SAAS,CAAC4G,IAAI,CAAC;EAClC;EAEA,IAAIN,IAAI,GAAG,CAAChG,IAAI,GAAG,EAAE,EAAE/B,MAAM,CAACsI,KAAK,CAACvG,IAAI,EAAEoG,IAAI,CAAC;EAE/C,OAAOxC,MAAM,CAACoC,IAAI,CAACC,GAAG,CAAC,CAACnC,MAAM,CAAC,UAAUC,GAAG,EAAEyC,CAAC,EAAE;IAC/C,IAAIP,GAAG,CAACQ,cAAc,CAACD,CAAC,CAAC,IAAI,CAACR,IAAI,CAACU,QAAQ,CAACF,CAAC,CAAC,IAAIP,GAAG,CAACO,CAAC,CAAC,KAAK5G,SAAS,EAAE;MACtEmE,GAAG,CAACyC,CAAC,CAAC,GAAGP,GAAG,CAACO,CAAC,CAAC;IACjB;IAEA,OAAOzC,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAED,IAAI4C,SAAS,GAAG,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY,CAAC;AAEpD,SAASC,OAAOA,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAId,IAAI,GAAGpC,MAAM,CAACoC,IAAI,CAACa,MAAM,CAAC;EAAE,IAAIjD,MAAM,CAACmD,qBAAqB,EAAE;IAAE,IAAIC,OAAO,GAAGpD,MAAM,CAACmD,qBAAqB,CAACF,MAAM,CAAC;IAAEC,cAAc,KAAKE,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;MAAE,OAAOtD,MAAM,CAACuD,wBAAwB,CAACN,MAAM,EAAEK,GAAG,CAAC,CAACE,UAAU;IAAE,CAAC,CAAC,CAAC,EAAEpB,IAAI,CAACzC,IAAI,CAACgD,KAAK,CAACP,IAAI,EAAEgB,OAAO,CAAC;EAAE;EAAE,OAAOhB,IAAI;AAAE;AAEpV,SAASqB,aAAaA,CAACC,MAAM,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7H,SAAS,CAACC,MAAM,EAAE4H,CAAC,EAAE,EAAE;IAAE,IAAIC,MAAM,GAAG,IAAI,IAAI9H,SAAS,CAAC6H,CAAC,CAAC,GAAG7H,SAAS,CAAC6H,CAAC,CAAC,GAAG,CAAC,CAAC;IAAEA,CAAC,GAAG,CAAC,GAAGX,OAAO,CAAChD,MAAM,CAAC4D,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACnC,OAAO,CAAC,UAAUoC,GAAG,EAAE;MAAE7K,eAAe,CAAC0K,MAAM,EAAEG,GAAG,EAAED,MAAM,CAACC,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC,GAAG7D,MAAM,CAAC8D,yBAAyB,GAAG9D,MAAM,CAAC+D,gBAAgB,CAACL,MAAM,EAAE1D,MAAM,CAAC8D,yBAAyB,CAACF,MAAM,CAAC,CAAC,GAAGZ,OAAO,CAAChD,MAAM,CAAC4D,MAAM,CAAC,CAAC,CAACnC,OAAO,CAAC,UAAUoC,GAAG,EAAE;MAAE7D,MAAM,CAACgE,cAAc,CAACN,MAAM,EAAEG,GAAG,EAAE7D,MAAM,CAACuD,wBAAwB,CAACK,MAAM,EAAEC,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC;EAAE;EAAE,OAAOH,MAAM;AAAE;AAEzf,SAASO,kBAAkBA,CAACC,YAAY,EAAEC,YAAY,EAAE;EACtD,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACC,eAAe,EAAE;IAC9C,IAAIC,oBAAoB,GAAG,SAASA,oBAAoBA,CAAClI,IAAI,EAAE;MAC7D,IAAImI,KAAK,GAAGnI,IAAI,CAACmI,KAAK;QAClBC,SAAS,GAAGpI,IAAI,CAACoI,SAAS;QAC1BC,UAAU,GAAGrI,IAAI,CAACqI,UAAU;QAC5BjC,IAAI,GAAGjJ,wBAAwB,CAAC6C,IAAI,EAAE2G,SAAS,CAAC;MAEpD,IAAI2B,SAAS,GAAGP,YAAY,GAAGA,YAAY,CAAC3B,IAAI,CAAC,GAAGxG,SAAS;MAC7D,IAAI2I,MAAM,GAAGnL,SAAS,CAAC0K,YAAY,EAAE;QACnCK,KAAK,EAAEA,KAAK;QACZC,SAAS,EAAEA,SAAS;QACpBC,UAAU,EAAEA;MACd,CAAC,EAAEC,SAAS,CAAC;MACb,OAAO,aAAazL,KAAK,CAAC2L,aAAa,CAACP,eAAe,EAAE5L,QAAQ,CAAC,CAAC,CAAC,EAAE+J,IAAI,EAAE;QAC1E+B,KAAK,EAAEI;MACT,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAIE,WAAW,GAAGR,eAAe,CAACQ,WAAW,IAAIR,eAAe,CAACS,IAAI,IAAI,WAAW;IACpFR,oBAAoB,CAACO,WAAW,GAAG,eAAe,CAACxK,MAAM,CAACwK,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;;IAE7E,OAAO,aAAa5L,KAAK,CAAC8L,UAAU,CAAC,UAAUhE,KAAK,EAAEiE,GAAG,EAAE;MACzD,OAAOV,oBAAoB,CAACb,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE1C,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;QACtEiE,GAAG,EAAEA;MACP,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;EACJ,CAAC;EAED,OAAOZ,OAAO;AAChB;AAEA,IAAIa,qBAAqB,GAAG,SAASA,qBAAqBA,CAACC,QAAQ,EAAElL,EAAE,EAAE;EACvE,IAAI,CAACkL,QAAQ,CAACrC,cAAc,CAAC7I,EAAE,CAAC,EAAE;IAChCkL,QAAQ,CAAClL,EAAE,CAAC,GAAG,CAAC;EAClB,CAAC,MAAM;IACLkL,QAAQ,CAAClL,EAAE,CAAC,EAAE;EAChB;EAEA,OAAOA,EAAE,GAAG,GAAG,GAAGkL,QAAQ,CAAClL,EAAE,CAAC;AAChC,CAAC;AAED,SAASmL,WAAWA,CAAC/I,IAAI,EAAE;EACzB,IAAIgJ,cAAc,GAAGhJ,IAAI,CAACgJ,cAAc;IACpCC,YAAY,GAAGjJ,IAAI,CAACiJ,YAAY;IAChCC,UAAU,GAAGlJ,IAAI,CAACV,KAAK;IACvBA,KAAK,GAAG4J,UAAU,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,UAAU;IAC/CC,qBAAqB,GAAGnJ,IAAI,CAACmJ,qBAAqB;IAClDC,YAAY,GAAGpJ,IAAI,CAACoJ,YAAY;IAChC5E,QAAQ,GAAGxE,IAAI,CAACwE,QAAQ;IACxB6E,UAAU,GAAGrJ,IAAI,CAACqJ,UAAU;IAC5BlB,KAAK,GAAGnI,IAAI,CAACmI,KAAK;EAEtB,IAAImB,SAAS,GAAGvM,QAAQ,CAAC;MACvBwM,IAAI,EAAE3J,SAAS;MACf4J,GAAG,EAAE5J;IACP,CAAC,CAAC;IACE6J,UAAU,GAAGvM,cAAc,CAACoM,SAAS,EAAE,CAAC,CAAC;IACzCI,QAAQ,GAAGD,UAAU,CAAC,CAAC,CAAC;IACxBE,WAAW,GAAGF,UAAU,CAAC,CAAC,CAAC;EAE/B,IAAIG,UAAU,GAAG7M,QAAQ,CAAC,CAAC;IACvB8M,UAAU,GAAG3M,cAAc,CAAC0M,UAAU,EAAE,CAAC,CAAC;IAC1CE,YAAY,GAAGD,UAAU,CAAC,CAAC,CAAC;IAC5BE,eAAe,GAAGF,UAAU,CAAC,CAAC,CAAC;EAEnC7M,SAAS,CAAC,YAAY;IACpBgN,mBAAmB,CAAC,CAAC;EACvB,CAAC,CAAC;EAEF,IAAIA,mBAAmB,GAAG,SAASA,mBAAmBA,CAAA,EAAG;IACvD,IAAI,CAACF,YAAY,EAAE;MACjB;IACF;IAEA,IAAIG,UAAU,GAAGH,YAAY,CAACG,UAAU;MACpCC,SAAS,GAAGJ,YAAY,CAACI,SAAS;IAEtC,IAAIR,QAAQ,CAACH,IAAI,KAAKU,UAAU,IAAIP,QAAQ,CAACF,GAAG,KAAKU,SAAS,EAAE;MAC9D;IACF;IAEA,IAAIC,WAAW,GAAG;MAChBZ,IAAI,EAAEU,UAAU;MAChBT,GAAG,EAAEU;IACP,CAAC;IACDP,WAAW,CAACQ,WAAW,CAAC;IACxBhB,qBAAqB,CAACgB,WAAW,CAAC;EACpC,CAAC;EAED,IAAI5K,MAAM,GAAGgF,sBAAsB,CAACC,QAAQ,CAAC;EAC7C,IAAI4F,qBAAqB;EAEzB,IAAInB,YAAY,KAAKD,cAAc,EAAE;IACnCoB,qBAAqB,GAAGhJ,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,EAAE,OAAO,CAAC;EACnF;EAEA,IAAIqB,gBAAgB,GAAG,EAAE;EACzB,IAAIC,aAAa,GAAG,CAAC,CAAC;EACtB,IAAIC,UAAU,GAAGF,gBAAgB;EACjC,IAAIG,qBAAqB,GAAG,CAAC;EAE7B,IAAI/K,YAAY,GAAG,SAASA,YAAYA,CAACoB,MAAM,EAAEE,KAAK,EAAEM,gBAAgB,EAAE;IACxE;IACA,IAAIyE,QAAQ,CAACsE,qBAAqB,CAAC,IAAIA,qBAAqB,IAAIrJ,KAAK,IAAIqJ,qBAAqB,IAAIrJ,KAAK,GAAGF,MAAM,CAAClB,MAAM,EAAE;MACvH;MACA,IAAI8K,UAAU,GAAGL,qBAAqB,GAAGrJ,KAAK;MAC9CwJ,UAAU,CAAChH,IAAI,CAACmH,eAAe,CAAC7J,MAAM,CAACC,SAAS,CAAC,CAAC,EAAE2J,UAAU,CAAC,EAAED,qBAAqB,CAAC,CAAC,CAAC,CAAC;;MAE1FD,UAAU,GAAG,CAACG,eAAe,CAAC7J,MAAM,CAACC,SAAS,CAAC2J,UAAU,CAAC,EAAED,qBAAqB,CAAC,CAAC;IACrF,CAAC,MAAM;MACLD,UAAU,CAAChH,IAAI,CAACmH,eAAe,CAAC7J,MAAM,EAAE2J,qBAAqB,CAAC,CAAC;IACjE;IAEAA,qBAAqB,EAAE;EACzB,CAAC;EAED,IAAIG,eAAe,GAAG,SAASA,eAAeA,CAAC5M,MAAM,EAAEgD,KAAK,EAAEM,gBAAgB,EAAEzD,EAAE,EAAEC,OAAO,EAAE2C,iBAAiB,EAAEkB,mBAAmB,EAAE;IACnI,IAAI+F,GAAG,GAAGoB,qBAAqB,CAACyB,aAAa,EAAE1M,EAAE,CAAC;IAElD2M,UAAU,CAAChH,IAAI,CAACqH,2BAA2B,CAAChN,EAAE,EAAEC,OAAO,EAAE2C,iBAAiB,EAAEiH,GAAG,CAAC,CAAC;EACnF,CAAC;EAED,IAAIiD,eAAe,GAAG,SAASA,eAAeA,CAACG,MAAM,EAAEpD,GAAG,EAAE;IAC1D;IACA,OAAO,aAAa5K,KAAK,CAAC2L,aAAa,CAAC,MAAM,EAAEnM,QAAQ,CAAC,CAAC,CAAC,EAAE8L,KAAK,CAAC,WAAW,CAAC,EAAE;MAC/EV,GAAG,EAAEA;IACP,CAAC,CAAC,EAAEoD,MAAM,CAAC;EACb,CAAC;EAED,IAAID,2BAA2B,GAAG,SAASA,2BAA2BA,CAAChN,EAAE,EAAEC,OAAO,EAAE2C,iBAAiB,EAAEiH,GAAG,EAAE;IAC1G,IAAI9C,KAAK,GAAG;MACV/G,EAAE,EAAEA,EAAE;MACNC,OAAO,EAAEA,OAAO;MAChB4J,GAAG,EAAEA;IACP,CAAC;IACD,IAAIqD,KAAK,GAAGhO,QAAQ,CAAC2H,OAAO,CAACD,QAAQ,CAAC,CAAChE,iBAAiB,CAAC;IACzD,OAAO,aAAa3D,KAAK,CAACkO,YAAY,CAACD,KAAK,EAAEnG,KAAK,CAAC;EACtD,CAAC;EAED,IAAIqG,sBAAsB,GAAG,SAASA,sBAAsBA,CAACxG,QAAQ,EAAE;IACrE,OAAO,aAAa3H,KAAK,CAAC2L,aAAa,CAAC,MAAM,EAAEnM,QAAQ,CAAC,CAAC,CAAC,EAAE8L,KAAK,CAAC,OAAO,CAAC,EAAE;MAC3ES,GAAG,EAAEmB,eAAe;MACpBtC,GAAG,EAAE;IACP,CAAC,CAAC,EAAEjD,QAAQ,CAAC;EACf,CAAC;EAEDnF,qBAAqB,CAACC,KAAK,EAAEC,MAAM,EAAEoL,eAAe,EAAElL,YAAY,CAAC,CAAC,CAAC;;EAErE8K,UAAU,CAAChH,IAAI,CAAC,GAAG,CAAC;EAEpB,IAAIgH,UAAU,KAAKF,gBAAgB,EAAE;IACnC;IACAA,gBAAgB,CAAC9G,IAAI,CAACyH,sBAAsB,CAACT,UAAU,CAAC,CAAC;EAC3D;EAEA,OAAO,aAAa1N,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEnM,QAAQ,CAAC,CAAC,CAAC,EAAE8L,KAAK,EAAE;IACjES,GAAG,EAAEQ;EACP,CAAC,CAAC,EAAEiB,gBAAgB,CAAC;AACvB;AAEAtB,WAAW,CAACkC,SAAS,GAAG;EACtBjC,cAAc,EAAE1L,SAAS,CAAC4N,MAAM;EAChCjC,YAAY,EAAE3L,SAAS,CAAC4N,MAAM;EAC9B5L,KAAK,EAAEhC,SAAS,CAACuN,MAAM,CAACM,UAAU;EAClChC,qBAAqB,EAAE7L,SAAS,CAAC8N,IAAI,CAACD,UAAU;EAChD/B,YAAY,EAAE9L,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAAC8N,IAAI,EAAE9N,SAAS,CAACgO,KAAK,CAAC;IACjEC,OAAO,EAAE,OAAOC,OAAO,KAAK,WAAW,GAAGlO,SAAS,CAACmO,GAAG,GAAGnO,SAAS,CAACoO,UAAU,CAACF,OAAO;EACxF,CAAC,CAAC,CAAC,CAAC;EACJhH,QAAQ,EAAElH,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAACqO,OAAO,EAAErO,SAAS,CAACsO,OAAO,CAACtO,SAAS,CAACqO,OAAO,CAAC,CAAC,CAAC,CAACR;AAC3F,CAAC;AACD,IAAIU,MAAM,GAAGhE,kBAAkB,CAAC;EAC9B6B,QAAQ,EAAE,UAAU;EACpBoC,SAAS,EAAE,YAAY;EACvBC,KAAK,EAAE,MAAM;EACbC,KAAK,EAAE,aAAa;EACpBC,QAAQ,EAAE,QAAQ;EAClBC,UAAU,EAAE,UAAU;EACtBC,QAAQ,EAAE,YAAY;EACtBC,MAAM,EAAE,uBAAuB;EAC/BC,SAAS,EAAE,OAAO;EAClB,aAAa,EAAE;IACbH,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE;EACZ,CAAC;EACDrL,SAAS,EAAE;IACTwL,UAAU,EAAE;EACd;AACF,CAAC,EAAE,UAAU3H,KAAK,EAAE;EAClB,OAAO;IACL,aAAa,EAAEA,KAAK,CAAC0E;EACvB,CAAC;AACH,CAAC,CAAC;AACF,IAAIkD,aAAa,GAAGV,MAAM,CAAC9C,WAAW,CAAC;AAEvC,SAASyD,UAAUA,CAACxM,IAAI,EAAE;EACxB,IAAIpC,EAAE,GAAGoC,IAAI,CAACpC,EAAE;IACZ6O,OAAO,GAAGzM,IAAI,CAACyM,OAAO;IACtB/G,aAAa,GAAG1F,IAAI,CAAC0F,aAAa;IAClC3E,KAAK,GAAGf,IAAI,CAACe,KAAK;IAClB2L,OAAO,GAAG1M,IAAI,CAAC0M,OAAO;IACtBC,YAAY,GAAG3M,IAAI,CAAC2M,YAAY;IAChCC,KAAK,GAAG5M,IAAI,CAAC4M,KAAK;IAClBC,gBAAgB,GAAG7M,IAAI,CAAC6M,gBAAgB;IACxCC,UAAU,GAAG9M,IAAI,CAAC8M,UAAU;IAC5B3E,KAAK,GAAGnI,IAAI,CAACmI,KAAK;IAClBC,SAAS,GAAGpI,IAAI,CAACoI,SAAS;IAC1BC,UAAU,GAAGrI,IAAI,CAACqI,UAAU;EAChC,IAAIjC,IAAI,GAAG;IACTsG,OAAO,EAAEA,OAAO;IAChBC,YAAY,EAAEA;EAChB,CAAC;EAED,IAAII,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;IAC3C,IAAIlP,OAAO,GAAGmP,UAAU,CAAC,CAAC;IAC1B,IAAIC,kBAAkB,GAAGC,wBAAwB,CAACrP,OAAO,CAAC;IAE1D,IAAIgP,gBAAgB,EAAE;MACpB,OAAOA,gBAAgB,CAACC,UAAU,EAAEF,KAAK,EAAEK,kBAAkB,EAAElM,KAAK,EAAE0L,OAAO,CAAC;IAChF;IAEA,OAAOQ,kBAAkB;EAC3B,CAAC;EAED,IAAID,UAAU,GAAG,SAASA,UAAUA,CAAA,EAAG;IACrC,IAAI,OAAOF,UAAU,KAAK,QAAQ,EAAE;MAClC,OAAOA,UAAU;IACnB;IAEA,IAAIlP,EAAE,GAAGkP,UAAU,CAAClP,EAAE;MAClBC,OAAO,GAAGiP,UAAU,CAACjP,OAAO;IAEhC,IAAID,EAAE,KAAKgC,SAAS,IAAI,CAAC/B,OAAO,EAAE;MAChC,OAAOD,EAAE;IACX;IAEA,OAAOC,OAAO;EAChB,CAAC;EAED,IAAIqP,wBAAwB,GAAG,SAASA,wBAAwBA,CAACrP,OAAO,EAAE;IACxE,IAAI0J,CAAC,GAAG9B,iBAAiB,CAAC5H,OAAO,EAAE+O,KAAK,EAAElH,aAAa,CAAC;IAExD,IAAI6B,CAAC,KAAK,CAAC,CAAC,EAAE;MACZ,OAAO,aAAa1K,KAAK,CAAC2L,aAAa,CAAC,MAAM,EAAEL,KAAK,CAAC,SAAS,CAAC,EAAEtK,OAAO,CAAC;IAC5E;IAEA,OAAO,aAAahB,KAAK,CAAC2L,aAAa,CAAC,MAAM,EAAEL,KAAK,CAAC,SAAS,CAAC,EAAEtK,OAAO,CAACiD,SAAS,CAAC,CAAC,EAAEyG,CAAC,CAAC,EAAE,aAAa1K,KAAK,CAAC2L,aAAa,CAAC,GAAG,EAAEL,KAAK,CAAC,WAAW,CAAC,EAAEtK,OAAO,CAACiD,SAAS,CAACyG,CAAC,EAAEA,CAAC,GAAGqF,KAAK,CAACjN,MAAM,CAAC,CAAC,EAAE9B,OAAO,CAACiD,SAAS,CAACyG,CAAC,GAAGqF,KAAK,CAACjN,MAAM,CAAC,CAAC;EACpO,CAAC;EAED,OAAO,aAAa9C,KAAK,CAAC2L,aAAa,CAAC,IAAI,EAAEnM,QAAQ,CAAC;IACrDuB,EAAE,EAAEA,EAAE;IACNuP,IAAI,EAAE,QAAQ;IACd,eAAe,EAAEV;EACnB,CAAC,EAAErG,IAAI,EAAE+B,KAAK,CAAC,EAAE4E,aAAa,CAAC,CAAC,CAAC;AACnC;AAEAP,UAAU,CAACvB,SAAS,GAAG;EACrBrN,EAAE,EAAEN,SAAS,CAACuN,MAAM,CAACM,UAAU;EAC/ByB,KAAK,EAAEtP,SAAS,CAACuN,MAAM,CAACM,UAAU;EAClCpK,KAAK,EAAEzD,SAAS,CAAC4N,MAAM,CAACC,UAAU;EAClCzF,aAAa,EAAEpI,SAAS,CAAC8P,IAAI;EAC7BN,UAAU,EAAExP,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAACuN,MAAM,EAAEvN,SAAS,CAACgO,KAAK,CAAC;IACjE1N,EAAE,EAAEN,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAACuN,MAAM,EAAEvN,SAAS,CAAC4N,MAAM,CAAC,CAAC,CAACC,UAAU;IACxEtN,OAAO,EAAEP,SAAS,CAACuN;EACrB,CAAC,CAAC,CAAC,CAAC,CAACM,UAAU;EACf0B,gBAAgB,EAAEvP,SAAS,CAAC8N,IAAI;EAChCqB,OAAO,EAAEnP,SAAS,CAAC8P;AACrB,CAAC;AACD,IAAIC,QAAQ,GAAGxF,kBAAkB,CAAC;EAChCyF,MAAM,EAAE;AACV,CAAC,EAAE,UAAU3I,KAAK,EAAE;EAClB,OAAO;IACL,UAAU,EAAEA,KAAK,CAAC8H;EACpB,CAAC;AACH,CAAC,CAAC;AACF,IAAIc,YAAY,GAAGF,QAAQ,CAACb,UAAU,CAAC;AAEvC,SAASgB,gBAAgBA,CAACxN,IAAI,EAAE;EAC9B,IAAImI,KAAK,GAAGnI,IAAI,CAACmI,KAAK;IAClBC,SAAS,GAAGpI,IAAI,CAACoI,SAAS;IAC1BC,UAAU,GAAGrI,IAAI,CAACqI,UAAU;EAChC,IAAIE,MAAM,GAAGnL,SAAS,CAACqQ,YAAY,EAAE;IACnCtF,KAAK,EAAEA,KAAK;IACZC,SAAS,EAAEA,SAAS;IACpBC,UAAU,EAAEA;EACd,CAAC,CAAC;EACF,IAAIqF,aAAa,GAAGnF,MAAM,CAAC,SAAS,CAAC;EACrC,OAAO,aAAa1L,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAED,MAAM,EAAE,aAAa1L,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,EAAE,aAAa7Q,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,aAAa7Q,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,aAAa7Q,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,aAAa7Q,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,aAAa7Q,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEkF,aAAa,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AACrgB;AAEA,IAAID,YAAY,GAAG,CAAC,CAAC;AAErB,SAASE,kBAAkBA,CAAC3N,IAAI,EAAE;EAChC,IAAIpC,EAAE,GAAGoC,IAAI,CAACpC,EAAE;IACZgQ,gBAAgB,GAAG5N,IAAI,CAAC2D,WAAW;IACnCA,WAAW,GAAGiK,gBAAgB,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,GAAGA,gBAAgB;IACjEC,wBAAwB,GAAG7N,IAAI,CAAC6N,wBAAwB;IACxDC,UAAU,GAAG9N,IAAI,CAAC8N,UAAU;IAC5BpE,QAAQ,GAAG1J,IAAI,CAAC0J,QAAQ;IACxBH,IAAI,GAAGvJ,IAAI,CAACuJ,IAAI;IAChBwE,KAAK,GAAG/N,IAAI,CAAC+N,KAAK;IAClBvE,GAAG,GAAGxJ,IAAI,CAACwJ,GAAG;IACdwE,qBAAqB,GAAGhO,IAAI,CAACgO,qBAAqB;IAClDC,SAAS,GAAGjO,IAAI,CAACiO,SAAS;IAC1BC,QAAQ,GAAGlO,IAAI,CAACkO,QAAQ;IACxBC,aAAa,GAAGnO,IAAI,CAACoO,QAAQ;IAC7BA,QAAQ,GAAGD,aAAa,KAAK,KAAK,CAAC,GAAG,YAAY;MACpD,OAAO,IAAI;IACb,CAAC,GAAGA,aAAa;IACbzI,aAAa,GAAG1F,IAAI,CAAC0F,aAAa;IAClC0D,YAAY,GAAGpJ,IAAI,CAACoJ,YAAY;IAChC5E,QAAQ,GAAGxE,IAAI,CAACwE,QAAQ;IACxB2D,KAAK,GAAGnI,IAAI,CAACmI,KAAK;IAClBkG,0BAA0B,GAAGrO,IAAI,CAACqO,0BAA0B;IAC5DC,WAAW,GAAGtO,IAAI,CAACsO,WAAW;IAC9B3B,YAAY,GAAG3M,IAAI,CAAC2M,YAAY;EAEpC,IAAIrD,SAAS,GAAGvM,QAAQ,CAAC6C,SAAS,CAAC;IAC/B6J,UAAU,GAAGvM,cAAc,CAACoM,SAAS,EAAE,CAAC,CAAC;IACzCiF,SAAS,GAAG9E,UAAU,CAAC,CAAC,CAAC;IACzB+E,YAAY,GAAG/E,UAAU,CAAC,CAAC,CAAC;EAEhCzM,SAAS,CAAC,YAAY;IACpB,IAAI,CAACuR,SAAS,IAAIA,SAAS,CAACE,YAAY,IAAIF,SAAS,CAACG,YAAY,IAAI,CAACV,qBAAqB,EAAE;MAC5F;IACF;IAEA,IAAIW,SAAS,GAAGJ,SAAS,CAACI,SAAS;IAEnC,IAAIC,qBAAqB,GAAGL,SAAS,CAAC/J,QAAQ,CAACsJ,UAAU,CAAC,CAACe,qBAAqB,CAAC,CAAC;MAC9ErF,GAAG,GAAGoF,qBAAqB,CAACpF,GAAG;MAC/BsF,MAAM,GAAGF,qBAAqB,CAACE,MAAM;IAEzC,IAAIC,qBAAqB,GAAGR,SAAS,CAACM,qBAAqB,CAAC,CAAC;MACzDG,YAAY,GAAGD,qBAAqB,CAACvF,GAAG;IAE5CA,GAAG,GAAGA,GAAG,GAAGwF,YAAY,GAAGL,SAAS;IACpCG,MAAM,GAAGA,MAAM,GAAGE,YAAY,GAAGL,SAAS;IAE1C,IAAInF,GAAG,GAAGmF,SAAS,EAAE;MACnBJ,SAAS,CAACI,SAAS,GAAGnF,GAAG;IAC3B,CAAC,MAAM,IAAIsF,MAAM,GAAGP,SAAS,CAACE,YAAY,EAAE;MAC1CF,SAAS,CAACI,SAAS,GAAGG,MAAM,GAAGP,SAAS,CAACE,YAAY;IACvD;EACF,CAAC,EAAE,CAACX,UAAU,EAAEE,qBAAqB,EAAEO,SAAS,CAAC,CAAC;EAElD,IAAIU,iBAAiB,GAAG,SAASA,iBAAiBA,CAAA,EAAG;IACnD,IAAIC,mBAAmB,GAAG,aAAarS,KAAK,CAAC2L,aAAa,CAAC,IAAI,EAAEnM,QAAQ,CAAC;MACxEuM,GAAG,EAAE4F,YAAY;MACjB5Q,EAAE,EAAEA,EAAE;MACNuP,IAAI,EAAE,SAAS;MACf,YAAY,EAAEU;IAChB,CAAC,EAAE1F,KAAK,CAAC,MAAM,CAAC,CAAC,EAAEvE,MAAM,CAACC,MAAM,CAACF,WAAW,CAAC,CAACG,MAAM,CAAC,UAAUqL,UAAU,EAAEC,KAAK,EAAE;MAChF,IAAIpL,OAAO,GAAGoL,KAAK,CAACpL,OAAO;QACvBqL,SAAS,GAAGD,KAAK,CAACC,SAAS;MAC/B,OAAO,EAAE,CAACpR,MAAM,CAAC7B,kBAAkB,CAAC+S,UAAU,CAAC,EAAE/S,kBAAkB,CAAC4H,OAAO,CAACvF,GAAG,CAAC,UAAUwB,MAAM,EAAEc,KAAK,EAAE;QACvG,OAAO8L,gBAAgB,CAAC5M,MAAM,EAAEoP,SAAS,EAAEF,UAAU,CAACxP,MAAM,GAAGoB,KAAK,CAAC;MACvE,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,IAAIsN,0BAA0B,EAAE,OAAOA,0BAA0B,CAACa,mBAAmB,CAAC;IACtF,OAAOA,mBAAmB;EAC5B,CAAC;EAED,IAAIrC,gBAAgB,GAAG,SAASA,gBAAgBA,CAAC5M,MAAM,EAAEoP,SAAS,EAAEtO,KAAK,EAAE;IACzE,IAAIuO,SAAS,GAAGvO,KAAK,KAAK+M,UAAU;IACpC,IAAIrM,UAAU,GAAG4N,SAAS,CAAC5N,UAAU;MACjCmL,KAAK,GAAGyC,SAAS,CAACzC,KAAK;IAC3B,IAAIC,gBAAgB,GAAG/P,QAAQ,CAAC2H,OAAO,CAACD,QAAQ,CAAC,CAAC/C,UAAU,CAAC,CAACkD,KAAK,CAACkI,gBAAgB;IACpF,OAAO,aAAahQ,KAAK,CAAC2L,aAAa,CAAC+E,YAAY,EAAE;MACpDpF,KAAK,EAAEA,KAAK,CAAC,MAAM,CAAC;MACpBV,GAAG,EAAE,EAAE,CAACxJ,MAAM,CAACwD,UAAU,EAAE,GAAG,CAAC,CAACxD,MAAM,CAACsR,KAAK,CAACtP,MAAM,CAAC,CAAC;MACrDrC,EAAE,EAAE4F,mBAAmB,CAAC5F,EAAE,EAAEmD,KAAK,CAAC;MAClC6L,KAAK,EAAEA,KAAK;MACZ7L,KAAK,EAAEA,KAAK;MACZ2E,aAAa,EAAEA,aAAa;MAC5BmH,gBAAgB,EAAEA,gBAAgB;MAClCC,UAAU,EAAE7M,MAAM;MAClBwM,OAAO,EAAE6C,SAAS;MAClB5C,OAAO,EAAE,SAASA,OAAOA,CAAA,EAAG;QAC1B,OAAO8C,MAAM,CAACvP,MAAM,EAAEoP,SAAS,CAAC;MAClC,CAAC;MACD1C,YAAY,EAAE,SAASA,YAAYA,CAAA,EAAG;QACpC,OAAO8C,gBAAgB,CAAC1O,KAAK,CAAC;MAChC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAI2O,sBAAsB,GAAG,SAASA,sBAAsBA,CAAA,EAAG;IAC7D,IAAI,CAACzB,SAAS,EAAE;MACd;IACF;IAEA,OAAO,aAAapR,KAAK,CAAC2L,aAAa,CAACgF,gBAAgB,EAAE;MACxDrF,KAAK,EAAEA,KAAK,CAAC,kBAAkB;IACjC,CAAC,CAAC;EACJ,CAAC;EAED,IAAIsH,gBAAgB,GAAG,SAASA,gBAAgBA,CAAC1O,KAAK,EAAE4O,EAAE,EAAE;IAC1D,IAAIhD,YAAY,EAAE;MAChBA,YAAY,CAAC5L,KAAK,CAAC;IACrB;EACF,CAAC;EAED,IAAIyO,MAAM,GAAG,SAASA,MAAMA,CAAC1C,UAAU,EAAEuC,SAAS,EAAE;IAClDjB,QAAQ,CAACtB,UAAU,EAAEuC,SAAS,CAAC;EACjC,CAAC;EAED,IAAIE,KAAK,GAAG,SAASA,KAAKA,CAACzC,UAAU,EAAE;IACrC,IAAI,OAAOA,UAAU,KAAK,QAAQ,EAAE;MAClC,OAAOA,UAAU;IACnB;IAEA,OAAOA,UAAU,CAAClP,EAAE;EACtB,CAAC;EAED,IAAI,CAACsQ,QAAQ,EAAE;IACb,OAAO,IAAI;EACb;EAEA,OAAO,aAAarR,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEnM,QAAQ,CAAC,CAAC,CAAC,EAAEgB,MAAM,CAAC;IACjEqM,QAAQ,EAAEA,QAAQ,IAAI,UAAU;IAChCH,IAAI,EAAEA,IAAI;IACVwE,KAAK,EAAEA,KAAK;IACZvE,GAAG,EAAEA;EACP,CAAC,EAAErB,KAAK,CAAC,EAAE;IACTmG,WAAW,EAAEA,WAAW;IACxB1F,GAAG,EAAEQ;EACP,CAAC,CAAC,EAAE6F,iBAAiB,CAAC,CAAC,EAAES,sBAAsB,CAAC,CAAC,CAAC;AACpD;AAEA/B,kBAAkB,CAAC1C,SAAS,GAAG;EAC7BrN,EAAE,EAAEN,SAAS,CAACuN,MAAM,CAACM,UAAU;EAC/BxH,WAAW,EAAErG,SAAS,CAACuJ,MAAM,CAACsE,UAAU;EACxC0C,wBAAwB,EAAEvQ,SAAS,CAACuN,MAAM;EAC1CiD,UAAU,EAAExQ,SAAS,CAAC4N,MAAM;EAC5BxB,QAAQ,EAAEpM,SAAS,CAACuN,MAAM;EAC1BtB,IAAI,EAAEjM,SAAS,CAAC4N,MAAM;EACtB6C,KAAK,EAAEzQ,SAAS,CAAC4N,MAAM;EACvB1B,GAAG,EAAElM,SAAS,CAAC4N,MAAM;EACrB8C,qBAAqB,EAAE1Q,SAAS,CAAC8P,IAAI;EACrCa,SAAS,EAAE3Q,SAAS,CAAC8P,IAAI;EACzBc,QAAQ,EAAE5Q,SAAS,CAAC8P,IAAI,CAACjC,UAAU;EACnCiD,QAAQ,EAAE9Q,SAAS,CAAC8N,IAAI;EACxB1F,aAAa,EAAEpI,SAAS,CAAC8P,IAAI;EAC7BiB,0BAA0B,EAAE/Q,SAAS,CAAC8N,IAAI;EAC1ChC,YAAY,EAAE9L,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAAC8N,IAAI,EAAE9N,SAAS,CAACgO,KAAK,CAAC;IACjEC,OAAO,EAAE,OAAOC,OAAO,KAAK,WAAW,GAAGlO,SAAS,CAACmO,GAAG,GAAGnO,SAAS,CAACoO,UAAU,CAACF,OAAO;EACxF,CAAC,CAAC,CAAC;AACL,CAAC;AACD,IAAIoE,QAAQ,GAAG/H,kBAAkB,CAAC;EAChCgI,MAAM,EAAE,CAAC;EACTC,eAAe,EAAE,OAAO;EACxBC,SAAS,EAAE,EAAE;EACbC,QAAQ,EAAE,GAAG;EACbC,IAAI,EAAE;IACJC,MAAM,EAAE,CAAC;IACTC,OAAO,EAAE,CAAC;IACVC,aAAa,EAAE;EACjB;AACF,CAAC,CAAC;AACF,IAAIC,oBAAoB,GAAGT,QAAQ,CAACjC,kBAAkB,CAAC;AAEvD,SAAS2C,SAASA,CAACzJ,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAId,IAAI,GAAGpC,MAAM,CAACoC,IAAI,CAACa,MAAM,CAAC;EAAE,IAAIjD,MAAM,CAACmD,qBAAqB,EAAE;IAAE,IAAIC,OAAO,GAAGpD,MAAM,CAACmD,qBAAqB,CAACF,MAAM,CAAC;IAAEC,cAAc,KAAKE,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;MAAE,OAAOtD,MAAM,CAACuD,wBAAwB,CAACN,MAAM,EAAEK,GAAG,CAAC,CAACE,UAAU;IAAE,CAAC,CAAC,CAAC,EAAEpB,IAAI,CAACzC,IAAI,CAACgD,KAAK,CAACP,IAAI,EAAEgB,OAAO,CAAC;EAAE;EAAE,OAAOhB,IAAI;AAAE;AAEtV,SAASuK,eAAeA,CAACjJ,MAAM,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7H,SAAS,CAACC,MAAM,EAAE4H,CAAC,EAAE,EAAE;IAAE,IAAIC,MAAM,GAAG,IAAI,IAAI9H,SAAS,CAAC6H,CAAC,CAAC,GAAG7H,SAAS,CAAC6H,CAAC,CAAC,GAAG,CAAC,CAAC;IAAEA,CAAC,GAAG,CAAC,GAAG+I,SAAS,CAAC1M,MAAM,CAAC4D,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACnC,OAAO,CAAC,UAAUoC,GAAG,EAAE;MAAE7K,eAAe,CAAC0K,MAAM,EAAEG,GAAG,EAAED,MAAM,CAACC,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC,GAAG7D,MAAM,CAAC8D,yBAAyB,GAAG9D,MAAM,CAAC+D,gBAAgB,CAACL,MAAM,EAAE1D,MAAM,CAAC8D,yBAAyB,CAACF,MAAM,CAAC,CAAC,GAAG8I,SAAS,CAAC1M,MAAM,CAAC4D,MAAM,CAAC,CAAC,CAACnC,OAAO,CAAC,UAAUoC,GAAG,EAAE;MAAE7D,MAAM,CAACgE,cAAc,CAACN,MAAM,EAAEG,GAAG,EAAE7D,MAAM,CAACuD,wBAAwB,CAACK,MAAM,EAAEC,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC;EAAE;EAAE,OAAOH,MAAM;AAAE;AAE/f,SAASkJ,YAAYA,CAACC,OAAO,EAAE;EAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,CAAC,CAAC;EAAE,OAAO,SAASC,oBAAoBA,CAAA,EAAG;IAAE,IAAIC,KAAK,GAAGlU,eAAe,CAAC8T,OAAO,CAAC;MAAExQ,MAAM;IAAE,IAAIyQ,yBAAyB,EAAE;MAAE,IAAII,SAAS,GAAGnU,eAAe,CAAC,IAAI,CAAC,CAACoU,WAAW;MAAE9Q,MAAM,GAAG+Q,OAAO,CAACC,SAAS,CAACJ,KAAK,EAAEnR,SAAS,EAAEoR,SAAS,CAAC;IAAE,CAAC,MAAM;MAAE7Q,MAAM,GAAG4Q,KAAK,CAACtK,KAAK,CAAC,IAAI,EAAE7G,SAAS,CAAC;IAAE;IAAE,OAAOhD,0BAA0B,CAAC,IAAI,EAAEuD,MAAM,CAAC;EAAE,CAAC;AAAE;AAExa,SAAS0Q,yBAAyBA,CAAA,EAAG;EAAE,IAAI,OAAOK,OAAO,KAAK,WAAW,IAAI,CAACA,OAAO,CAACC,SAAS,EAAE,OAAO,KAAK;EAAE,IAAID,OAAO,CAACC,SAAS,CAACC,IAAI,EAAE,OAAO,KAAK;EAAE,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE,OAAO,IAAI;EAAE,IAAI;IAAEC,OAAO,CAACC,SAAS,CAACC,OAAO,CAACC,IAAI,CAACP,OAAO,CAACC,SAAS,CAACG,OAAO,EAAE,EAAE,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,OAAOI,CAAC,EAAE;IAAE,OAAO,KAAK;EAAE;AAAE;AACxU,IAAIC,gBAAgB,GAAG,SAASA,gBAAgBA,CAACC,OAAO,EAAE;EACxD,IAAIC,OAAO,GAAGjS,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAEpF,IAAIgS,OAAO,YAAYlT,MAAM,EAAE;IAC7B,OAAOkT,OAAO;EAChB,CAAC,MAAM;IACL,IAAIE,iBAAiB,GAAGD,OAAO,CAACC,iBAAiB;IACjD,IAAIC,kBAAkB,GAAGrU,WAAW,CAACkU,OAAO,CAAC,CAAC,CAAC;IAC/C;;IAEA,OAAO,IAAIlT,MAAM,CAAC,YAAY,CAACP,MAAM,CAAC4T,kBAAkB,EAAE,KAAK,CAAC,CAAC5T,MAAM,CAAC2T,iBAAiB,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC3T,MAAM,CAAC4T,kBAAkB,EAAE,OAAO,CAAC,CAAC;EAC9I;AACF,CAAC;AAED,IAAIC,eAAe,GAAG,SAASA,eAAeA,CAACC,IAAI,EAAErM,aAAa,EAAE;EAClE,IAAIqM,IAAI,YAAY1L,KAAK,EAAE;IACzB;IACA,OAAO,UAAUuG,KAAK,EAAEoF,QAAQ,EAAE;MAChC,IAAIhO,OAAO,GAAG,EAAE;MAEhB,KAAK,IAAIuD,CAAC,GAAG,CAAC,EAAE0K,CAAC,GAAGF,IAAI,CAACpS,MAAM,EAAE4H,CAAC,GAAG0K,CAAC,EAAE,EAAE1K,CAAC,EAAE;QAC3C,IAAI1J,OAAO,GAAGkU,IAAI,CAACxK,CAAC,CAAC,CAAC1J,OAAO,IAAIkU,IAAI,CAACxK,CAAC,CAAC,CAAC3J,EAAE;QAE3C,IAAI6H,iBAAiB,CAAC5H,OAAO,EAAE+O,KAAK,EAAElH,aAAa,CAAC,IAAI,CAAC,EAAE;UACzD1B,OAAO,CAACT,IAAI,CAACwO,IAAI,CAACxK,CAAC,CAAC,CAAC;QACvB;MACF;MAEA,OAAOvD,OAAO;IAChB,CAAC;EACH,CAAC,MAAM;IACL;IACA,OAAO+N,IAAI;EACb;AACF,CAAC;AAED,IAAIG,GAAG,GAAG;EACRC,GAAG,EAAE,CAAC;EACNC,MAAM,EAAE,EAAE;EACVC,GAAG,EAAE,EAAE;EACPC,EAAE,EAAE,EAAE;EACNC,IAAI,EAAE;AACR,CAAC;AACD,IAAIC,WAAW,GAAG,KAAK;AACvB,IAAIvH,SAAS,GAAG;EACd;AACF;AACA;AACA;EACE5B,UAAU,EAAE/L,SAAS,CAAC8P,IAAI;EAC1BwE,iBAAiB,EAAEtU,SAAS,CAAC8P,IAAI;EACjCqF,2BAA2B,EAAEnV,SAAS,CAAC8P,IAAI;EAC3CsF,2BAA2B,EAAEpV,SAAS,CAAC8P,IAAI;EAC3C1H,aAAa,EAAEpI,SAAS,CAAC8P,IAAI;EAC7BS,wBAAwB,EAAEvQ,SAAS,CAACuN,MAAM;EAC1CvL,KAAK,EAAEhC,SAAS,CAACuN,MAAM;EACvB8H,SAAS,EAAErV,SAAS,CAAC8N,IAAI;EACzBiD,0BAA0B,EAAE/Q,SAAS,CAAC8N,IAAI;EAC1CgD,QAAQ,EAAE9Q,SAAS,CAAC8N,IAAI;EACxBwH,MAAM,EAAEtV,SAAS,CAAC8N,IAAI;EACtByH,QAAQ,EAAEvV,SAAS,CAAC8N,IAAI;EACxB0H,qBAAqB,EAAE,OAAOtH,OAAO,KAAK,WAAW,GAAGlO,SAAS,CAACmO,GAAG,GAAGnO,SAAS,CAACA,SAAS,CAACoO,UAAU,CAACF,OAAO,CAAC;EAC/GuH,QAAQ,EAAEzV,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAAC8N,IAAI,EAAE9N,SAAS,CAACgO,KAAK,CAAC;IAC7DC,OAAO,EAAE,OAAOC,OAAO,KAAK,WAAW,GAAGlO,SAAS,CAACmO,GAAG,GAAGnO,SAAS,CAACoO,UAAU,CAACF,OAAO;EACxF,CAAC,CAAC,CAAC,CAAC;EACJhH,QAAQ,EAAElH,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAACqO,OAAO,EAAErO,SAAS,CAACsO,OAAO,CAACtO,SAAS,CAACqO,OAAO,CAAC,CAAC,CAAC,CAACR;AAC3F,CAAC;AAED,IAAI6H,aAAa,GAAG,aAAa,UAAUC,gBAAgB,EAAE;EAC3DxW,SAAS,CAACuW,aAAa,EAAEC,gBAAgB,CAAC;EAE1C,IAAIC,MAAM,GAAG1C,YAAY,CAACwC,aAAa,CAAC;EAExC,SAASA,aAAaA,CAACG,MAAM,EAAE;IAC7B,IAAIC,KAAK;IAET9W,eAAe,CAAC,IAAI,EAAE0W,aAAa,CAAC;IAEpCI,KAAK,GAAGF,MAAM,CAAC3B,IAAI,CAAC,IAAI,EAAE4B,MAAM,CAAC;IAEjCvW,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,qBAAqB,EAAE,UAAUC,EAAE,EAAE;MAClFD,KAAK,CAACE,gBAAgB,GAAGD,EAAE;IAC7B,CAAC,CAAC;IAEFzW,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,eAAe,EAAE,YAAY;MAC1E,IAAIG,WAAW,GAAGH,KAAK,CAACzO,KAAK;QACzB6O,QAAQ,GAAGD,WAAW,CAACC,QAAQ;QAC/BC,QAAQ,GAAGF,WAAW,CAACE,QAAQ;QAC/BtL,KAAK,GAAGoL,WAAW,CAACpL,KAAK,CAAC,CAAC;;MAE/B,IAAIxD,KAAK,GAAGuB,IAAI,CAACkN,KAAK,CAACzO,KAAK,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,WAAW,CAAC;MAAE;MACpEqB,IAAI,CAACiF,SAAS,CAAC,CAAC;MAChB,OAAOsF,eAAe,CAACA,eAAe,CAACA,eAAe,CAACA,eAAe,CAAC,CAAC,CAAC,EAAE5L,KAAK,CAAC,EAAEwD,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QACtG7I,KAAK,EAAE8T,KAAK,CAACnS,YAAY,CAAC,CAAC;QAC3ByS,QAAQ,EAAEN,KAAK,CAACO;MAClB,CAAC,EAAE,CAACH,QAAQ,IAAI,CAACC,QAAQ,IAAI;QAC3BZ,QAAQ,EAAEO,KAAK,CAACQ,YAAY;QAC5BxF,QAAQ,EAAEgF,KAAK,CAACS,YAAY;QAC5BlB,SAAS,EAAES,KAAK,CAACU,aAAa;QAC9BlB,MAAM,EAAEQ,KAAK,CAACW,UAAU;QACxBC,kBAAkB,EAAEZ,KAAK,CAACa,sBAAsB;QAChDC,gBAAgB,EAAEd,KAAK,CAACe;MAC1B,CAAC,CAAC,EAAEf,KAAK,CAAClF,QAAQ,CAAC,CAAC,IAAI;QACtBf,IAAI,EAAE,UAAU;QAChB,eAAe,EAAEiG,KAAK,CAACgB,sBAAsB;QAC7C,eAAe,EAAE,IAAI;QACrB,mBAAmB,EAAE,MAAM;QAC3B,eAAe,EAAE,SAAS;QAC1B,uBAAuB,EAAE5Q,mBAAmB,CAAC4P,KAAK,CAACgB,sBAAsB,EAAEhB,KAAK,CAACiB,KAAK,CAACvG,UAAU;MACnG,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFlR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,eAAe,EAAE,YAAY;MAC1E,IAAIkB,YAAY,GAAGlB,KAAK,CAACzO,KAAK;QAC1B0E,UAAU,GAAGiL,YAAY,CAACjL,UAAU;QACpClB,KAAK,GAAGmM,YAAY,CAACnM,KAAK;MAE9B,IAAIoM,UAAU,GAAGnB,KAAK,CAACoB,aAAa,CAAC,CAAC;MAEtC,OAAO,aAAa3X,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEL,KAAK,CAAC,SAAS,CAAC,EAAEiL,KAAK,CAACqB,iBAAiB,CAAC,CAAC,EAAEpL,UAAU,GAAG+J,KAAK,CAACsB,WAAW,CAACH,UAAU,CAAC,GAAGnB,KAAK,CAACuB,cAAc,CAACJ,UAAU,CAAC,CAAC;IAC5K,CAAC,CAAC;IAEF3X,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,aAAa,EAAE,UAAUzO,KAAK,EAAE;MAC7E,OAAO,aAAa9H,KAAK,CAAC2L,aAAa,CAAC,OAAO,EAAEnM,QAAQ,CAAC;QACxDuY,IAAI,EAAE,MAAM;QACZhM,GAAG,EAAEwK,KAAK,CAACyB;MACb,CAAC,EAAElQ,KAAK,CAAC,CAAC;IACZ,CAAC,CAAC;IAEF/H,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,gBAAgB,EAAE,UAAUzO,KAAK,EAAE;MAChF,OAAO,aAAa9H,KAAK,CAAC2L,aAAa,CAAC,UAAU,EAAEnM,QAAQ,CAAC;QAC3DuM,GAAG,EAAEwK,KAAK,CAACyB;MACb,CAAC,EAAElQ,KAAK,CAAC,CAAC;IACZ,CAAC,CAAC;IAEF/H,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,aAAa,EAAE,UAAUC,EAAE,EAAE;MAC1ED,KAAK,CAAC0B,YAAY,GAAGzB,EAAE;MACvB,IAAIN,QAAQ,GAAGK,KAAK,CAACzO,KAAK,CAACoO,QAAQ;MAEnC,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;QAClCA,QAAQ,CAACM,EAAE,CAAC;MACd,CAAC,MAAM,IAAIN,QAAQ,EAAE;QACnBA,QAAQ,CAACxH,OAAO,GAAG8H,EAAE;MACvB;IACF,CAAC,CAAC;IAEFzW,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,uBAAuB,EAAE,UAAUC,EAAE,EAAE;MACpFD,KAAK,CAAC2B,kBAAkB,GAAG1B,EAAE;IAC/B,CAAC,CAAC;IAEFzW,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,0BAA0B,EAAE,YAAY;MACrF,IAAI,CAACtN,QAAQ,CAACsN,KAAK,CAACiB,KAAK,CAACrL,cAAc,CAAC,EAAE;QACzC;QACA,OAAO,IAAI;MACb;MAEA,IAAIgM,qBAAqB,GAAG5B,KAAK,CAACiB,KAAK,CAACY,mBAAmB;QACvDvL,QAAQ,GAAGsL,qBAAqB,CAACtL,QAAQ;QACzCH,IAAI,GAAGyL,qBAAqB,CAACzL,IAAI;QACjCC,GAAG,GAAGwL,qBAAqB,CAACxL,GAAG;QAC/BuE,KAAK,GAAGiH,qBAAqB,CAACjH,KAAK;MACvC,IAAImH,eAAe,GAAG,aAAarY,KAAK,CAAC2L,aAAa,CAAC6H,oBAAoB,EAAE;QAC3EzS,EAAE,EAAEwV,KAAK,CAACgB,sBAAsB;QAChCjM,KAAK,EAAEiL,KAAK,CAACzO,KAAK,CAACwD,KAAK,CAAC,aAAa,CAAC;QACvCuB,QAAQ,EAAEA,QAAQ;QAClBH,IAAI,EAAEA,IAAI;QACVC,GAAG,EAAEA,GAAG;QACRuE,KAAK,EAAEA,KAAK;QACZD,UAAU,EAAEsF,KAAK,CAACiB,KAAK,CAACvG,UAAU;QAClCE,qBAAqB,EAAEoF,KAAK,CAACiB,KAAK,CAACrG,qBAAqB;QACxD5E,YAAY,EAAEgK,KAAK,CAAC+B,qBAAqB;QACzCxR,WAAW,EAAEyP,KAAK,CAACiB,KAAK,CAAC1Q,WAAW;QACpC0K,0BAA0B,EAAE+E,KAAK,CAACzO,KAAK,CAAC0J,0BAA0B;QAClED,QAAQ,EAAEgF,KAAK,CAACgC,UAAU;QAC1B9G,WAAW,EAAE8E,KAAK,CAACiC,0BAA0B;QAC7C1I,YAAY,EAAEyG,KAAK,CAACkC,2BAA2B;QAC/CrH,SAAS,EAAEmF,KAAK,CAACnF,SAAS,CAAC,CAAC;QAC5BC,QAAQ,EAAEkF,KAAK,CAAClF,QAAQ,CAAC,CAAC;QAC1BxI,aAAa,EAAE0N,KAAK,CAACzO,KAAK,CAACe,aAAa;QACxCmI,wBAAwB,EAAEuF,KAAK,CAACzO,KAAK,CAACkJ;MACxC,CAAC,EAAEuF,KAAK,CAACzO,KAAK,CAACH,QAAQ,CAAC;MAExB,IAAI4O,KAAK,CAACzO,KAAK,CAACmO,qBAAqB,EAAE;QACrC,OAAO,aAAavV,QAAQ,CAACgY,YAAY,CAACL,eAAe,EAAE9B,KAAK,CAACzO,KAAK,CAACmO,qBAAqB,CAAC;MAC/F,CAAC,MAAM;QACL,OAAOoC,eAAe;MACxB;IACF,CAAC,CAAC;IAEFtY,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,mBAAmB,EAAE,YAAY;MAC9E,IAAIoC,WAAW,GAAGpC,KAAK,CAACiB,KAAK;QACzBrL,cAAc,GAAGwM,WAAW,CAACxM,cAAc;QAC3CC,YAAY,GAAGuM,WAAW,CAACvM,YAAY;MAC3C,IAAIwM,YAAY,GAAGrC,KAAK,CAACzO,KAAK;QAC1B0E,UAAU,GAAGoM,YAAY,CAACpM,UAAU;QACpC7E,QAAQ,GAAGiR,YAAY,CAACjR,QAAQ;QAChClF,KAAK,GAAGmW,YAAY,CAACnW,KAAK;QAC1B6I,KAAK,GAAGsN,YAAY,CAACtN,KAAK;MAC9B,OAAO,aAAatL,KAAK,CAAC2L,aAAa,CAAC+D,aAAa,EAAE;QACrDnD,YAAY,EAAEgK,KAAK,CAACsC,qBAAqB;QACzCvN,KAAK,EAAEA,KAAK,CAAC,aAAa,CAAC;QAC3B7I,KAAK,EAAEA,KAAK;QACZ+J,UAAU,EAAEA,UAAU;QACtBL,cAAc,EAAEA,cAAc;QAC9BC,YAAY,EAAEA,YAAY;QAC1BE,qBAAqB,EAAEiK,KAAK,CAACuC;MAC/B,CAAC,EAAEnR,QAAQ,CAAC;IACd,CAAC,CAAC;IAEF5H,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,uBAAuB,EAAE,UAAUC,EAAE,EAAE;MACpFD,KAAK,CAACwC,kBAAkB,GAAGvC,EAAE;IAC/B,CAAC,CAAC;IAEFzW,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,2BAA2B,EAAE,UAAU1J,QAAQ,EAAE;MAC9F0J,KAAK,CAACyC,QAAQ,CAAC;QACbC,aAAa,EAAEpM;MACjB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF9M,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,cAAc,EAAE,YAAY;MACzE,OAAOnS,YAAY,CAACmS,KAAK,CAACzO,KAAK,CAACrF,KAAK,IAAI,EAAE,EAAEiF,sBAAsB,CAAC6O,KAAK,CAACzO,KAAK,CAACH,QAAQ,CAAC,CAAC;IAC5F,CAAC,CAAC;IAEF5H,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,iBAAiB,EAAE,UAAU2C,KAAK,EAAE;MACjF,KAAK,IAAI5P,IAAI,GAAGzG,SAAS,CAACC,MAAM,EAAEqW,IAAI,GAAG,IAAI3P,KAAK,CAACF,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;QAC1G0P,IAAI,CAAC1P,IAAI,GAAG,CAAC,CAAC,GAAG5G,SAAS,CAAC4G,IAAI,CAAC;MAClC;MAEA,IAAI8M,KAAK,CAACzO,KAAK,CAACkO,QAAQ,EAAE;QACxB,IAAIoD,YAAY;QAEhB,OAAO,CAACA,YAAY,GAAG7C,KAAK,CAACzO,KAAK,EAAEkO,QAAQ,CAACtM,KAAK,CAAC0P,YAAY,EAAE,CAACF,KAAK,CAAC,CAAC9X,MAAM,CAAC+X,IAAI,CAAC,CAAC;MACxF;MAEA,IAAI5C,KAAK,CAACzO,KAAK,CAACuR,SAAS,EAAE;QACzB,IAAIC,qBAAqB;QAEzB,OAAO,CAACA,qBAAqB,GAAG/C,KAAK,CAACzO,KAAK,CAACuR,SAAS,EAAEE,aAAa,CAAC7P,KAAK,CAAC4P,qBAAqB,EAAE,CAACJ,KAAK,CAACzO,MAAM,CAAChI,KAAK,CAAC,CAACrB,MAAM,CAAC+X,IAAI,CAAC,CAAC;MACtI;IACF,CAAC,CAAC;IAEFpZ,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,cAAc,EAAE,UAAUzD,EAAE,EAAE;MAC3E6C,WAAW,GAAG,KAAK;MAEnB,IAAI7M,IAAI,CAAC,CAAC,EAAE;QACV;QACA,IAAI0Q,eAAe,GAAGzQ,QAAQ,CAAC0Q,aAAa,IAAI1Q,QAAQ,CAAC0Q,aAAa,CAACC,eAAe,IAAI3Q,QAAQ;QAElG,IAAIyQ,eAAe,CAACC,aAAa,KAAK3G,EAAE,CAACrI,MAAM,EAAE;UAC/C;UACA;QACF;MACF;MAEA,IAAIhI,KAAK,GAAG8T,KAAK,CAACzO,KAAK,CAACrF,KAAK,IAAI,EAAE;MACnC,IAAIC,MAAM,GAAGgF,sBAAsB,CAAC6O,KAAK,CAACzO,KAAK,CAACH,QAAQ,CAAC;MACzD,IAAIgS,iBAAiB,GAAG7G,EAAE,CAACrI,MAAM,CAAChI,KAAK;MACvC,IAAI0C,oBAAoB,GAAGoR,KAAK,CAACiB,KAAK,CAACrL,cAAc;MAErD,IAAIhH,oBAAoB,IAAI,IAAI,EAAE;QAChCA,oBAAoB,GAAG2N,EAAE,CAACrI,MAAM,CAAC0B,cAAc;MACjD;MAEA,IAAI/G,kBAAkB,GAAGmR,KAAK,CAACiB,KAAK,CAACpL,YAAY;MAEjD,IAAIhH,kBAAkB,IAAI,IAAI,EAAE;QAC9BA,kBAAkB,GAAG0N,EAAE,CAACrI,MAAM,CAAC2B,YAAY;MAC7C,CAAC,CAAC;;MAGF,IAAIjG,QAAQ,GAAGlB,kBAAkB,CAACxC,KAAK,EAAEkX,iBAAiB,EAAE;QAC1DxU,oBAAoB,EAAEA,oBAAoB;QAC1CC,kBAAkB,EAAEA,kBAAkB;QACtCC,iBAAiB,EAAEyN,EAAE,CAACrI,MAAM,CAAC2B;MAC/B,CAAC,EAAE1J,MAAM,CAAC,CAAC,CAAC;;MAEZiX,iBAAiB,GAAGvV,YAAY,CAAC+B,QAAQ,EAAEzD,MAAM,CAAC,CAAC,CAAC;;MAEpD,IAAIyJ,cAAc,GAAG2G,EAAE,CAACrI,MAAM,CAAC0B,cAAc;MAC7C,IAAIC,YAAY,GAAG0G,EAAE,CAACrI,MAAM,CAAC2B,YAAY;MACzC,IAAIwN,8BAA8B,GAAG,KAAK,CAAC,CAAC;MAC5C;;MAEA,IAAIC,cAAc,GAAGvT,6BAA6B,CAAC7D,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,CAAC;MAEjF,IAAI0N,cAAc,KAAK9W,SAAS,IAAIwT,KAAK,CAACiB,KAAK,CAACpL,YAAY,GAAGyN,cAAc,EAAE;QAC7E;QACA1N,cAAc,GAAG0N,cAAc,IAAI/G,EAAE,CAACgH,WAAW,CAAC5E,IAAI,GAAGpC,EAAE,CAACgH,WAAW,CAAC5E,IAAI,CAACpS,MAAM,GAAG,CAAC,CAAC;QACxFsJ,YAAY,GAAGD,cAAc;QAC7ByN,8BAA8B,GAAG,IAAI;MACvC;MAEArD,KAAK,CAACyC,QAAQ,CAAC;QACb7M,cAAc,EAAEA,cAAc;QAC9BC,YAAY,EAAEA,YAAY;QAC1BwN,8BAA8B,EAAEA;MAClC,CAAC,CAAC;MAEF,IAAInT,QAAQ,GAAGD,WAAW,CAACL,QAAQ,EAAEzD,MAAM,CAAC;MAE5C,IAAIoQ,EAAE,CAACgH,WAAW,CAACnE,WAAW,IAAIxJ,cAAc,KAAKC,YAAY,EAAE;QACjEmK,KAAK,CAACwD,qBAAqB,CAACxD,KAAK,CAAC0B,YAAY,CAACxV,KAAK,EAAE0J,cAAc,CAAC;MACvE,CAAC,CAAC;MACF;;MAGA,IAAI6N,SAAS,GAAG;QACdvP,MAAM,EAAE;UACNhI,KAAK,EAAE0D;QACT;MACF,CAAC,CAAC,CAAC;;MAEHoQ,KAAK,CAAC0D,eAAe,CAACD,SAAS,EAAE7T,QAAQ,EAAEwT,iBAAiB,EAAElT,QAAQ,CAAC;IACzE,CAAC,CAAC;IAEF1G,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,cAAc,EAAE,UAAUzD,EAAE,EAAE;MAC3E;MACAyD,KAAK,CAACyC,QAAQ,CAAC;QACb7M,cAAc,EAAE2G,EAAE,CAACrI,MAAM,CAAC0B,cAAc;QACxCC,YAAY,EAAE0G,EAAE,CAACrI,MAAM,CAAC2B;MAC1B,CAAC,CAAC,CAAC,CAAC;;MAGJ,IAAIuJ,WAAW,EAAE,OAAO,CAAC;;MAEzB,IAAIa,EAAE,GAAGD,KAAK,CAAC0B,YAAY;MAE3B,IAAInF,EAAE,CAACrI,MAAM,CAAC0B,cAAc,KAAK2G,EAAE,CAACrI,MAAM,CAAC2B,YAAY,EAAE;QACvDmK,KAAK,CAACwD,qBAAqB,CAACvD,EAAE,CAAC/T,KAAK,EAAEqQ,EAAE,CAACrI,MAAM,CAAC0B,cAAc,CAAC;MACjE,CAAC,MAAM;QACLoK,KAAK,CAAC2D,gBAAgB,CAAC,CAAC;MAC1B,CAAC,CAAC;;MAGF3D,KAAK,CAACO,uBAAuB,CAAC,CAAC;MAE/BP,KAAK,CAACzO,KAAK,CAACyJ,QAAQ,CAACuB,EAAE,CAAC;IAC1B,CAAC,CAAC;IAEF/S,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,eAAe,EAAE,UAAUzD,EAAE,EAAE;MAC5E;MACA,IAAIqH,gBAAgB,GAAGtT,gBAAgB,CAAC0P,KAAK,CAACiB,KAAK,CAAC1Q,WAAW,CAAC;MAEhE,IAAIqT,gBAAgB,KAAK,CAAC,IAAI,CAAC5D,KAAK,CAAC2B,kBAAkB,EAAE;QACvD3B,KAAK,CAACzO,KAAK,CAACgO,SAAS,CAAChD,EAAE,CAAC;QAEzB;MACF;MAEA,IAAI/L,MAAM,CAACC,MAAM,CAACqO,GAAG,CAAC,CAAC/T,OAAO,CAACwR,EAAE,CAACsH,OAAO,CAAC,IAAI,CAAC,EAAE;QAC/CtH,EAAE,CAACuH,cAAc,CAAC,CAAC;QACnBvH,EAAE,CAACwH,eAAe,CAAC,CAAC;MACtB;MAEA,QAAQxH,EAAE,CAACsH,OAAO;QAChB,KAAK/E,GAAG,CAACG,GAAG;UACV;YACEe,KAAK,CAAC2D,gBAAgB,CAAC,CAAC;YAExB;UACF;QAEF,KAAK7E,GAAG,CAACK,IAAI;UACX;YACEa,KAAK,CAACgE,UAAU,CAAC,CAAC,CAAC,CAAC;YAEpB;UACF;QAEF,KAAKlF,GAAG,CAACI,EAAE;UACT;YACEc,KAAK,CAACgE,UAAU,CAAC,CAAC,CAAC,CAAC;YAEpB;UACF;QAEF,KAAKlF,GAAG,CAACE,MAAM;UACb;YACEgB,KAAK,CAACiE,aAAa,CAAC,CAAC;YAErB;UACF;QAEF,KAAKnF,GAAG,CAACC,GAAG;UACV;YACEiB,KAAK,CAACiE,aAAa,CAAC,CAAC;YAErB;UACF;QAEF;UACE;YACE;UACF;MACJ;IACF,CAAC,CAAC;IAEFza,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,YAAY,EAAE,UAAUkE,KAAK,EAAE;MAC5E,IAAIN,gBAAgB,GAAGtT,gBAAgB,CAAC0P,KAAK,CAACiB,KAAK,CAAC1Q,WAAW,CAAC;MAEhEyP,KAAK,CAACyC,QAAQ,CAAC;QACb/H,UAAU,EAAE,CAACkJ,gBAAgB,GAAG5D,KAAK,CAACiB,KAAK,CAACvG,UAAU,GAAGwJ,KAAK,IAAIN,gBAAgB;QAClFhJ,qBAAqB,EAAE;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFpR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,eAAe,EAAE,YAAY;MAC1E,IAAImE,YAAY,GAAGnE,KAAK,CAACiB,KAAK;QAC1B1Q,WAAW,GAAG4T,YAAY,CAAC5T,WAAW;QACtCmK,UAAU,GAAGyJ,YAAY,CAACzJ,UAAU;MACxC,IAAI0J,qBAAqB,GAAG5T,MAAM,CAACC,MAAM,CAACF,WAAW,CAAC,CAACG,MAAM,CAAC,UAAUC,GAAG,EAAE/D,IAAI,EAAE;UACjF,IAAIgE,OAAO,GAAGhE,IAAI,CAACgE,OAAO;YACtBqL,SAAS,GAAGrP,IAAI,CAACqP,SAAS;UAC9B,OAAO,EAAE,CAACpR,MAAM,CAAC7B,kBAAkB,CAAC2H,GAAG,CAAC,EAAE3H,kBAAkB,CAAC4H,OAAO,CAACvF,GAAG,CAAC,UAAUwB,MAAM,EAAE;YACzF,OAAO;cACLA,MAAM,EAAEA,MAAM;cACdoP,SAAS,EAAEA;YACb,CAAC;UACH,CAAC,CAAC,CAAC,CAAC;QACN,CAAC,EAAE,EAAE,CAAC,CAACvB,UAAU,CAAC;QACd7N,MAAM,GAAGuX,qBAAqB,CAACvX,MAAM;QACrCoP,SAAS,GAAGmI,qBAAqB,CAACnI,SAAS;MAE/C+D,KAAK,CAACgC,UAAU,CAACnV,MAAM,EAAEoP,SAAS,CAAC;MAEnC+D,KAAK,CAACyC,QAAQ,CAAC;QACb/H,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFlR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,YAAY,EAAE,UAAUzD,EAAE,EAAE;MACzE,IAAI8H,iBAAiB,GAAGrE,KAAK,CAACsE,qBAAqB;MACnDtE,KAAK,CAACsE,qBAAqB,GAAG,KAAK,CAAC,CAAC;MACrC;;MAEA,IAAI,CAACD,iBAAiB,EAAE;QACtBrE,KAAK,CAACyC,QAAQ,CAAC;UACb7M,cAAc,EAAE,IAAI;UACpBC,YAAY,EAAE;QAChB,CAAC,CAAC;MACJ;MAEA0O,MAAM,CAACC,UAAU,CAAC,YAAY;QAC5BxE,KAAK,CAACO,uBAAuB,CAAC,CAAC;MACjC,CAAC,EAAE,CAAC,CAAC;MAELP,KAAK,CAACzO,KAAK,CAACiO,MAAM,CAACjD,EAAE,EAAE8H,iBAAiB,CAAC;IAC3C,CAAC,CAAC;IAEF7a,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,4BAA4B,EAAE,UAAUzD,EAAE,EAAE;MACzFyD,KAAK,CAACsE,qBAAqB,GAAG,IAAI;IACpC,CAAC,CAAC;IAEF9a,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,6BAA6B,EAAE,UAAUtF,UAAU,EAAE;MAClGsF,KAAK,CAACyC,QAAQ,CAAC;QACb/H,UAAU,EAAEA,UAAU;QACtBE,qBAAqB,EAAE;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFpR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,2BAA2B,EAAE,YAAY;MACtF,IAAI0C,aAAa,GAAG1C,KAAK,CAACiB,KAAK,CAACyB,aAAa;MAC7C,IAAI+B,YAAY,GAAGzE,KAAK,CAACzO,KAAK;QAC1BmO,qBAAqB,GAAG+E,YAAY,CAAC/E,qBAAqB;QAC1DL,2BAA2B,GAAGoF,YAAY,CAACpF,2BAA2B;QACtEC,2BAA2B,GAAGmF,YAAY,CAACnF,2BAA2B;MAE1E,IAAI,CAACoD,aAAa,IAAI,CAAC1C,KAAK,CAAC2B,kBAAkB,EAAE;QAC/C;MACF;MAEA,IAAIpR,WAAW,GAAGyP,KAAK,CAAC2B,kBAAkB;MAC1C,IAAI+C,WAAW,GAAG1E,KAAK,CAACwC,kBAAkB,CAAC,CAAC;;MAE5C,IAAImC,qBAAqB,GAAGD,WAAW,CAACjJ,qBAAqB,CAAC,CAAC;MAC/D,IAAImJ,WAAW,GAAGC,0BAA0B,CAACH,WAAW,EAAE,WAAW,CAAC;MACtE,IAAII,gBAAgB,GAAG;QACrB3O,IAAI,EAAEwO,qBAAqB,CAACxO,IAAI,GAAGuM,aAAa,CAACvM,IAAI;QACrDC,GAAG,EAAEuO,qBAAqB,CAACvO,GAAG,GAAGsM,aAAa,CAACtM,GAAG,GAAGwO;MACvD,CAAC;MACD,IAAIG,cAAc,GAAG5V,IAAI,CAACG,GAAG,CAACkD,QAAQ,CAACwS,eAAe,CAACC,YAAY,EAAEV,MAAM,CAACW,WAAW,IAAI,CAAC,CAAC;MAE7F,IAAI,CAAC3U,WAAW,EAAE;QAChB;MACF;MAEA,IAAI+F,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;;MAEnB,IAAIoJ,qBAAqB,EAAE;QACzBpJ,QAAQ,CAACA,QAAQ,GAAG,OAAO;QAC3B,IAAIH,IAAI,GAAG2O,gBAAgB,CAAC3O,IAAI;QAChC,IAAIC,GAAG,GAAG0O,gBAAgB,CAAC1O,GAAG,CAAC,CAAC;;QAEhCD,IAAI,IAAI0O,0BAA0B,CAACtU,WAAW,EAAE,aAAa,CAAC;QAC9D6F,GAAG,IAAIyO,0BAA0B,CAACtU,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;;QAE9D4F,IAAI,IAAIuO,WAAW,CAACS,UAAU;QAC9B/O,GAAG,IAAIsO,WAAW,CAACnJ,SAAS,CAAC,CAAC;;QAE9B,IAAI6J,aAAa,GAAGjW,IAAI,CAACG,GAAG,CAACkD,QAAQ,CAACwS,eAAe,CAACK,WAAW,EAAEd,MAAM,CAACe,UAAU,IAAI,CAAC,CAAC;QAE1F,IAAInP,IAAI,GAAG5F,WAAW,CAACgV,WAAW,GAAGH,aAAa,EAAE;UAClD9O,QAAQ,CAACH,IAAI,GAAGhH,IAAI,CAACG,GAAG,CAAC,CAAC,EAAE8V,aAAa,GAAG7U,WAAW,CAACgV,WAAW,CAAC;QACtE,CAAC,MAAM;UACLjP,QAAQ,CAACH,IAAI,GAAGA,IAAI;QACtB,CAAC,CAAC;QACF;QACA;;QAGA,IAAIkJ,2BAA2B,IAAIjJ,GAAG,GAAG7F,WAAW,CAAC8K,YAAY,GAAG0J,cAAc,IAAIxU,WAAW,CAAC8K,YAAY,GAAGjF,GAAG,GAAGwO,WAAW,IAAItF,2BAA2B,EAAE;UACjKhJ,QAAQ,CAACF,GAAG,GAAGjH,IAAI,CAACG,GAAG,CAAC,CAAC,EAAE8G,GAAG,GAAG7F,WAAW,CAAC8K,YAAY,GAAGuJ,WAAW,CAAC;QAC1E,CAAC,MAAM;UACLtO,QAAQ,CAACF,GAAG,GAAGA,GAAG;QACpB;MACF,CAAC,MAAM;QACL,IAAIoP,KAAK,GAAG9C,aAAa,CAACvM,IAAI,GAAGuO,WAAW,CAACS,UAAU;QAEvD,IAAIM,IAAI,GAAG/C,aAAa,CAACtM,GAAG,GAAGsO,WAAW,CAACnJ,SAAS,CAAC,CAAC;;QAGtD,IAAIiK,KAAK,GAAGjV,WAAW,CAACgV,WAAW,GAAGvF,KAAK,CAACE,gBAAgB,CAACqF,WAAW,EAAE;UACxEjP,QAAQ,CAACqE,KAAK,GAAG,CAAC;QACpB,CAAC,MAAM;UACLrE,QAAQ,CAACH,IAAI,GAAGqP,KAAK;QACvB,CAAC,CAAC;QACF;QACA;;QAGA,IAAInG,2BAA2B,IAAIyF,gBAAgB,CAAC1O,GAAG,GAAGsO,WAAW,CAACnJ,SAAS,GAAGhL,WAAW,CAAC8K,YAAY,GAAG0J,cAAc,IAAIxU,WAAW,CAAC8K,YAAY,GAAGsJ,qBAAqB,CAACvO,GAAG,GAAGwO,WAAW,GAAGF,WAAW,CAACnJ,SAAS,IAAI+D,2BAA2B,EAAE;UACxPhJ,QAAQ,CAACF,GAAG,GAAGqP,IAAI,GAAGlV,WAAW,CAAC8K,YAAY,GAAGuJ,WAAW;QAC9D,CAAC,MAAM;UACLtO,QAAQ,CAACF,GAAG,GAAGqP,IAAI;QACrB;MACF;MAEA,IAAInP,QAAQ,CAACH,IAAI,KAAK6J,KAAK,CAACiB,KAAK,CAACY,mBAAmB,CAAC1L,IAAI,IAAIG,QAAQ,CAACF,GAAG,KAAK4J,KAAK,CAACiB,KAAK,CAACY,mBAAmB,CAACzL,GAAG,IAAIE,QAAQ,CAACA,QAAQ,KAAK0J,KAAK,CAACiB,KAAK,CAACY,mBAAmB,CAACvL,QAAQ,EAAE;QACpL;MACF;MAEA0J,KAAK,CAACyC,QAAQ,CAAC;QACbZ,mBAAmB,EAAEvL;MACvB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF9M,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,yBAAyB,EAAE,YAAY;MACpF,IAAI0F,KAAK,GAAG1F,KAAK,CAAC0B,YAAY;MAC9B,IAAIgD,WAAW,GAAG1E,KAAK,CAACwC,kBAAkB;MAE1C,IAAI,CAACkD,KAAK,IAAI,CAAChB,WAAW,EAAE;QAC1B;QACA;QACA;MACF;MAEAA,WAAW,CAACS,UAAU,GAAGO,KAAK,CAACP,UAAU;MACzCT,WAAW,CAACnJ,SAAS,GAAGmK,KAAK,CAACnK,SAAS;MACvCmJ,WAAW,CAACiB,MAAM,GAAGD,KAAK,CAACC,MAAM;IACnC,CAAC,CAAC;IAEFnc,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,wBAAwB,EAAE,YAAY;MACnFZ,WAAW,GAAG,IAAI;IACpB,CAAC,CAAC;IAEF5V,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,sBAAsB,EAAE,YAAY;MACjFZ,WAAW,GAAG,KAAK;IACrB,CAAC,CAAC;IAEF5V,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,cAAc,EAAE,UAAUpK,cAAc,EAAEC,YAAY,EAAE;MACrG,IAAID,cAAc,KAAK,IAAI,IAAIC,YAAY,KAAK,IAAI,EAAE;MACtD,IAAIoK,EAAE,GAAGD,KAAK,CAAC0B,YAAY;MAE3B,IAAIzB,EAAE,CAAC2F,iBAAiB,EAAE;QACxB3F,EAAE,CAAC2F,iBAAiB,CAAChQ,cAAc,EAAEC,YAAY,CAAC;MACpD,CAAC,MAAM,IAAIoK,EAAE,CAAC4F,eAAe,EAAE;QAC7B,IAAIC,KAAK,GAAG7F,EAAE,CAAC4F,eAAe,CAAC,CAAC;QAChCC,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;QACpBD,KAAK,CAACE,OAAO,CAAC,WAAW,EAAEnQ,YAAY,CAAC;QACxCiQ,KAAK,CAACG,SAAS,CAAC,WAAW,EAAErQ,cAAc,CAAC;QAC5CkQ,KAAK,CAAC1J,MAAM,CAAC,CAAC;MAChB;IACF,CAAC,CAAC;IAEF5S,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,uBAAuB,EAAE,UAAUrR,cAAc,EAAE+T,aAAa,EAAE;MAC/G;MACA1C,KAAK,CAACkG,QAAQ,EAAE;MAChBlG,KAAK,CAACzP,WAAW,GAAG,CAAC,CAAC;MAEtByP,KAAK,CAACyC,QAAQ,CAAC;QACblS,WAAW,EAAE,CAAC;MAChB,CAAC,CAAC;MAEF,IAAIrE,KAAK,GAAG8T,KAAK,CAACzO,KAAK,CAACrF,KAAK,IAAI,EAAE;MACnC,IAAIkF,QAAQ,GAAG4O,KAAK,CAACzO,KAAK,CAACH,QAAQ;MACnC,IAAIjF,MAAM,GAAGgF,sBAAsB,CAACC,QAAQ,CAAC;MAC7C,IAAI+U,eAAe,GAAGnY,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEuW,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC;;MAE/E,IAAIyD,eAAe,KAAK,IAAI,EAAE;QAC5B;MACF,CAAC,CAAC;;MAGF,IAAIC,mBAAmB,GAAGvV,mBAAmB,CAAC3E,KAAK,CAACwB,SAAS,CAAC,CAAC,EAAEyY,eAAe,CAAC,EAAEha,MAAM,CAAC;MAC1F,IAAIuB,SAAS,GAAGiB,cAAc,CAACjB,SAAS,CAAC0Y,mBAAmB,EAAE1D,aAAa,CAAC,CAAC,CAAC;MAC9E;;MAEAjZ,KAAK,CAACC,QAAQ,CAACuI,OAAO,CAACb,QAAQ,EAAE,UAAUsG,KAAK,EAAErJ,UAAU,EAAE;QAC5D,IAAI,CAACqJ,KAAK,EAAE;UACV;QACF;QAEA,IAAIpM,KAAK,GAAG+S,gBAAgB,CAAC3G,KAAK,CAACnG,KAAK,CAAC+M,OAAO,EAAE0B,KAAK,CAACzO,KAAK,CAAC;QAC9D,IAAIzE,KAAK,GAAGY,SAAS,CAACZ,KAAK,CAACxB,KAAK,CAAC;QAElC,IAAIwB,KAAK,EAAE;UACT,IAAIuZ,kBAAkB,GAAGD,mBAAmB,GAAG1Y,SAAS,CAAC3C,OAAO,CAAC+B,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAACa,KAAK,CAAC;UAEvFqS,KAAK,CAACsG,SAAS,CAACxZ,KAAK,CAAC,CAAC,CAAC,EAAEuB,UAAU,EAAEgY,kBAAkB,EAAEA,kBAAkB,GAAGvZ,KAAK,CAAC,CAAC,CAAC,CAACP,MAAM,EAAEoC,cAAc,CAAC;QACjH;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFnF,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,kBAAkB,EAAE,YAAY;MAC7E;MACAA,KAAK,CAACkG,QAAQ,EAAE;MAChBlG,KAAK,CAACzP,WAAW,GAAG,CAAC,CAAC;MAEtByP,KAAK,CAACyC,QAAQ,CAAC;QACblS,WAAW,EAAE,CAAC,CAAC;QACfmK,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFlR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,WAAW,EAAE,UAAUxG,KAAK,EAAEnL,UAAU,EAAEgY,kBAAkB,EAAEE,gBAAgB,EAAE5X,cAAc,EAAE;MAC7I,IAAI6X,YAAY,GAAGxG,KAAK,CAACzO,KAAK;QAC1BH,QAAQ,GAAGoV,YAAY,CAACpV,QAAQ;QAChCkB,aAAa,GAAGkU,YAAY,CAAClU,aAAa;MAC9C,IAAImU,YAAY,GAAG/c,QAAQ,CAAC2H,OAAO,CAACD,QAAQ,CAAC,CAAC/C,UAAU,CAAC;MACzD,IAAIqY,WAAW,GAAGhI,eAAe,CAAC+H,YAAY,CAAClV,KAAK,CAACoN,IAAI,EAAErM,aAAa,CAAC;MACzE,IAAIqU,UAAU,GAAGD,WAAW,CAAClN,KAAK,EAAEwG,KAAK,CAAC4G,iBAAiB,CAACC,IAAI,CAAC,IAAI,EAAE7G,KAAK,CAACkG,QAAQ,EAAE7X,UAAU,EAAEmL,KAAK,EAAE6M,kBAAkB,EAAEE,gBAAgB,EAAE5X,cAAc,CAAC,CAAC;MAEhK,IAAIgY,UAAU,YAAY1T,KAAK,EAAE;QAC/B+M,KAAK,CAAC4G,iBAAiB,CAAC5G,KAAK,CAACkG,QAAQ,EAAE7X,UAAU,EAAEmL,KAAK,EAAE6M,kBAAkB,EAAEE,gBAAgB,EAAE5X,cAAc,EAAEgY,UAAU,CAAC;MAC9H;IACF,CAAC,CAAC;IAEFnd,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,mBAAmB,EAAE,UAAU8G,OAAO,EAAEzY,UAAU,EAAEmL,KAAK,EAAE6M,kBAAkB,EAAEE,gBAAgB,EAAE5X,cAAc,EAAEiC,OAAO,EAAE;MACvK;MACA,IAAIkW,OAAO,KAAK9G,KAAK,CAACkG,QAAQ,EAAE,OAAO,CAAC;MACxC;;MAEAlG,KAAK,CAACzP,WAAW,GAAG4M,eAAe,CAACA,eAAe,CAAC,CAAC,CAAC,EAAE6C,KAAK,CAACzP,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE/G,eAAe,CAAC,CAAC,CAAC,EAAE6E,UAAU,EAAE;QAC9G4N,SAAS,EAAE;UACT5N,UAAU,EAAEA,UAAU;UACtBmL,KAAK,EAAEA,KAAK;UACZ6M,kBAAkB,EAAEA,kBAAkB;UACtCE,gBAAgB,EAAEA,gBAAgB;UAClC5X,cAAc,EAAEA;QAClB,CAAC;QACDiC,OAAO,EAAEA;MACX,CAAC,CAAC,CAAC;MACH,IAAI8J,UAAU,GAAGsF,KAAK,CAACiB,KAAK,CAACvG,UAAU;MACvC,IAAIkJ,gBAAgB,GAAGtT,gBAAgB,CAAC0P,KAAK,CAACzP,WAAW,CAAC;MAE1DyP,KAAK,CAACyC,QAAQ,CAAC;QACblS,WAAW,EAAEyP,KAAK,CAACzP,WAAW;QAC9BmK,UAAU,EAAEA,UAAU,IAAIkJ,gBAAgB,GAAGzU,IAAI,CAACG,GAAG,CAACsU,gBAAgB,GAAG,CAAC,EAAE,CAAC,CAAC,GAAGlJ;MACnF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFlR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,YAAY,EAAE,UAAUhE,KAAK,EAAE+K,KAAK,EAAE;MACnF,IAAIvc,EAAE,GAAGwR,KAAK,CAACxR,EAAE;QACbC,OAAO,GAAGuR,KAAK,CAACvR,OAAO;MAC3B,IAAI4D,UAAU,GAAG0Y,KAAK,CAAC1Y,UAAU;QAC7BgY,kBAAkB,GAAGU,KAAK,CAACV,kBAAkB;QAC7CE,gBAAgB,GAAGQ,KAAK,CAACR,gBAAgB;QACzC5X,cAAc,GAAGoY,KAAK,CAACpY,cAAc;MACzC;MACA,IAAIzC,KAAK,GAAG8T,KAAK,CAACzO,KAAK,CAACrF,KAAK,IAAI,EAAE;MACnC,IAAIC,MAAM,GAAGgF,sBAAsB,CAAC6O,KAAK,CAACzO,KAAK,CAACH,QAAQ,CAAC;MACzD,IAAI4V,aAAa,GAAGtd,QAAQ,CAAC2H,OAAO,CAAC2O,KAAK,CAACzO,KAAK,CAACH,QAAQ,CAAC,CAAC/C,UAAU,CAAC;MACtE,IAAI4Y,oBAAoB,GAAGD,aAAa,CAACzV,KAAK;QAC1C5G,MAAM,GAAGsc,oBAAoB,CAACtc,MAAM;QACpC2C,gBAAgB,GAAG2Z,oBAAoB,CAAC3Z,gBAAgB;QACxD4Z,gBAAgB,GAAGD,oBAAoB,CAACC,gBAAgB;QACxDC,KAAK,GAAGF,oBAAoB,CAACE,KAAK;MACtC,IAAIpa,KAAK,GAAGiB,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEka,kBAAkB,EAAE,OAAO,CAAC;MACzE,IAAI7X,GAAG,GAAGzB,KAAK,GAAGwZ,gBAAgB,GAAGF,kBAAkB;MACvD,IAAI5X,MAAM,GAAGkD,kBAAkB,CAAChH,MAAM,EAAEH,EAAE,EAAEC,OAAO,CAAC;MAEpD,IAAIyc,gBAAgB,EAAE;QACpBzY,MAAM,IAAI,GAAG;MACf;MAEA,IAAImB,QAAQ,GAAGrB,YAAY,CAACrC,KAAK,EAAEa,KAAK,EAAEyB,GAAG,EAAEC,MAAM,CAAC,CAAC,CAAC;;MAExDuR,KAAK,CAAC0B,YAAY,CAAC0F,KAAK,CAAC,CAAC;MAE1B,IAAIC,YAAY,GAAG/Z,gBAAgB,CAAC9C,EAAE,EAAEC,OAAO,CAAC;MAEhD,IAAIyc,gBAAgB,EAAE;QACpBG,YAAY,IAAI,GAAG;MACrB;MAEA,IAAIC,gBAAgB,GAAGjB,kBAAkB,GAAGgB,YAAY,CAAC9a,MAAM;MAE/DyT,KAAK,CAACyC,QAAQ,CAAC;QACb7M,cAAc,EAAE0R,gBAAgB;QAChCzR,YAAY,EAAEyR,gBAAgB;QAC9BjE,8BAA8B,EAAE;MAClC,CAAC,CAAC,CAAC,CAAC;;MAGJ,IAAII,SAAS,GAAG;QACdvP,MAAM,EAAE;UACNhI,KAAK,EAAE0D;QACT;MACF,CAAC;MACD,IAAIM,QAAQ,GAAGD,WAAW,CAACL,QAAQ,EAAEzD,MAAM,CAAC;MAC5C,IAAIiX,iBAAiB,GAAG7U,YAAY,CAACI,cAAc,EAAE0X,kBAAkB,EAAEE,gBAAgB,EAAEc,YAAY,CAAC;MAExGrH,KAAK,CAAC0D,eAAe,CAACD,SAAS,EAAE7T,QAAQ,EAAEwT,iBAAiB,EAAElT,QAAQ,CAAC;MAEvE,IAAIiX,KAAK,EAAE;QACTA,KAAK,CAAC3c,EAAE,EAAEC,OAAO,EAAEsC,KAAK,EAAEyB,GAAG,CAAC;MAChC,CAAC,CAAC;;MAGFwR,KAAK,CAAC2D,gBAAgB,CAAC,CAAC;IAC1B,CAAC,CAAC;IAEFna,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,WAAW,EAAE,YAAY;MACtE,IAAInF,SAAS,GAAG,KAAK;MACrBpR,KAAK,CAACC,QAAQ,CAACuI,OAAO,CAAC+N,KAAK,CAACzO,KAAK,CAACH,QAAQ,EAAE,UAAUsG,KAAK,EAAE;QAC5DmD,SAAS,GAAGA,SAAS,IAAInD,KAAK,IAAIA,KAAK,CAACnG,KAAK,CAACsJ,SAAS;MACzD,CAAC,CAAC;MACF,OAAOA,SAAS;IAClB,CAAC,CAAC;IAEFrR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,UAAU,EAAE,YAAY;MACrE,OAAOtN,QAAQ,CAACsN,KAAK,CAACiB,KAAK,CAACrL,cAAc,CAAC,KAAKtF,gBAAgB,CAAC0P,KAAK,CAACiB,KAAK,CAAC1Q,WAAW,CAAC,KAAK,CAAC,IAAIyP,KAAK,CAACnF,SAAS,CAAC,CAAC,CAAC;IACvH,CAAC,CAAC;IAEFrR,eAAe,CAACJ,sBAAsB,CAAC4W,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC;IAE7DA,KAAK,CAACzP,WAAW,GAAG,CAAC,CAAC;IACtByP,KAAK,CAACgB,sBAAsB,GAAG7R,IAAI,CAACoY,MAAM,CAAC,CAAC,CAAC9b,QAAQ,CAAC,EAAE,CAAC,CAACiC,SAAS,CAAC,CAAC,CAAC;IACtEsS,KAAK,CAACwH,UAAU,GAAGxH,KAAK,CAACwH,UAAU,CAACX,IAAI,CAACzd,sBAAsB,CAAC4W,KAAK,CAAC,CAAC;IACvEA,KAAK,CAACyH,SAAS,GAAGzH,KAAK,CAACyH,SAAS,CAACZ,IAAI,CAACzd,sBAAsB,CAAC4W,KAAK,CAAC,CAAC;IACrEA,KAAK,CAAC0H,WAAW,GAAG1H,KAAK,CAAC0H,WAAW,CAACb,IAAI,CAACzd,sBAAsB,CAAC4W,KAAK,CAAC,CAAC;IACzEA,KAAK,CAACiB,KAAK,GAAG;MACZvG,UAAU,EAAE,CAAC;MACb9E,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,IAAI;MAClBtF,WAAW,EAAE,CAAC,CAAC;MACfmS,aAAa,EAAE,IAAI;MACnBb,mBAAmB,EAAE,CAAC,CAAC;MACvB8F,4BAA4B,EAAE;IAChC,CAAC;IACD,OAAO3H,KAAK;EACd;EAEA7W,YAAY,CAACyW,aAAa,EAAE,CAAC;IAC3BvL,GAAG,EAAE,mBAAmB;IACxBnI,KAAK,EAAE,SAAS0b,iBAAiBA,CAAA,EAAG;MAClCpV,QAAQ,CAACqV,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAACL,UAAU,CAAC;MAClDhV,QAAQ,CAACqV,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAACJ,SAAS,CAAC;MAChDjV,QAAQ,CAACqV,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACH,WAAW,CAAC;MACpD,IAAI,CAACI,yBAAyB,CAAC,CAAC;IAClC;EACF,CAAC,EAAE;IACDzT,GAAG,EAAE,oBAAoB;IACzBnI,KAAK,EAAE,SAAS6b,kBAAkBA,CAACC,SAAS,EAAEC,SAAS,EAAE;MACvD;MACA;MACA,IAAIA,SAAS,CAACpG,mBAAmB,KAAK,IAAI,CAACZ,KAAK,CAACY,mBAAmB,EAAE;QACpE,IAAI,CAACiG,yBAAyB,CAAC,CAAC;MAClC,CAAC,CAAC;MACF;;MAGA,IAAI,IAAI,CAAC7G,KAAK,CAACoC,8BAA8B,EAAE;QAC7C,IAAI,CAACZ,QAAQ,CAAC;UACZY,8BAA8B,EAAE;QAClC,CAAC,CAAC;QACF,IAAI,CAAC6E,YAAY,CAAC,IAAI,CAACjH,KAAK,CAACrL,cAAc,EAAE,IAAI,CAACqL,KAAK,CAACpL,YAAY,CAAC;MACvE;MAEA,IAAI,IAAI,CAACoL,KAAK,CAAC0G,4BAA4B,EAAE;QAC3C,IAAI,CAAClF,QAAQ,CAAC;UACZkF,4BAA4B,EAAE;QAChC,CAAC,CAAC;QACF,IAAI,CAACO,YAAY,CAAC,IAAI,CAACjH,KAAK,CAACrL,cAAc,EAAE,IAAI,CAACqL,KAAK,CAACpL,YAAY,CAAC;MACvE;IACF;EACF,CAAC,EAAE;IACDxB,GAAG,EAAE,sBAAsB;IAC3BnI,KAAK,EAAE,SAASic,oBAAoBA,CAAA,EAAG;MACrC3V,QAAQ,CAAC4V,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAACZ,UAAU,CAAC;MACrDhV,QAAQ,CAAC4V,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAACX,SAAS,CAAC;MACnDjV,QAAQ,CAAC4V,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACV,WAAW,CAAC;IACzD;EACF,CAAC,EAAE;IACDrT,GAAG,EAAE,QAAQ;IACbnI,KAAK,EAAE,SAASmc,MAAMA,CAAA,EAAG;MACvB,OAAO,aAAa5e,KAAK,CAAC2L,aAAa,CAAC,KAAK,EAAEnM,QAAQ,CAAC;QACtDuM,GAAG,EAAE,IAAI,CAAC8S;MACZ,CAAC,EAAE,IAAI,CAAC/W,KAAK,CAACwD,KAAK,CAAC,EAAE,IAAI,CAACwT,aAAa,CAAC,CAAC,EAAE,IAAI,CAACC,wBAAwB,CAAC,CAAC,CAAC;IAC9E;EACF,CAAC,EAAE;IACDnU,GAAG,EAAE,aAAa;IAClBnI,KAAK,EAAE,SAASwb,WAAWA,CAAC/E,KAAK,EAAE;MACjC,IAAIA,KAAK,CAACzO,MAAM,KAAK,IAAI,CAACwN,YAAY,EAAE;QACtC;MACF;MAEA,IAAI,CAAC,IAAI,CAAC+G,wBAAwB,CAAC9F,KAAK,CAAC,EAAE;QACzC;MACF;MAEAA,KAAK,CAACmB,cAAc,CAAC,CAAC;MACtB,IAAI4E,YAAY,GAAG,IAAI,CAACzH,KAAK;QACzBrL,cAAc,GAAG8S,YAAY,CAAC9S,cAAc;QAC5CC,YAAY,GAAG6S,YAAY,CAAC7S,YAAY;MAC5C,IAAI8S,YAAY,GAAG,IAAI,CAACpX,KAAK;QACzBrF,KAAK,GAAGyc,YAAY,CAACzc,KAAK;QAC1BkF,QAAQ,GAAGuX,YAAY,CAACvX,QAAQ;MACpC,IAAIjF,MAAM,GAAGgF,sBAAsB,CAACC,QAAQ,CAAC;MAC7C,IAAIwX,gBAAgB,GAAG5a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,EAAE,OAAO,CAAC;MAChF,IAAIiT,cAAc,GAAG7a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAE0J,YAAY,EAAE,KAAK,CAAC;MAC1E,IAAIiT,cAAc,GAAGnG,KAAK,CAACoG,aAAa,CAACC,OAAO,CAAC,qBAAqB,CAAC;MACvE,IAAIC,UAAU,GAAGtG,KAAK,CAACoG,aAAa,CAACC,OAAO,CAAC,YAAY,CAAC;MAC1D,IAAIpZ,QAAQ,GAAGrB,YAAY,CAACrC,KAAK,EAAE0c,gBAAgB,EAAEC,cAAc,EAAEC,cAAc,IAAIG,UAAU,CAAC,CAAC3e,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MACrH,IAAI8Y,iBAAiB,GAAGvV,YAAY,CAAC+B,QAAQ,EAAEzD,MAAM,CAAC;MACtD,IAAIsX,SAAS,GAAG;QACdvP,MAAM,EAAEiJ,eAAe,CAACA,eAAe,CAAC,CAAC,CAAC,EAAEwF,KAAK,CAACzO,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE;UAC7DhI,KAAK,EAAE0D;QACT,CAAC;MACH,CAAC;MACD,IAAI,CAAC8T,eAAe,CAACD,SAAS,EAAE7T,QAAQ,EAAEwT,iBAAiB,EAAEnT,WAAW,CAACL,QAAQ,EAAEzD,MAAM,CAAC,CAAC,CAAC,CAAC;;MAE7F,IAAImX,cAAc,GAAGvT,6BAA6B,CAAC7D,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,CAAC;MACjF,IAAIsT,OAAO,GAAG,CAAC5F,cAAc,IAAI1N,cAAc,IAAI/H,YAAY,CAACib,cAAc,IAAIG,UAAU,EAAE9c,MAAM,CAAC,CAACI,MAAM;MAC5G,IAAI,CAACkW,QAAQ,CAAC;QACZ7M,cAAc,EAAEsT,OAAO;QACvBrT,YAAY,EAAEqT,OAAO;QACrBvB,4BAA4B,EAAE;MAChC,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDtT,GAAG,EAAE,0BAA0B;IAC/BnI,KAAK,EAAE,SAASid,wBAAwBA,CAACxG,KAAK,EAAE;MAC9C;MACA;MACA,IAAI/M,cAAc,GAAG,IAAI,CAAC8L,YAAY,CAAC9L,cAAc;MACrD,IAAIC,YAAY,GAAG,IAAI,CAAC6L,YAAY,CAAC7L,YAAY;MACjD,IAAIuT,YAAY,GAAG,IAAI,CAAC7X,KAAK;QACzBH,QAAQ,GAAGgY,YAAY,CAAChY,QAAQ;QAChClF,KAAK,GAAGkd,YAAY,CAACld,KAAK;MAC9B,IAAIC,MAAM,GAAGgF,sBAAsB,CAACC,QAAQ,CAAC;MAC7C,IAAIwX,gBAAgB,GAAG5a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,EAAE,OAAO,CAAC;MAChF,IAAIiT,cAAc,GAAG7a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAE0J,YAAY,EAAE,KAAK,CAAC;MAC1E8M,KAAK,CAACoG,aAAa,CAACM,OAAO,CAAC,YAAY,EAAE1G,KAAK,CAACzO,MAAM,CAAChI,KAAK,CAAC+C,KAAK,CAAC2G,cAAc,EAAEC,YAAY,CAAC,CAAC;MACjG8M,KAAK,CAACoG,aAAa,CAACM,OAAO,CAAC,qBAAqB,EAAEnd,KAAK,CAAC+C,KAAK,CAAC2Z,gBAAgB,EAAEC,cAAc,CAAC,CAAC;IACnG;EACF,CAAC,EAAE;IACDxU,GAAG,EAAE,0BAA0B;IAC/BnI,KAAK,EAAE,SAASuc,wBAAwBA,CAAC9F,KAAK,EAAE;MAC9C,OAAO,CAAC,CAACA,KAAK,CAACoG,aAAa;IAC9B;EACF,CAAC,EAAE;IACD1U,GAAG,EAAE,YAAY;IACjBnI,KAAK,EAAE,SAASsb,UAAUA,CAAC7E,KAAK,EAAE;MAChC,IAAIA,KAAK,CAACzO,MAAM,KAAK,IAAI,CAACwN,YAAY,EAAE;QACtC;MACF;MAEA,IAAI,CAAC,IAAI,CAAC+G,wBAAwB,CAAC9F,KAAK,CAAC,EAAE;QACzC;MACF;MAEAA,KAAK,CAACmB,cAAc,CAAC,CAAC;MACtB,IAAI,CAACqF,wBAAwB,CAACxG,KAAK,CAAC;IACtC;EACF,CAAC,EAAE;IACDtO,GAAG,EAAE,WAAW;IAChBnI,KAAK,EAAE,SAASub,SAASA,CAAC9E,KAAK,EAAE;MAC/B,IAAIA,KAAK,CAACzO,MAAM,KAAK,IAAI,CAACwN,YAAY,EAAE;QACtC;MACF;MAEA,IAAI,CAAC,IAAI,CAAC+G,wBAAwB,CAAC9F,KAAK,CAAC,EAAE;QACzC;MACF;MAEAA,KAAK,CAACmB,cAAc,CAAC,CAAC;MACtB,IAAI,CAACqF,wBAAwB,CAACxG,KAAK,CAAC;MACpC,IAAI2G,YAAY,GAAG,IAAI,CAACrI,KAAK;QACzBrL,cAAc,GAAG0T,YAAY,CAAC1T,cAAc;QAC5CC,YAAY,GAAGyT,YAAY,CAACzT,YAAY;MAC5C,IAAI0T,YAAY,GAAG,IAAI,CAAChY,KAAK;QACzBH,QAAQ,GAAGmY,YAAY,CAACnY,QAAQ;QAChClF,KAAK,GAAGqd,YAAY,CAACrd,KAAK;MAC9B,IAAIC,MAAM,GAAGgF,sBAAsB,CAACC,QAAQ,CAAC;MAC7C,IAAIwX,gBAAgB,GAAG5a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAEyJ,cAAc,EAAE,OAAO,CAAC;MAChF,IAAIiT,cAAc,GAAG7a,iBAAiB,CAAC9B,KAAK,EAAEC,MAAM,EAAE0J,YAAY,EAAE,KAAK,CAAC;MAC1E,IAAIjG,QAAQ,GAAG,CAAC1D,KAAK,CAAC+C,KAAK,CAAC,CAAC,EAAE2Z,gBAAgB,CAAC,EAAE1c,KAAK,CAAC+C,KAAK,CAAC4Z,cAAc,CAAC,CAAC,CAAChd,IAAI,CAAC,EAAE,CAAC;MACvF,IAAIuX,iBAAiB,GAAGvV,YAAY,CAAC+B,QAAQ,EAAEzD,MAAM,CAAC;MACtD,IAAIsX,SAAS,GAAG;QACdvP,MAAM,EAAEiJ,eAAe,CAACA,eAAe,CAAC,CAAC,CAAC,EAAEwF,KAAK,CAACzO,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE;UAC7DhI,KAAK,EAAEkX;QACT,CAAC;MACH,CAAC;MACD,IAAI,CAACM,eAAe,CAACD,SAAS,EAAE7T,QAAQ,EAAEwT,iBAAiB,EAAEnT,WAAW,CAAC/D,KAAK,EAAEC,MAAM,CAAC,CAAC;IAC1F,CAAC,CAAC;EAEJ,CAAC,CAAC,CAAC;EAEH,OAAOyT,aAAa;AACtB,CAAC,CAACnW,KAAK,CAAC+f,SAAS,CAAC;AAClB;AACA;AACA;AACA;;AAGAhgB,eAAe,CAACoW,aAAa,EAAE,WAAW,EAAE/H,SAAS,CAAC;AAEtDrO,eAAe,CAACoW,aAAa,EAAE,cAAc,EAAE;EAC7CtN,aAAa,EAAE,KAAK;EACpB2D,UAAU,EAAE,KAAK;EACjBoJ,2BAA2B,EAAE,KAAK;EAClCE,SAAS,EAAE,SAASA,SAASA,CAAA,EAAG;IAC9B,OAAO,IAAI;EACb,CAAC;EACDvE,QAAQ,EAAE,SAASA,QAAQA,CAAA,EAAG;IAC5B,OAAO,IAAI;EACb,CAAC;EACDwE,MAAM,EAAE,SAASA,MAAMA,CAAA,EAAG;IACxB,OAAO,IAAI;EACb;AACF,CAAC,CAAC;AAEF,IAAIqF,0BAA0B,GAAG,SAASA,0BAA0BA,CAAC4E,UAAU,EAAEC,YAAY,EAAE;EAC7F,IAAInd,MAAM,GAAGod,UAAU,CAACpF,MAAM,CAACqF,gBAAgB,CAACH,UAAU,EAAE,IAAI,CAAC,CAACI,gBAAgB,CAACH,YAAY,CAAC,CAAC;EACjG,OAAOI,QAAQ,CAACvd,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAC;AACtC,CAAC;AAED,IAAIwd,cAAc,GAAG,OAAOC,SAAS,KAAK,WAAW,IAAI,mBAAmB,CAACC,IAAI,CAACD,SAAS,CAACE,SAAS,CAAC;AACtG,IAAIC,QAAQ,GAAG1V,kBAAkB,CAAC;EAChC6B,QAAQ,EAAE,UAAU;EACpB8T,SAAS,EAAE,SAAS;EACpB1E,KAAK,EAAE;IACLjb,OAAO,EAAE,OAAO;IAChBkO,KAAK,EAAE,MAAM;IACbrC,QAAQ,EAAE,UAAU;IACpBwG,MAAM,EAAE,CAAC;IACT1G,GAAG,EAAE,CAAC;IACND,IAAI,EAAE,CAAC;IACPuC,SAAS,EAAE,YAAY;IACvBgE,eAAe,EAAE,aAAa;IAC9B2N,UAAU,EAAE,SAAS;IACrBC,QAAQ,EAAE,SAAS;IACnBC,aAAa,EAAE;EACjB,CAAC;EACD,YAAY,EAAE;IACZ7E,KAAK,EAAEvI,eAAe,CAAC;MACrBwI,MAAM,EAAE,MAAM;MACdjK,MAAM,EAAE,CAAC;MACT7C,QAAQ,EAAE,QAAQ;MAClB2R,MAAM,EAAE;IACV,CAAC,EAAET,cAAc,GAAG;MAClBpN,SAAS,EAAE,CAAC;MACZ8N,UAAU,EAAE,CAAC;IACf,CAAC,GAAG,IAAI;EACV;AACF,CAAC,EAAE,UAAUC,KAAK,EAAE;EAClB,IAAIzU,UAAU,GAAGyU,KAAK,CAACzU,UAAU;EACjC,OAAO;IACL,aAAa,EAAEA,UAAU;IACzB,YAAY,EAAE,CAACA;EACjB,CAAC;AACH,CAAC,CAAC;AACF,IAAI0U,eAAe,GAAGR,QAAQ,CAACvK,aAAa,CAAC;AAE7C,IAAIlL,YAAY,GAAG;EACjBkW,UAAU,EAAE;AACd,CAAC;AAED,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACje,IAAI,EAAE;EACnC,IAAInC,OAAO,GAAGmC,IAAI,CAACnC,OAAO;IACtBsK,KAAK,GAAGnI,IAAI,CAACmI,KAAK;IAClBC,SAAS,GAAGpI,IAAI,CAACoI,SAAS;IAC1BC,UAAU,GAAGrI,IAAI,CAACqI,UAAU;EAChC,IAAIE,MAAM,GAAGnL,SAAS,CAAC0K,YAAY,EAAE;IACnCK,KAAK,EAAEA,KAAK;IACZC,SAAS,EAAEA,SAAS;IACpBC,UAAU,EAAEA;EACd,CAAC,CAAC;EACF,OAAO,aAAaxL,KAAK,CAAC2L,aAAa,CAAC,QAAQ,EAAED,MAAM,EAAE1K,OAAO,CAAC;AACpE,CAAC;AAEDogB,OAAO,CAAChT,SAAS,GAAG;EAClB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEsP,KAAK,EAAEjd,SAAS,CAAC8N,IAAI;EACrB8S,QAAQ,EAAE5gB,SAAS,CAAC8N,IAAI;EACxByB,gBAAgB,EAAEvP,SAAS,CAAC8N,IAAI;EAChCsG,OAAO,EAAEpU,SAAS,CAAC+N,SAAS,CAAC,CAAC/N,SAAS,CAACuN,MAAM,EAAEvN,SAAS,CAACoO,UAAU,CAAClN,MAAM,CAAC,CAAC,CAAC;EAC9ET,MAAM,EAAET,SAAS,CAACuN,MAAM;EACxBnK,gBAAgB,EAAEpD,SAAS,CAAC8N,IAAI;EAEhC;AACF;AACA;EACEwG,iBAAiB,EAAEtU,SAAS,CAAC8P,IAAI;EACjCa,SAAS,EAAE3Q,SAAS,CAAC8P;AACvB,CAAC;AACD6Q,OAAO,CAACE,YAAY,GAAG;EACrBzM,OAAO,EAAE,GAAG;EACZ3T,MAAM,EAAE,wBAAwB;EAChC2C,gBAAgB,EAAE,SAASA,gBAAgBA,CAAC9C,EAAE,EAAEC,OAAO,EAAE;IACvD,OAAOA,OAAO,IAAID,EAAE;EACtB,CAAC;EACD2c,KAAK,EAAE,SAASA,KAAKA,CAAA,EAAG;IACtB,OAAO,IAAI;EACb,CAAC;EACD2D,QAAQ,EAAE,SAASA,QAAQA,CAAA,EAAG;IAC5B,OAAO,IAAI;EACb,CAAC;EACDrR,gBAAgB,EAAE,IAAI;EACtBoB,SAAS,EAAE,KAAK;EAChBqM,gBAAgB,EAAE;AACpB,CAAC;AAED,SAAS2D,OAAO,EAAEF,eAAe,IAAI/K,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}